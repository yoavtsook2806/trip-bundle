var _y=Object.defineProperty;var wy=(e,t,n)=>t in e?_y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var we=(e,t,n)=>wy(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Sy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Nh={exports:{}},po={},jh={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ui=Symbol.for("react.element"),Ey=Symbol.for("react.portal"),ky=Symbol.for("react.fragment"),by=Symbol.for("react.strict_mode"),xy=Symbol.for("react.profiler"),Cy=Symbol.for("react.provider"),Ay=Symbol.for("react.context"),Oy=Symbol.for("react.forward_ref"),Ry=Symbol.for("react.suspense"),Ty=Symbol.for("react.memo"),Py=Symbol.for("react.lazy"),Pf=Symbol.iterator;function Dy(e){return e===null||typeof e!="object"?null:(e=Pf&&e[Pf]||e["@@iterator"],typeof e=="function"?e:null)}var Mh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Lh=Object.assign,Fh={};function Qr(e,t,n){this.props=e,this.context=t,this.refs=Fh,this.updater=n||Mh}Qr.prototype.isReactComponent={};Qr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Qr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function $h(){}$h.prototype=Qr.prototype;function ec(e,t,n){this.props=e,this.context=t,this.refs=Fh,this.updater=n||Mh}var tc=ec.prototype=new $h;tc.constructor=ec;Lh(tc,Qr.prototype);tc.isPureReactComponent=!0;var Df=Array.isArray,Bh=Object.prototype.hasOwnProperty,nc={current:null},Uh={key:!0,ref:!0,__self:!0,__source:!0};function zh(e,t,n){var r,s={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Bh.call(t,r)&&!Uh.hasOwnProperty(r)&&(s[r]=t[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:ui,type:e,key:i,ref:a,props:s,_owner:nc.current}}function Iy(e,t){return{$$typeof:ui,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function rc(e){return typeof e=="object"&&e!==null&&e.$$typeof===ui}function Ny(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var If=/\/+/g;function Go(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ny(""+e.key):t.toString(36)}function ea(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ui:case Ey:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+Go(a,0):r,Df(s)?(n="",e!=null&&(n=e.replace(If,"$&/")+"/"),ea(s,t,n,"",function(u){return u})):s!=null&&(rc(s)&&(s=Iy(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(If,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",Df(e))for(var o=0;o<e.length;o++){i=e[o];var l=r+Go(i,o);a+=ea(i,t,n,l,s)}else if(l=Dy(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=r+Go(i,o++),a+=ea(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function xi(e,t,n){if(e==null)return e;var r=[],s=0;return ea(e,r,"","",function(i){return t.call(n,i,s++)}),r}function jy(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var je={current:null},ta={transition:null},My={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:ta,ReactCurrentOwner:nc};function Vh(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:xi,forEach:function(e,t,n){xi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return xi(e,function(){t++}),t},toArray:function(e){return xi(e,function(t){return t})||[]},only:function(e){if(!rc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};G.Component=Qr;G.Fragment=ky;G.Profiler=xy;G.PureComponent=ec;G.StrictMode=by;G.Suspense=Ry;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=My;G.act=Vh;G.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Lh({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=nc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)Bh.call(t,l)&&!Uh.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:ui,type:e.type,key:s,ref:i,props:r,_owner:a}};G.createContext=function(e){return e={$$typeof:Ay,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Cy,_context:e},e.Consumer=e};G.createElement=zh;G.createFactory=function(e){var t=zh.bind(null,e);return t.type=e,t};G.createRef=function(){return{current:null}};G.forwardRef=function(e){return{$$typeof:Oy,render:e}};G.isValidElement=rc;G.lazy=function(e){return{$$typeof:Py,_payload:{_status:-1,_result:e},_init:jy}};G.memo=function(e,t){return{$$typeof:Ty,type:e,compare:t===void 0?null:t}};G.startTransition=function(e){var t=ta.transition;ta.transition={};try{e()}finally{ta.transition=t}};G.unstable_act=Vh;G.useCallback=function(e,t){return je.current.useCallback(e,t)};G.useContext=function(e){return je.current.useContext(e)};G.useDebugValue=function(){};G.useDeferredValue=function(e){return je.current.useDeferredValue(e)};G.useEffect=function(e,t){return je.current.useEffect(e,t)};G.useId=function(){return je.current.useId()};G.useImperativeHandle=function(e,t,n){return je.current.useImperativeHandle(e,t,n)};G.useInsertionEffect=function(e,t){return je.current.useInsertionEffect(e,t)};G.useLayoutEffect=function(e,t){return je.current.useLayoutEffect(e,t)};G.useMemo=function(e,t){return je.current.useMemo(e,t)};G.useReducer=function(e,t,n){return je.current.useReducer(e,t,n)};G.useRef=function(e){return je.current.useRef(e)};G.useState=function(e){return je.current.useState(e)};G.useSyncExternalStore=function(e,t,n){return je.current.useSyncExternalStore(e,t,n)};G.useTransition=function(){return je.current.useTransition()};G.version="18.3.1";jh.exports=G;var Z=jh.exports;const jl=Sy(Z);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly=Z,Fy=Symbol.for("react.element"),$y=Symbol.for("react.fragment"),By=Object.prototype.hasOwnProperty,Uy=Ly.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zy={key:!0,ref:!0,__self:!0,__source:!0};function Wh(e,t,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)By.call(t,r)&&!zy.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Fy,type:e,key:i,ref:a,props:s,_owner:Uy.current}}po.Fragment=$y;po.jsx=Wh;po.jsxs=Wh;Nh.exports=po;var _=Nh.exports,Ml={},Hh={exports:{}},Ze={},Gh={exports:{}},Kh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,j){var F=A.length;A.push(j);e:for(;0<F;){var Q=F-1>>>1,se=A[Q];if(0<s(se,j))A[Q]=j,A[F]=se,F=Q;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var j=A[0],F=A.pop();if(F!==j){A[0]=F;e:for(var Q=0,se=A.length,Ut=se>>>1;Q<Ut;){var rt=2*(Q+1)-1,ur=A[rt],Nn=rt+1,bi=A[Nn];if(0>s(ur,F))Nn<se&&0>s(bi,ur)?(A[Q]=bi,A[Nn]=F,Q=Nn):(A[Q]=ur,A[rt]=F,Q=rt);else if(Nn<se&&0>s(bi,F))A[Q]=bi,A[Nn]=F,Q=Nn;else break e}}return j}function s(A,j){var F=A.sortIndex-j.sortIndex;return F!==0?F:A.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,d=null,h=3,m=!1,S=!1,E=!1,O=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(A){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=A)r(u),j.sortIndex=j.expirationTime,t(l,j);else break;j=n(u)}}function y(A){if(E=!1,p(A),!S)if(n(l)!==null)S=!0,H(b);else{var j=n(u);j!==null&&q(y,j.startTime-A)}}function b(A,j){S=!1,E&&(E=!1,g(P),P=-1),m=!0;var F=h;try{for(p(j),d=n(l);d!==null&&(!(d.expirationTime>j)||A&&!V());){var Q=d.callback;if(typeof Q=="function"){d.callback=null,h=d.priorityLevel;var se=Q(d.expirationTime<=j);j=e.unstable_now(),typeof se=="function"?d.callback=se:d===n(l)&&r(l),p(j)}else r(l);d=n(l)}if(d!==null)var Ut=!0;else{var rt=n(u);rt!==null&&q(y,rt.startTime-j),Ut=!1}return Ut}finally{d=null,h=F,m=!1}}var x=!1,k=null,P=-1,B=5,I=-1;function V(){return!(e.unstable_now()-I<B)}function Le(){if(k!==null){var A=e.unstable_now();I=A;var j=!0;try{j=k(!0,A)}finally{j?nt():(x=!1,k=null)}}else x=!1}var nt;if(typeof f=="function")nt=function(){f(Le)};else if(typeof MessageChannel<"u"){var In=new MessageChannel,on=In.port2;In.port1.onmessage=Le,nt=function(){on.postMessage(null)}}else nt=function(){O(Le,0)};function H(A){k=A,x||(x=!0,nt())}function q(A,j){P=O(function(){A(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){S||m||(S=!0,H(b))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(A){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var F=h;h=j;try{return A()}finally{h=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,j){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var F=h;h=A;try{return j()}finally{h=F}},e.unstable_scheduleCallback=function(A,j,F){var Q=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?Q+F:Q):F=Q,A){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=F+se,A={id:c++,callback:j,priorityLevel:A,startTime:F,expirationTime:se,sortIndex:-1},F>Q?(A.sortIndex=F,t(u,A),n(l)===null&&A===n(u)&&(E?(g(P),P=-1):E=!0,q(y,F-Q))):(A.sortIndex=se,t(l,A),S||m||(S=!0,H(b))),A},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(A){var j=h;return function(){var F=h;h=j;try{return A.apply(this,arguments)}finally{h=F}}}})(Kh);Gh.exports=Kh;var Vy=Gh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy=Z,Xe=Vy;function C(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Yh=new Set,Us={};function rr(e,t){Ur(e,t),Ur(e+"Capture",t)}function Ur(e,t){for(Us[e]=t,e=0;e<t.length;e++)Yh.add(t[e])}var Zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ll=Object.prototype.hasOwnProperty,Hy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Nf={},jf={};function Gy(e){return Ll.call(jf,e)?!0:Ll.call(Nf,e)?!1:Hy.test(e)?jf[e]=!0:(Nf[e]=!0,!1)}function Ky(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Yy(e,t,n,r){if(t===null||typeof t>"u"||Ky(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Me(e,t,n,r,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ce[e]=new Me(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ce[t]=new Me(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ce[e]=new Me(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ce[e]=new Me(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ce[e]=new Me(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ce[e]=new Me(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ce[e]=new Me(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ce[e]=new Me(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ce[e]=new Me(e,5,!1,e.toLowerCase(),null,!1,!1)});var sc=/[\-:]([a-z])/g;function ic(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(sc,ic);Ce[t]=new Me(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(sc,ic);Ce[t]=new Me(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(sc,ic);Ce[t]=new Me(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ce[e]=new Me(e,1,!1,e.toLowerCase(),null,!1,!1)});Ce.xlinkHref=new Me("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ce[e]=new Me(e,1,!1,e.toLowerCase(),null,!0,!0)});function ac(e,t,n,r){var s=Ce.hasOwnProperty(t)?Ce[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Yy(t,n,s,r)&&(n=null),r||s===null?Gy(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var an=Wy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ci=Symbol.for("react.element"),_r=Symbol.for("react.portal"),wr=Symbol.for("react.fragment"),oc=Symbol.for("react.strict_mode"),Fl=Symbol.for("react.profiler"),Jh=Symbol.for("react.provider"),qh=Symbol.for("react.context"),lc=Symbol.for("react.forward_ref"),$l=Symbol.for("react.suspense"),Bl=Symbol.for("react.suspense_list"),uc=Symbol.for("react.memo"),fn=Symbol.for("react.lazy"),Qh=Symbol.for("react.offscreen"),Mf=Symbol.iterator;function rs(e){return e===null||typeof e!="object"?null:(e=Mf&&e[Mf]||e["@@iterator"],typeof e=="function"?e:null)}var le=Object.assign,Ko;function hs(e){if(Ko===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ko=t&&t[1]||""}return`
`+Ko+e}var Yo=!1;function Jo(e,t){if(!e||Yo)return"";Yo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{Yo=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?hs(e):""}function Jy(e){switch(e.tag){case 5:return hs(e.type);case 16:return hs("Lazy");case 13:return hs("Suspense");case 19:return hs("SuspenseList");case 0:case 2:case 15:return e=Jo(e.type,!1),e;case 11:return e=Jo(e.type.render,!1),e;case 1:return e=Jo(e.type,!0),e;default:return""}}function Ul(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case wr:return"Fragment";case _r:return"Portal";case Fl:return"Profiler";case oc:return"StrictMode";case $l:return"Suspense";case Bl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qh:return(e.displayName||"Context")+".Consumer";case Jh:return(e._context.displayName||"Context")+".Provider";case lc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case uc:return t=e.displayName||null,t!==null?t:Ul(e.type)||"Memo";case fn:t=e._payload,e=e._init;try{return Ul(e(t))}catch{}}return null}function qy(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ul(t);case 8:return t===oc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Cn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Qy(e){var t=Xh(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ai(e){e._valueTracker||(e._valueTracker=Qy(e))}function Zh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Xh(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function xa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function zl(e,t){var n=t.checked;return le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Lf(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Cn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ep(e,t){t=t.checked,t!=null&&ac(e,"checked",t,!1)}function Vl(e,t){ep(e,t);var n=Cn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Wl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Wl(e,t.type,Cn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ff(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Wl(e,t,n){(t!=="number"||xa(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ps=Array.isArray;function jr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Cn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Hl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(C(91));return le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $f(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(C(92));if(ps(n)){if(1<n.length)throw Error(C(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Cn(n)}}function tp(e,t){var n=Cn(t.value),r=Cn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Bf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function np(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?np(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Oi,rp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Oi=Oi||document.createElement("div"),Oi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Oi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Cs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xy=["Webkit","ms","Moz","O"];Object.keys(Cs).forEach(function(e){Xy.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Cs[t]=Cs[e]})});function sp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Cs.hasOwnProperty(e)&&Cs[e]?(""+t).trim():t+"px"}function ip(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=sp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Zy=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kl(e,t){if(t){if(Zy[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(C(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(C(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(C(61))}if(t.style!=null&&typeof t.style!="object")throw Error(C(62))}}function Yl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jl=null;function cc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ql=null,Mr=null,Lr=null;function Uf(e){if(e=di(e)){if(typeof ql!="function")throw Error(C(280));var t=e.stateNode;t&&(t=_o(t),ql(e.stateNode,e.type,t))}}function ap(e){Mr?Lr?Lr.push(e):Lr=[e]:Mr=e}function op(){if(Mr){var e=Mr,t=Lr;if(Lr=Mr=null,Uf(e),t)for(e=0;e<t.length;e++)Uf(t[e])}}function lp(e,t){return e(t)}function up(){}var qo=!1;function cp(e,t,n){if(qo)return e(t,n);qo=!0;try{return lp(e,t,n)}finally{qo=!1,(Mr!==null||Lr!==null)&&(up(),op())}}function Vs(e,t){var n=e.stateNode;if(n===null)return null;var r=_o(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(C(231,t,typeof n));return n}var Ql=!1;if(Zt)try{var ss={};Object.defineProperty(ss,"passive",{get:function(){Ql=!0}}),window.addEventListener("test",ss,ss),window.removeEventListener("test",ss,ss)}catch{Ql=!1}function e_(e,t,n,r,s,i,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var As=!1,Ca=null,Aa=!1,Xl=null,t_={onError:function(e){As=!0,Ca=e}};function n_(e,t,n,r,s,i,a,o,l){As=!1,Ca=null,e_.apply(t_,arguments)}function r_(e,t,n,r,s,i,a,o,l){if(n_.apply(this,arguments),As){if(As){var u=Ca;As=!1,Ca=null}else throw Error(C(198));Aa||(Aa=!0,Xl=u)}}function sr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function fp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function zf(e){if(sr(e)!==e)throw Error(C(188))}function s_(e){var t=e.alternate;if(!t){if(t=sr(e),t===null)throw Error(C(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return zf(s),e;if(i===r)return zf(s),t;i=i.sibling}throw Error(C(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a)throw Error(C(189))}}if(n.alternate!==r)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?e:t}function dp(e){return e=s_(e),e!==null?hp(e):null}function hp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=hp(e);if(t!==null)return t;e=e.sibling}return null}var pp=Xe.unstable_scheduleCallback,Vf=Xe.unstable_cancelCallback,i_=Xe.unstable_shouldYield,a_=Xe.unstable_requestPaint,ce=Xe.unstable_now,o_=Xe.unstable_getCurrentPriorityLevel,fc=Xe.unstable_ImmediatePriority,mp=Xe.unstable_UserBlockingPriority,Oa=Xe.unstable_NormalPriority,l_=Xe.unstable_LowPriority,gp=Xe.unstable_IdlePriority,mo=null,Mt=null;function u_(e){if(Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(mo,e,void 0,(e.current.flags&128)===128)}catch{}}var wt=Math.clz32?Math.clz32:d_,c_=Math.log,f_=Math.LN2;function d_(e){return e>>>=0,e===0?32:31-(c_(e)/f_|0)|0}var Ri=64,Ti=4194304;function ms(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ra(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~s;o!==0?r=ms(o):(i&=a,i!==0&&(r=ms(i)))}else a=n&~s,a!==0?r=ms(a):i!==0&&(r=ms(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-wt(t),s=1<<n,r|=e[n],t&=~s;return r}function h_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function p_(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-wt(i),o=1<<a,l=s[a];l===-1?(!(o&n)||o&r)&&(s[a]=h_(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function Zl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function vp(){var e=Ri;return Ri<<=1,!(Ri&4194240)&&(Ri=64),e}function Qo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ci(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wt(t),e[t]=n}function m_(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-wt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function dc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-wt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var X=0;function yp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var _p,hc,wp,Sp,Ep,eu=!1,Pi=[],yn=null,_n=null,wn=null,Ws=new Map,Hs=new Map,hn=[],g_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wf(e,t){switch(e){case"focusin":case"focusout":yn=null;break;case"dragenter":case"dragleave":_n=null;break;case"mouseover":case"mouseout":wn=null;break;case"pointerover":case"pointerout":Ws.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hs.delete(t.pointerId)}}function is(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=di(t),t!==null&&hc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function v_(e,t,n,r,s){switch(t){case"focusin":return yn=is(yn,e,t,n,r,s),!0;case"dragenter":return _n=is(_n,e,t,n,r,s),!0;case"mouseover":return wn=is(wn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ws.set(i,is(Ws.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Hs.set(i,is(Hs.get(i)||null,e,t,n,r,s)),!0}return!1}function kp(e){var t=$n(e.target);if(t!==null){var n=sr(t);if(n!==null){if(t=n.tag,t===13){if(t=fp(n),t!==null){e.blockedOn=t,Ep(e.priority,function(){wp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function na(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=tu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Jl=r,n.target.dispatchEvent(r),Jl=null}else return t=di(n),t!==null&&hc(t),e.blockedOn=n,!1;t.shift()}return!0}function Hf(e,t,n){na(e)&&n.delete(t)}function y_(){eu=!1,yn!==null&&na(yn)&&(yn=null),_n!==null&&na(_n)&&(_n=null),wn!==null&&na(wn)&&(wn=null),Ws.forEach(Hf),Hs.forEach(Hf)}function as(e,t){e.blockedOn===t&&(e.blockedOn=null,eu||(eu=!0,Xe.unstable_scheduleCallback(Xe.unstable_NormalPriority,y_)))}function Gs(e){function t(s){return as(s,e)}if(0<Pi.length){as(Pi[0],e);for(var n=1;n<Pi.length;n++){var r=Pi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(yn!==null&&as(yn,e),_n!==null&&as(_n,e),wn!==null&&as(wn,e),Ws.forEach(t),Hs.forEach(t),n=0;n<hn.length;n++)r=hn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<hn.length&&(n=hn[0],n.blockedOn===null);)kp(n),n.blockedOn===null&&hn.shift()}var Fr=an.ReactCurrentBatchConfig,Ta=!0;function __(e,t,n,r){var s=X,i=Fr.transition;Fr.transition=null;try{X=1,pc(e,t,n,r)}finally{X=s,Fr.transition=i}}function w_(e,t,n,r){var s=X,i=Fr.transition;Fr.transition=null;try{X=4,pc(e,t,n,r)}finally{X=s,Fr.transition=i}}function pc(e,t,n,r){if(Ta){var s=tu(e,t,n,r);if(s===null)ol(e,t,r,Pa,n),Wf(e,r);else if(v_(s,e,t,n,r))r.stopPropagation();else if(Wf(e,r),t&4&&-1<g_.indexOf(e)){for(;s!==null;){var i=di(s);if(i!==null&&_p(i),i=tu(e,t,n,r),i===null&&ol(e,t,r,Pa,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ol(e,t,r,null,n)}}var Pa=null;function tu(e,t,n,r){if(Pa=null,e=cc(r),e=$n(e),e!==null)if(t=sr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=fp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Pa=e,null}function bp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(o_()){case fc:return 1;case mp:return 4;case Oa:case l_:return 16;case gp:return 536870912;default:return 16}default:return 16}}var mn=null,mc=null,ra=null;function xp(){if(ra)return ra;var e,t=mc,n=t.length,r,s="value"in mn?mn.value:mn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[i-r];r++);return ra=s.slice(e,1<r?1-r:void 0)}function sa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Di(){return!0}function Gf(){return!1}function et(e){function t(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Di:Gf,this.isPropagationStopped=Gf,this}return le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),t}var Xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gc=et(Xr),fi=le({},Xr,{view:0,detail:0}),S_=et(fi),Xo,Zo,os,go=le({},fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==os&&(os&&e.type==="mousemove"?(Xo=e.screenX-os.screenX,Zo=e.screenY-os.screenY):Zo=Xo=0,os=e),Xo)},movementY:function(e){return"movementY"in e?e.movementY:Zo}}),Kf=et(go),E_=le({},go,{dataTransfer:0}),k_=et(E_),b_=le({},fi,{relatedTarget:0}),el=et(b_),x_=le({},Xr,{animationName:0,elapsedTime:0,pseudoElement:0}),C_=et(x_),A_=le({},Xr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),O_=et(A_),R_=le({},Xr,{data:0}),Yf=et(R_),T_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},P_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},D_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function I_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=D_[e])?!!t[e]:!1}function vc(){return I_}var N_=le({},fi,{key:function(e){if(e.key){var t=T_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=sa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?P_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vc,charCode:function(e){return e.type==="keypress"?sa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?sa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),j_=et(N_),M_=le({},go,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jf=et(M_),L_=le({},fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vc}),F_=et(L_),$_=le({},Xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),B_=et($_),U_=le({},go,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),z_=et(U_),V_=[9,13,27,32],yc=Zt&&"CompositionEvent"in window,Os=null;Zt&&"documentMode"in document&&(Os=document.documentMode);var W_=Zt&&"TextEvent"in window&&!Os,Cp=Zt&&(!yc||Os&&8<Os&&11>=Os),qf=" ",Qf=!1;function Ap(e,t){switch(e){case"keyup":return V_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Op(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sr=!1;function H_(e,t){switch(e){case"compositionend":return Op(t);case"keypress":return t.which!==32?null:(Qf=!0,qf);case"textInput":return e=t.data,e===qf&&Qf?null:e;default:return null}}function G_(e,t){if(Sr)return e==="compositionend"||!yc&&Ap(e,t)?(e=xp(),ra=mc=mn=null,Sr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cp&&t.locale!=="ko"?null:t.data;default:return null}}var K_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!K_[e.type]:t==="textarea"}function Rp(e,t,n,r){ap(r),t=Da(t,"onChange"),0<t.length&&(n=new gc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Rs=null,Ks=null;function Y_(e){Bp(e,0)}function vo(e){var t=br(e);if(Zh(t))return e}function J_(e,t){if(e==="change")return t}var Tp=!1;if(Zt){var tl;if(Zt){var nl="oninput"in document;if(!nl){var Zf=document.createElement("div");Zf.setAttribute("oninput","return;"),nl=typeof Zf.oninput=="function"}tl=nl}else tl=!1;Tp=tl&&(!document.documentMode||9<document.documentMode)}function ed(){Rs&&(Rs.detachEvent("onpropertychange",Pp),Ks=Rs=null)}function Pp(e){if(e.propertyName==="value"&&vo(Ks)){var t=[];Rp(t,Ks,e,cc(e)),cp(Y_,t)}}function q_(e,t,n){e==="focusin"?(ed(),Rs=t,Ks=n,Rs.attachEvent("onpropertychange",Pp)):e==="focusout"&&ed()}function Q_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vo(Ks)}function X_(e,t){if(e==="click")return vo(t)}function Z_(e,t){if(e==="input"||e==="change")return vo(t)}function ew(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bt=typeof Object.is=="function"?Object.is:ew;function Ys(e,t){if(bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ll.call(t,s)||!bt(e[s],t[s]))return!1}return!0}function td(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nd(e,t){var n=td(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=td(n)}}function Dp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Dp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ip(){for(var e=window,t=xa();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=xa(e.document)}return t}function _c(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function tw(e){var t=Ip(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Dp(n.ownerDocument.documentElement,n)){if(r!==null&&_c(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=nd(n,i);var a=nd(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var nw=Zt&&"documentMode"in document&&11>=document.documentMode,Er=null,nu=null,Ts=null,ru=!1;function rd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ru||Er==null||Er!==xa(r)||(r=Er,"selectionStart"in r&&_c(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ts&&Ys(Ts,r)||(Ts=r,r=Da(nu,"onSelect"),0<r.length&&(t=new gc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Er)))}function Ii(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:Ii("Animation","AnimationEnd"),animationiteration:Ii("Animation","AnimationIteration"),animationstart:Ii("Animation","AnimationStart"),transitionend:Ii("Transition","TransitionEnd")},rl={},Np={};Zt&&(Np=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);function yo(e){if(rl[e])return rl[e];if(!kr[e])return e;var t=kr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Np)return rl[e]=t[n];return e}var jp=yo("animationend"),Mp=yo("animationiteration"),Lp=yo("animationstart"),Fp=yo("transitionend"),$p=new Map,sd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function On(e,t){$p.set(e,t),rr(t,[e])}for(var sl=0;sl<sd.length;sl++){var il=sd[sl],rw=il.toLowerCase(),sw=il[0].toUpperCase()+il.slice(1);On(rw,"on"+sw)}On(jp,"onAnimationEnd");On(Mp,"onAnimationIteration");On(Lp,"onAnimationStart");On("dblclick","onDoubleClick");On("focusin","onFocus");On("focusout","onBlur");On(Fp,"onTransitionEnd");Ur("onMouseEnter",["mouseout","mouseover"]);Ur("onMouseLeave",["mouseout","mouseover"]);Ur("onPointerEnter",["pointerout","pointerover"]);Ur("onPointerLeave",["pointerout","pointerover"]);rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));rr("onBeforeInput",["compositionend","keypress","textInput","paste"]);rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iw=new Set("cancel close invalid load scroll toggle".split(" ").concat(gs));function id(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,r_(r,t,void 0,e),e.currentTarget=null}function Bp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;id(s,o,u),i=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;id(s,o,u),i=l}}}if(Aa)throw e=Xl,Aa=!1,Xl=null,e}function ne(e,t){var n=t[lu];n===void 0&&(n=t[lu]=new Set);var r=e+"__bubble";n.has(r)||(Up(t,e,2,!1),n.add(r))}function al(e,t,n){var r=0;t&&(r|=4),Up(n,e,r,t)}var Ni="_reactListening"+Math.random().toString(36).slice(2);function Js(e){if(!e[Ni]){e[Ni]=!0,Yh.forEach(function(n){n!=="selectionchange"&&(iw.has(n)||al(n,!1,e),al(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ni]||(t[Ni]=!0,al("selectionchange",!1,t))}}function Up(e,t,n,r){switch(bp(t)){case 1:var s=__;break;case 4:s=w_;break;default:s=pc}n=s.bind(null,t,n,e),s=void 0,!Ql||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function ol(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=$n(o),a===null)return;if(l=a.tag,l===5||l===6){r=i=a;continue e}o=o.parentNode}}r=r.return}cp(function(){var u=i,c=cc(n),d=[];e:{var h=$p.get(e);if(h!==void 0){var m=gc,S=e;switch(e){case"keypress":if(sa(n)===0)break e;case"keydown":case"keyup":m=j_;break;case"focusin":S="focus",m=el;break;case"focusout":S="blur",m=el;break;case"beforeblur":case"afterblur":m=el;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Kf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=k_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=F_;break;case jp:case Mp:case Lp:m=C_;break;case Fp:m=B_;break;case"scroll":m=S_;break;case"wheel":m=z_;break;case"copy":case"cut":case"paste":m=O_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Jf}var E=(t&4)!==0,O=!E&&e==="scroll",g=E?h!==null?h+"Capture":null:h;E=[];for(var f=u,p;f!==null;){p=f;var y=p.stateNode;if(p.tag===5&&y!==null&&(p=y,g!==null&&(y=Vs(f,g),y!=null&&E.push(qs(f,y,p)))),O)break;f=f.return}0<E.length&&(h=new m(h,S,null,n,c),d.push({event:h,listeners:E}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==Jl&&(S=n.relatedTarget||n.fromElement)&&($n(S)||S[en]))break e;if((m||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,m?(S=n.relatedTarget||n.toElement,m=u,S=S?$n(S):null,S!==null&&(O=sr(S),S!==O||S.tag!==5&&S.tag!==6)&&(S=null)):(m=null,S=u),m!==S)){if(E=Kf,y="onMouseLeave",g="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(E=Jf,y="onPointerLeave",g="onPointerEnter",f="pointer"),O=m==null?h:br(m),p=S==null?h:br(S),h=new E(y,f+"leave",m,n,c),h.target=O,h.relatedTarget=p,y=null,$n(c)===u&&(E=new E(g,f+"enter",S,n,c),E.target=p,E.relatedTarget=O,y=E),O=y,m&&S)t:{for(E=m,g=S,f=0,p=E;p;p=cr(p))f++;for(p=0,y=g;y;y=cr(y))p++;for(;0<f-p;)E=cr(E),f--;for(;0<p-f;)g=cr(g),p--;for(;f--;){if(E===g||g!==null&&E===g.alternate)break t;E=cr(E),g=cr(g)}E=null}else E=null;m!==null&&ad(d,h,m,E,!1),S!==null&&O!==null&&ad(d,O,S,E,!0)}}e:{if(h=u?br(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var b=J_;else if(Xf(h))if(Tp)b=Z_;else{b=Q_;var x=q_}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=X_);if(b&&(b=b(e,u))){Rp(d,b,n,c);break e}x&&x(e,h,u),e==="focusout"&&(x=h._wrapperState)&&x.controlled&&h.type==="number"&&Wl(h,"number",h.value)}switch(x=u?br(u):window,e){case"focusin":(Xf(x)||x.contentEditable==="true")&&(Er=x,nu=u,Ts=null);break;case"focusout":Ts=nu=Er=null;break;case"mousedown":ru=!0;break;case"contextmenu":case"mouseup":case"dragend":ru=!1,rd(d,n,c);break;case"selectionchange":if(nw)break;case"keydown":case"keyup":rd(d,n,c)}var k;if(yc)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Sr?Ap(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Cp&&n.locale!=="ko"&&(Sr||P!=="onCompositionStart"?P==="onCompositionEnd"&&Sr&&(k=xp()):(mn=c,mc="value"in mn?mn.value:mn.textContent,Sr=!0)),x=Da(u,P),0<x.length&&(P=new Yf(P,e,null,n,c),d.push({event:P,listeners:x}),k?P.data=k:(k=Op(n),k!==null&&(P.data=k)))),(k=W_?H_(e,n):G_(e,n))&&(u=Da(u,"onBeforeInput"),0<u.length&&(c=new Yf("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=k))}Bp(d,t)})}function qs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Da(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Vs(e,n),i!=null&&r.unshift(qs(e,i,s)),i=Vs(e,t),i!=null&&r.push(qs(e,i,s))),e=e.return}return r}function cr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ad(e,t,n,r,s){for(var i=t._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,s?(l=Vs(n,i),l!=null&&a.unshift(qs(n,l,o))):s||(l=Vs(n,i),l!=null&&a.push(qs(n,l,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var aw=/\r\n?/g,ow=/\u0000|\uFFFD/g;function od(e){return(typeof e=="string"?e:""+e).replace(aw,`
`).replace(ow,"")}function ji(e,t,n){if(t=od(t),od(e)!==t&&n)throw Error(C(425))}function Ia(){}var su=null,iu=null;function au(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ou=typeof setTimeout=="function"?setTimeout:void 0,lw=typeof clearTimeout=="function"?clearTimeout:void 0,ld=typeof Promise=="function"?Promise:void 0,uw=typeof queueMicrotask=="function"?queueMicrotask:typeof ld<"u"?function(e){return ld.resolve(null).then(e).catch(cw)}:ou;function cw(e){setTimeout(function(){throw e})}function ll(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Gs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Gs(t)}function Sn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ud(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Zr=Math.random().toString(36).slice(2),Dt="__reactFiber$"+Zr,Qs="__reactProps$"+Zr,en="__reactContainer$"+Zr,lu="__reactEvents$"+Zr,fw="__reactListeners$"+Zr,dw="__reactHandles$"+Zr;function $n(e){var t=e[Dt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[en]||n[Dt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ud(e);e!==null;){if(n=e[Dt])return n;e=ud(e)}return t}e=n,n=e.parentNode}return null}function di(e){return e=e[Dt]||e[en],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function br(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(C(33))}function _o(e){return e[Qs]||null}var uu=[],xr=-1;function Rn(e){return{current:e}}function re(e){0>xr||(e.current=uu[xr],uu[xr]=null,xr--)}function ee(e,t){xr++,uu[xr]=e.current,e.current=t}var An={},Pe=Rn(An),Ue=Rn(!1),Kn=An;function zr(e,t){var n=e.type.contextTypes;if(!n)return An;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ze(e){return e=e.childContextTypes,e!=null}function Na(){re(Ue),re(Pe)}function cd(e,t,n){if(Pe.current!==An)throw Error(C(168));ee(Pe,t),ee(Ue,n)}function zp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(C(108,qy(e)||"Unknown",s));return le({},n,r)}function ja(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||An,Kn=Pe.current,ee(Pe,e),ee(Ue,Ue.current),!0}function fd(e,t,n){var r=e.stateNode;if(!r)throw Error(C(169));n?(e=zp(e,t,Kn),r.__reactInternalMemoizedMergedChildContext=e,re(Ue),re(Pe),ee(Pe,e)):re(Ue),ee(Ue,n)}var Ht=null,wo=!1,ul=!1;function Vp(e){Ht===null?Ht=[e]:Ht.push(e)}function hw(e){wo=!0,Vp(e)}function Tn(){if(!ul&&Ht!==null){ul=!0;var e=0,t=X;try{var n=Ht;for(X=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ht=null,wo=!1}catch(s){throw Ht!==null&&(Ht=Ht.slice(e+1)),pp(fc,Tn),s}finally{X=t,ul=!1}}return null}var Cr=[],Ar=0,Ma=null,La=0,st=[],it=0,Yn=null,Yt=1,Jt="";function jn(e,t){Cr[Ar++]=La,Cr[Ar++]=Ma,Ma=e,La=t}function Wp(e,t,n){st[it++]=Yt,st[it++]=Jt,st[it++]=Yn,Yn=e;var r=Yt;e=Jt;var s=32-wt(r)-1;r&=~(1<<s),n+=1;var i=32-wt(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Yt=1<<32-wt(t)+s|n<<s|r,Jt=i+e}else Yt=1<<i|n<<s|r,Jt=e}function wc(e){e.return!==null&&(jn(e,1),Wp(e,1,0))}function Sc(e){for(;e===Ma;)Ma=Cr[--Ar],Cr[Ar]=null,La=Cr[--Ar],Cr[Ar]=null;for(;e===Yn;)Yn=st[--it],st[it]=null,Jt=st[--it],st[it]=null,Yt=st[--it],st[it]=null}var Qe=null,qe=null,ie=!1,_t=null;function Hp(e,t){var n=lt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function dd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qe=e,qe=Sn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qe=e,qe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Yn!==null?{id:Yt,overflow:Jt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=lt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Qe=e,qe=null,!0):!1;default:return!1}}function cu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function fu(e){if(ie){var t=qe;if(t){var n=t;if(!dd(e,t)){if(cu(e))throw Error(C(418));t=Sn(n.nextSibling);var r=Qe;t&&dd(e,t)?Hp(r,n):(e.flags=e.flags&-4097|2,ie=!1,Qe=e)}}else{if(cu(e))throw Error(C(418));e.flags=e.flags&-4097|2,ie=!1,Qe=e}}}function hd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qe=e}function Mi(e){if(e!==Qe)return!1;if(!ie)return hd(e),ie=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!au(e.type,e.memoizedProps)),t&&(t=qe)){if(cu(e))throw Gp(),Error(C(418));for(;t;)Hp(e,t),t=Sn(t.nextSibling)}if(hd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){qe=Sn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}qe=null}}else qe=Qe?Sn(e.stateNode.nextSibling):null;return!0}function Gp(){for(var e=qe;e;)e=Sn(e.nextSibling)}function Vr(){qe=Qe=null,ie=!1}function Ec(e){_t===null?_t=[e]:_t.push(e)}var pw=an.ReactCurrentBatchConfig;function ls(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(C(309));var r=n.stateNode}if(!r)throw Error(C(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(C(284));if(!n._owner)throw Error(C(290,e))}return e}function Li(e,t){throw e=Object.prototype.toString.call(t),Error(C(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function pd(e){var t=e._init;return t(e._payload)}function Kp(e){function t(g,f){if(e){var p=g.deletions;p===null?(g.deletions=[f],g.flags|=16):p.push(f)}}function n(g,f){if(!e)return null;for(;f!==null;)t(g,f),f=f.sibling;return null}function r(g,f){for(g=new Map;f!==null;)f.key!==null?g.set(f.key,f):g.set(f.index,f),f=f.sibling;return g}function s(g,f){return g=xn(g,f),g.index=0,g.sibling=null,g}function i(g,f,p){return g.index=p,e?(p=g.alternate,p!==null?(p=p.index,p<f?(g.flags|=2,f):p):(g.flags|=2,f)):(g.flags|=1048576,f)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,f,p,y){return f===null||f.tag!==6?(f=gl(p,g.mode,y),f.return=g,f):(f=s(f,p),f.return=g,f)}function l(g,f,p,y){var b=p.type;return b===wr?c(g,f,p.props.children,y,p.key):f!==null&&(f.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===fn&&pd(b)===f.type)?(y=s(f,p.props),y.ref=ls(g,f,p),y.return=g,y):(y=fa(p.type,p.key,p.props,null,g.mode,y),y.ref=ls(g,f,p),y.return=g,y)}function u(g,f,p,y){return f===null||f.tag!==4||f.stateNode.containerInfo!==p.containerInfo||f.stateNode.implementation!==p.implementation?(f=vl(p,g.mode,y),f.return=g,f):(f=s(f,p.children||[]),f.return=g,f)}function c(g,f,p,y,b){return f===null||f.tag!==7?(f=Hn(p,g.mode,y,b),f.return=g,f):(f=s(f,p),f.return=g,f)}function d(g,f,p){if(typeof f=="string"&&f!==""||typeof f=="number")return f=gl(""+f,g.mode,p),f.return=g,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Ci:return p=fa(f.type,f.key,f.props,null,g.mode,p),p.ref=ls(g,null,f),p.return=g,p;case _r:return f=vl(f,g.mode,p),f.return=g,f;case fn:var y=f._init;return d(g,y(f._payload),p)}if(ps(f)||rs(f))return f=Hn(f,g.mode,p,null),f.return=g,f;Li(g,f)}return null}function h(g,f,p,y){var b=f!==null?f.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return b!==null?null:o(g,f,""+p,y);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ci:return p.key===b?l(g,f,p,y):null;case _r:return p.key===b?u(g,f,p,y):null;case fn:return b=p._init,h(g,f,b(p._payload),y)}if(ps(p)||rs(p))return b!==null?null:c(g,f,p,y,null);Li(g,p)}return null}function m(g,f,p,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return g=g.get(p)||null,o(f,g,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ci:return g=g.get(y.key===null?p:y.key)||null,l(f,g,y,b);case _r:return g=g.get(y.key===null?p:y.key)||null,u(f,g,y,b);case fn:var x=y._init;return m(g,f,p,x(y._payload),b)}if(ps(y)||rs(y))return g=g.get(p)||null,c(f,g,y,b,null);Li(f,y)}return null}function S(g,f,p,y){for(var b=null,x=null,k=f,P=f=0,B=null;k!==null&&P<p.length;P++){k.index>P?(B=k,k=null):B=k.sibling;var I=h(g,k,p[P],y);if(I===null){k===null&&(k=B);break}e&&k&&I.alternate===null&&t(g,k),f=i(I,f,P),x===null?b=I:x.sibling=I,x=I,k=B}if(P===p.length)return n(g,k),ie&&jn(g,P),b;if(k===null){for(;P<p.length;P++)k=d(g,p[P],y),k!==null&&(f=i(k,f,P),x===null?b=k:x.sibling=k,x=k);return ie&&jn(g,P),b}for(k=r(g,k);P<p.length;P++)B=m(k,g,P,p[P],y),B!==null&&(e&&B.alternate!==null&&k.delete(B.key===null?P:B.key),f=i(B,f,P),x===null?b=B:x.sibling=B,x=B);return e&&k.forEach(function(V){return t(g,V)}),ie&&jn(g,P),b}function E(g,f,p,y){var b=rs(p);if(typeof b!="function")throw Error(C(150));if(p=b.call(p),p==null)throw Error(C(151));for(var x=b=null,k=f,P=f=0,B=null,I=p.next();k!==null&&!I.done;P++,I=p.next()){k.index>P?(B=k,k=null):B=k.sibling;var V=h(g,k,I.value,y);if(V===null){k===null&&(k=B);break}e&&k&&V.alternate===null&&t(g,k),f=i(V,f,P),x===null?b=V:x.sibling=V,x=V,k=B}if(I.done)return n(g,k),ie&&jn(g,P),b;if(k===null){for(;!I.done;P++,I=p.next())I=d(g,I.value,y),I!==null&&(f=i(I,f,P),x===null?b=I:x.sibling=I,x=I);return ie&&jn(g,P),b}for(k=r(g,k);!I.done;P++,I=p.next())I=m(k,g,P,I.value,y),I!==null&&(e&&I.alternate!==null&&k.delete(I.key===null?P:I.key),f=i(I,f,P),x===null?b=I:x.sibling=I,x=I);return e&&k.forEach(function(Le){return t(g,Le)}),ie&&jn(g,P),b}function O(g,f,p,y){if(typeof p=="object"&&p!==null&&p.type===wr&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Ci:e:{for(var b=p.key,x=f;x!==null;){if(x.key===b){if(b=p.type,b===wr){if(x.tag===7){n(g,x.sibling),f=s(x,p.props.children),f.return=g,g=f;break e}}else if(x.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===fn&&pd(b)===x.type){n(g,x.sibling),f=s(x,p.props),f.ref=ls(g,x,p),f.return=g,g=f;break e}n(g,x);break}else t(g,x);x=x.sibling}p.type===wr?(f=Hn(p.props.children,g.mode,y,p.key),f.return=g,g=f):(y=fa(p.type,p.key,p.props,null,g.mode,y),y.ref=ls(g,f,p),y.return=g,g=y)}return a(g);case _r:e:{for(x=p.key;f!==null;){if(f.key===x)if(f.tag===4&&f.stateNode.containerInfo===p.containerInfo&&f.stateNode.implementation===p.implementation){n(g,f.sibling),f=s(f,p.children||[]),f.return=g,g=f;break e}else{n(g,f);break}else t(g,f);f=f.sibling}f=vl(p,g.mode,y),f.return=g,g=f}return a(g);case fn:return x=p._init,O(g,f,x(p._payload),y)}if(ps(p))return S(g,f,p,y);if(rs(p))return E(g,f,p,y);Li(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,f!==null&&f.tag===6?(n(g,f.sibling),f=s(f,p),f.return=g,g=f):(n(g,f),f=gl(p,g.mode,y),f.return=g,g=f),a(g)):n(g,f)}return O}var Wr=Kp(!0),Yp=Kp(!1),Fa=Rn(null),$a=null,Or=null,kc=null;function bc(){kc=Or=$a=null}function xc(e){var t=Fa.current;re(Fa),e._currentValue=t}function du(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function $r(e,t){$a=e,kc=Or=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Be=!0),e.firstContext=null)}function ht(e){var t=e._currentValue;if(kc!==e)if(e={context:e,memoizedValue:t,next:null},Or===null){if($a===null)throw Error(C(308));Or=e,$a.dependencies={lanes:0,firstContext:e}}else Or=Or.next=e;return t}var Bn=null;function Cc(e){Bn===null?Bn=[e]:Bn.push(e)}function Jp(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Cc(t)):(n.next=s.next,s.next=n),t.interleaved=n,tn(e,r)}function tn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var dn=!1;function Ac(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function En(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,K&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,tn(e,n)}return s=r.interleaved,s===null?(t.next=t,Cc(r)):(t.next=s.next,s.next=t),r.interleaved=t,tn(e,n)}function ia(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,dc(e,n)}}function md(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ba(e,t,n,r){var s=e.updateQueue;dn=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?i=u:a.next=u,a=l;var c=e.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;a=0,c=u=l=null,o=i;do{var h=o.lane,m=o.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var S=e,E=o;switch(h=t,m=n,E.tag){case 1:if(S=E.payload,typeof S=="function"){d=S.call(m,d,h);break e}d=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=E.payload,h=typeof S=="function"?S.call(m,d,h):S,h==null)break e;d=le({},d,h);break e;case 2:dn=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,a|=h;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;h=o,o=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(c===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);qn|=a,e.lanes=a,e.memoizedState=d}}function gd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(C(191,s));s.call(r)}}}var hi={},Lt=Rn(hi),Xs=Rn(hi),Zs=Rn(hi);function Un(e){if(e===hi)throw Error(C(174));return e}function Oc(e,t){switch(ee(Zs,t),ee(Xs,e),ee(Lt,hi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Gl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Gl(t,e)}re(Lt),ee(Lt,t)}function Hr(){re(Lt),re(Xs),re(Zs)}function Qp(e){Un(Zs.current);var t=Un(Lt.current),n=Gl(t,e.type);t!==n&&(ee(Xs,e),ee(Lt,n))}function Rc(e){Xs.current===e&&(re(Lt),re(Xs))}var ae=Rn(0);function Ua(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cl=[];function Tc(){for(var e=0;e<cl.length;e++)cl[e]._workInProgressVersionPrimary=null;cl.length=0}var aa=an.ReactCurrentDispatcher,fl=an.ReactCurrentBatchConfig,Jn=0,oe=null,me=null,ye=null,za=!1,Ps=!1,ei=0,mw=0;function Oe(){throw Error(C(321))}function Pc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!bt(e[n],t[n]))return!1;return!0}function Dc(e,t,n,r,s,i){if(Jn=i,oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,aa.current=e===null||e.memoizedState===null?_w:ww,e=n(r,s),Ps){i=0;do{if(Ps=!1,ei=0,25<=i)throw Error(C(301));i+=1,ye=me=null,t.updateQueue=null,aa.current=Sw,e=n(r,s)}while(Ps)}if(aa.current=Va,t=me!==null&&me.next!==null,Jn=0,ye=me=oe=null,za=!1,t)throw Error(C(300));return e}function Ic(){var e=ei!==0;return ei=0,e}function Tt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?oe.memoizedState=ye=e:ye=ye.next=e,ye}function pt(){if(me===null){var e=oe.alternate;e=e!==null?e.memoizedState:null}else e=me.next;var t=ye===null?oe.memoizedState:ye.next;if(t!==null)ye=t,me=e;else{if(e===null)throw Error(C(310));me=e,e={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},ye===null?oe.memoizedState=ye=e:ye=ye.next=e}return ye}function ti(e,t){return typeof t=="function"?t(e):t}function dl(e){var t=pt(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var r=me,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=a=null,l=null,u=i;do{var c=u.lane;if((Jn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,a=r):l=l.next=d,oe.lanes|=c,qn|=c}u=u.next}while(u!==null&&u!==i);l===null?a=r:l.next=o,bt(r,t.memoizedState)||(Be=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,oe.lanes|=i,qn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function hl(e){var t=pt(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);bt(i,t.memoizedState)||(Be=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Xp(){}function Zp(e,t){var n=oe,r=pt(),s=t(),i=!bt(r.memoizedState,s);if(i&&(r.memoizedState=s,Be=!0),r=r.queue,Nc(nm.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ye!==null&&ye.memoizedState.tag&1){if(n.flags|=2048,ni(9,tm.bind(null,n,r,s,t),void 0,null),_e===null)throw Error(C(349));Jn&30||em(n,t,s)}return s}function em(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function tm(e,t,n,r){t.value=n,t.getSnapshot=r,rm(t)&&sm(e)}function nm(e,t,n){return n(function(){rm(t)&&sm(e)})}function rm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!bt(e,n)}catch{return!0}}function sm(e){var t=tn(e,1);t!==null&&St(t,e,1,-1)}function vd(e){var t=Tt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:e},t.queue=e,e=e.dispatch=yw.bind(null,oe,e),[t.memoizedState,e]}function ni(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=oe.updateQueue,t===null?(t={lastEffect:null,stores:null},oe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function im(){return pt().memoizedState}function oa(e,t,n,r){var s=Tt();oe.flags|=e,s.memoizedState=ni(1|t,n,void 0,r===void 0?null:r)}function So(e,t,n,r){var s=pt();r=r===void 0?null:r;var i=void 0;if(me!==null){var a=me.memoizedState;if(i=a.destroy,r!==null&&Pc(r,a.deps)){s.memoizedState=ni(t,n,i,r);return}}oe.flags|=e,s.memoizedState=ni(1|t,n,i,r)}function yd(e,t){return oa(8390656,8,e,t)}function Nc(e,t){return So(2048,8,e,t)}function am(e,t){return So(4,2,e,t)}function om(e,t){return So(4,4,e,t)}function lm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function um(e,t,n){return n=n!=null?n.concat([e]):null,So(4,4,lm.bind(null,t,e),n)}function jc(){}function cm(e,t){var n=pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Pc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function fm(e,t){var n=pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Pc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function dm(e,t,n){return Jn&21?(bt(n,t)||(n=vp(),oe.lanes|=n,qn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Be=!0),e.memoizedState=n)}function gw(e,t){var n=X;X=n!==0&&4>n?n:4,e(!0);var r=fl.transition;fl.transition={};try{e(!1),t()}finally{X=n,fl.transition=r}}function hm(){return pt().memoizedState}function vw(e,t,n){var r=bn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},pm(e))mm(t,n);else if(n=Jp(e,t,n,r),n!==null){var s=Ne();St(n,e,r,s),gm(n,t,r)}}function yw(e,t,n){var r=bn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(pm(e))mm(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,bt(o,a)){var l=t.interleaved;l===null?(s.next=s,Cc(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=Jp(e,t,s,r),n!==null&&(s=Ne(),St(n,e,r,s),gm(n,t,r))}}function pm(e){var t=e.alternate;return e===oe||t!==null&&t===oe}function mm(e,t){Ps=za=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function gm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,dc(e,n)}}var Va={readContext:ht,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useInsertionEffect:Oe,useLayoutEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useMutableSource:Oe,useSyncExternalStore:Oe,useId:Oe,unstable_isNewReconciler:!1},_w={readContext:ht,useCallback:function(e,t){return Tt().memoizedState=[e,t===void 0?null:t],e},useContext:ht,useEffect:yd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,oa(4194308,4,lm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return oa(4194308,4,e,t)},useInsertionEffect:function(e,t){return oa(4,2,e,t)},useMemo:function(e,t){var n=Tt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Tt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=vw.bind(null,oe,e),[r.memoizedState,e]},useRef:function(e){var t=Tt();return e={current:e},t.memoizedState=e},useState:vd,useDebugValue:jc,useDeferredValue:function(e){return Tt().memoizedState=e},useTransition:function(){var e=vd(!1),t=e[0];return e=gw.bind(null,e[1]),Tt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oe,s=Tt();if(ie){if(n===void 0)throw Error(C(407));n=n()}else{if(n=t(),_e===null)throw Error(C(349));Jn&30||em(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,yd(nm.bind(null,r,i,e),[e]),r.flags|=2048,ni(9,tm.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Tt(),t=_e.identifierPrefix;if(ie){var n=Jt,r=Yt;n=(r&~(1<<32-wt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ei++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=mw++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ww={readContext:ht,useCallback:cm,useContext:ht,useEffect:Nc,useImperativeHandle:um,useInsertionEffect:am,useLayoutEffect:om,useMemo:fm,useReducer:dl,useRef:im,useState:function(){return dl(ti)},useDebugValue:jc,useDeferredValue:function(e){var t=pt();return dm(t,me.memoizedState,e)},useTransition:function(){var e=dl(ti)[0],t=pt().memoizedState;return[e,t]},useMutableSource:Xp,useSyncExternalStore:Zp,useId:hm,unstable_isNewReconciler:!1},Sw={readContext:ht,useCallback:cm,useContext:ht,useEffect:Nc,useImperativeHandle:um,useInsertionEffect:am,useLayoutEffect:om,useMemo:fm,useReducer:hl,useRef:im,useState:function(){return hl(ti)},useDebugValue:jc,useDeferredValue:function(e){var t=pt();return me===null?t.memoizedState=e:dm(t,me.memoizedState,e)},useTransition:function(){var e=hl(ti)[0],t=pt().memoizedState;return[e,t]},useMutableSource:Xp,useSyncExternalStore:Zp,useId:hm,unstable_isNewReconciler:!1};function gt(e,t){if(e&&e.defaultProps){t=le({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function hu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:le({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Eo={isMounted:function(e){return(e=e._reactInternals)?sr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ne(),s=bn(e),i=qt(r,s);i.payload=t,n!=null&&(i.callback=n),t=En(e,i,s),t!==null&&(St(t,e,s,r),ia(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ne(),s=bn(e),i=qt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=En(e,i,s),t!==null&&(St(t,e,s,r),ia(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ne(),r=bn(e),s=qt(n,r);s.tag=2,t!=null&&(s.callback=t),t=En(e,s,r),t!==null&&(St(t,e,r,n),ia(t,e,r))}};function _d(e,t,n,r,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!Ys(n,r)||!Ys(s,i):!0}function vm(e,t,n){var r=!1,s=An,i=t.contextType;return typeof i=="object"&&i!==null?i=ht(i):(s=ze(t)?Kn:Pe.current,r=t.contextTypes,i=(r=r!=null)?zr(e,s):An),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Eo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function wd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Eo.enqueueReplaceState(t,t.state,null)}function pu(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Ac(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=ht(i):(i=ze(t)?Kn:Pe.current,s.context=zr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(hu(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Eo.enqueueReplaceState(s,s.state,null),Ba(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Gr(e,t){try{var n="",r=t;do n+=Jy(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function pl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function mu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ew=typeof WeakMap=="function"?WeakMap:Map;function ym(e,t,n){n=qt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ha||(Ha=!0,xu=r),mu(e,t)},n}function _m(e,t,n){n=qt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){mu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){mu(e,t),typeof r!="function"&&(kn===null?kn=new Set([this]):kn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Sd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Ew;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Mw.bind(null,e,t,n),t.then(e,e))}function Ed(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function kd(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=qt(-1,1),t.tag=2,En(n,t,1))),n.lanes|=1),e)}var kw=an.ReactCurrentOwner,Be=!1;function Ie(e,t,n,r){t.child=e===null?Yp(t,null,n,r):Wr(t,e.child,n,r)}function bd(e,t,n,r,s){n=n.render;var i=t.ref;return $r(t,s),r=Dc(e,t,n,r,i,s),n=Ic(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,nn(e,t,s)):(ie&&n&&wc(t),t.flags|=1,Ie(e,t,r,s),t.child)}function xd(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Vc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,wm(e,t,i,r,s)):(e=fa(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ys,n(a,r)&&e.ref===t.ref)return nn(e,t,s)}return t.flags|=1,e=xn(i,r),e.ref=t.ref,e.return=t,t.child=e}function wm(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Ys(i,r)&&e.ref===t.ref)if(Be=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Be=!0);else return t.lanes=e.lanes,nn(e,t,s)}return gu(e,t,n,r,s)}function Sm(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ee(Tr,Ke),Ke|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ee(Tr,Ke),Ke|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ee(Tr,Ke),Ke|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ee(Tr,Ke),Ke|=r;return Ie(e,t,s,n),t.child}function Em(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function gu(e,t,n,r,s){var i=ze(n)?Kn:Pe.current;return i=zr(t,i),$r(t,s),n=Dc(e,t,n,r,i,s),r=Ic(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,nn(e,t,s)):(ie&&r&&wc(t),t.flags|=1,Ie(e,t,n,s),t.child)}function Cd(e,t,n,r,s){if(ze(n)){var i=!0;ja(t)}else i=!1;if($r(t,s),t.stateNode===null)la(e,t),vm(t,n,r),pu(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=ht(u):(u=ze(n)?Kn:Pe.current,u=zr(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&wd(t,a,r,u),dn=!1;var h=t.memoizedState;a.state=h,Ba(t,r,a,s),l=t.memoizedState,o!==r||h!==l||Ue.current||dn?(typeof c=="function"&&(hu(t,n,c,r),l=t.memoizedState),(o=dn||_d(t,n,o,r,h,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,qp(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:gt(t.type,o),a.props=u,d=t.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=ht(l):(l=ze(n)?Kn:Pe.current,l=zr(t,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||h!==l)&&wd(t,a,r,l),dn=!1,h=t.memoizedState,a.state=h,Ba(t,r,a,s);var S=t.memoizedState;o!==d||h!==S||Ue.current||dn?(typeof m=="function"&&(hu(t,n,m,r),S=t.memoizedState),(u=dn||_d(t,n,u,r,h,S,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,S,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,S,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=S),a.props=r,a.state=S,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return vu(e,t,n,r,i,s)}function vu(e,t,n,r,s,i){Em(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&fd(t,n,!1),nn(e,t,i);r=t.stateNode,kw.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Wr(t,e.child,null,i),t.child=Wr(t,null,o,i)):Ie(e,t,o,i),t.memoizedState=r.state,s&&fd(t,n,!0),t.child}function km(e){var t=e.stateNode;t.pendingContext?cd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&cd(e,t.context,!1),Oc(e,t.containerInfo)}function Ad(e,t,n,r,s){return Vr(),Ec(s),t.flags|=256,Ie(e,t,n,r),t.child}var yu={dehydrated:null,treeContext:null,retryLane:0};function _u(e){return{baseLanes:e,cachePool:null,transitions:null}}function bm(e,t,n){var r=t.pendingProps,s=ae.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ee(ae,s&1),e===null)return fu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=xo(a,r,0,null),e=Hn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=_u(n),t.memoizedState=yu,e):Mc(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return bw(e,t,a,r,o,s,n);if(i){i=r.fallback,a=t.mode,s=e.child,o=s.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=xn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=xn(o,i):(i=Hn(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?_u(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=yu,r}return i=e.child,e=i.sibling,r=xn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Mc(e,t){return t=xo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fi(e,t,n,r){return r!==null&&Ec(r),Wr(t,e.child,null,n),e=Mc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bw(e,t,n,r,s,i,a){if(n)return t.flags&256?(t.flags&=-257,r=pl(Error(C(422))),Fi(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=xo({mode:"visible",children:r.children},s,0,null),i=Hn(i,s,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Wr(t,e.child,null,a),t.child.memoizedState=_u(a),t.memoizedState=yu,i);if(!(t.mode&1))return Fi(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(C(419)),r=pl(i,r,void 0),Fi(e,t,a,r)}if(o=(a&e.childLanes)!==0,Be||o){if(r=_e,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,tn(e,s),St(r,e,s,-1))}return zc(),r=pl(Error(C(421))),Fi(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Lw.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,qe=Sn(s.nextSibling),Qe=t,ie=!0,_t=null,e!==null&&(st[it++]=Yt,st[it++]=Jt,st[it++]=Yn,Yt=e.id,Jt=e.overflow,Yn=t),t=Mc(t,r.children),t.flags|=4096,t)}function Od(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),du(e.return,t,n)}function ml(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function xm(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Ie(e,t,r.children,n),r=ae.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Od(e,n,t);else if(e.tag===19)Od(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ee(ae,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ua(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),ml(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ua(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}ml(t,!0,n,null,i);break;case"together":ml(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function la(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function nn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),qn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(C(153));if(t.child!==null){for(e=t.child,n=xn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=xn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function xw(e,t,n){switch(t.tag){case 3:km(t),Vr();break;case 5:Qp(t);break;case 1:ze(t.type)&&ja(t);break;case 4:Oc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ee(Fa,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ee(ae,ae.current&1),t.flags|=128,null):n&t.child.childLanes?bm(e,t,n):(ee(ae,ae.current&1),e=nn(e,t,n),e!==null?e.sibling:null);ee(ae,ae.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return xm(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ee(ae,ae.current),r)break;return null;case 22:case 23:return t.lanes=0,Sm(e,t,n)}return nn(e,t,n)}var Cm,wu,Am,Om;Cm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};wu=function(){};Am=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Un(Lt.current);var i=null;switch(n){case"input":s=zl(e,s),r=zl(e,r),i=[];break;case"select":s=le({},s,{value:void 0}),r=le({},r,{value:void 0}),i=[];break;case"textarea":s=Hl(e,s),r=Hl(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ia)}Kl(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Us.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(o=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Us.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ne("scroll",e),i||o===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Om=function(e,t,n,r){n!==r&&(t.flags|=4)};function us(e,t){if(!ie)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Re(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Cw(e,t,n){var r=t.pendingProps;switch(Sc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(t),null;case 1:return ze(t.type)&&Na(),Re(t),null;case 3:return r=t.stateNode,Hr(),re(Ue),re(Pe),Tc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Mi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_t!==null&&(Ou(_t),_t=null))),wu(e,t),Re(t),null;case 5:Rc(t);var s=Un(Zs.current);if(n=t.type,e!==null&&t.stateNode!=null)Am(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(C(166));return Re(t),null}if(e=Un(Lt.current),Mi(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Dt]=t,r[Qs]=i,e=(t.mode&1)!==0,n){case"dialog":ne("cancel",r),ne("close",r);break;case"iframe":case"object":case"embed":ne("load",r);break;case"video":case"audio":for(s=0;s<gs.length;s++)ne(gs[s],r);break;case"source":ne("error",r);break;case"img":case"image":case"link":ne("error",r),ne("load",r);break;case"details":ne("toggle",r);break;case"input":Lf(r,i),ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ne("invalid",r);break;case"textarea":$f(r,i),ne("invalid",r)}Kl(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&ji(r.textContent,o,e),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&ji(r.textContent,o,e),s=["children",""+o]):Us.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&ne("scroll",r)}switch(n){case"input":Ai(r),Ff(r,i,!0);break;case"textarea":Ai(r),Bf(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ia)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=np(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Dt]=t,e[Qs]=r,Cm(e,t,!1,!1),t.stateNode=e;e:{switch(a=Yl(n,r),n){case"dialog":ne("cancel",e),ne("close",e),s=r;break;case"iframe":case"object":case"embed":ne("load",e),s=r;break;case"video":case"audio":for(s=0;s<gs.length;s++)ne(gs[s],e);s=r;break;case"source":ne("error",e),s=r;break;case"img":case"image":case"link":ne("error",e),ne("load",e),s=r;break;case"details":ne("toggle",e),s=r;break;case"input":Lf(e,r),s=zl(e,r),ne("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=le({},r,{value:void 0}),ne("invalid",e);break;case"textarea":$f(e,r),s=Hl(e,r),ne("invalid",e);break;default:s=r}Kl(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?ip(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&rp(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&zs(e,l):typeof l=="number"&&zs(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Us.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ne("scroll",e):l!=null&&ac(e,i,l,a))}switch(n){case"input":Ai(e),Ff(e,r,!1);break;case"textarea":Ai(e),Bf(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Cn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?jr(e,!!r.multiple,i,!1):r.defaultValue!=null&&jr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ia)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Re(t),null;case 6:if(e&&t.stateNode!=null)Om(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(C(166));if(n=Un(Zs.current),Un(Lt.current),Mi(t)){if(r=t.stateNode,n=t.memoizedProps,r[Dt]=t,(i=r.nodeValue!==n)&&(e=Qe,e!==null))switch(e.tag){case 3:ji(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ji(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Dt]=t,t.stateNode=r}return Re(t),null;case 13:if(re(ae),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ie&&qe!==null&&t.mode&1&&!(t.flags&128))Gp(),Vr(),t.flags|=98560,i=!1;else if(i=Mi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(C(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[Dt]=t}else Vr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Re(t),i=!1}else _t!==null&&(Ou(_t),_t=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ae.current&1?ge===0&&(ge=3):zc())),t.updateQueue!==null&&(t.flags|=4),Re(t),null);case 4:return Hr(),wu(e,t),e===null&&Js(t.stateNode.containerInfo),Re(t),null;case 10:return xc(t.type._context),Re(t),null;case 17:return ze(t.type)&&Na(),Re(t),null;case 19:if(re(ae),i=t.memoizedState,i===null)return Re(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)us(i,!1);else{if(ge!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Ua(e),a!==null){for(t.flags|=128,us(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ee(ae,ae.current&1|2),t.child}e=e.sibling}i.tail!==null&&ce()>Kr&&(t.flags|=128,r=!0,us(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ua(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),us(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ie)return Re(t),null}else 2*ce()-i.renderingStartTime>Kr&&n!==1073741824&&(t.flags|=128,r=!0,us(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ce(),t.sibling=null,n=ae.current,ee(ae,r?n&1|2:n&1),t):(Re(t),null);case 22:case 23:return Uc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ke&1073741824&&(Re(t),t.subtreeFlags&6&&(t.flags|=8192)):Re(t),null;case 24:return null;case 25:return null}throw Error(C(156,t.tag))}function Aw(e,t){switch(Sc(t),t.tag){case 1:return ze(t.type)&&Na(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hr(),re(Ue),re(Pe),Tc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Rc(t),null;case 13:if(re(ae),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(C(340));Vr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return re(ae),null;case 4:return Hr(),null;case 10:return xc(t.type._context),null;case 22:case 23:return Uc(),null;case 24:return null;default:return null}}var $i=!1,Te=!1,Ow=typeof WeakSet=="function"?WeakSet:Set,D=null;function Rr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ue(e,t,r)}else n.current=null}function Su(e,t,n){try{n()}catch(r){ue(e,t,r)}}var Rd=!1;function Rw(e,t){if(su=Ta,e=Ip(),_c(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var m;d!==n||s!==0&&d.nodeType!==3||(o=a+s),d!==i||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===e)break t;if(h===n&&++u===s&&(o=a),h===i&&++c===r&&(l=a),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(iu={focusedElem:e,selectionRange:n},Ta=!1,D=t;D!==null;)if(t=D,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,D=e;else for(;D!==null;){t=D;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var E=S.memoizedProps,O=S.memoizedState,g=t.stateNode,f=g.getSnapshotBeforeUpdate(t.elementType===t.type?E:gt(t.type,E),O);g.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(y){ue(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,D=e;break}D=t.return}return S=Rd,Rd=!1,S}function Ds(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Su(t,n,i)}s=s.next}while(s!==r)}}function ko(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Eu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Rm(e){var t=e.alternate;t!==null&&(e.alternate=null,Rm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Dt],delete t[Qs],delete t[lu],delete t[fw],delete t[dw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Tm(e){return e.tag===5||e.tag===3||e.tag===4}function Td(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ku(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ia));else if(r!==4&&(e=e.child,e!==null))for(ku(e,t,n),e=e.sibling;e!==null;)ku(e,t,n),e=e.sibling}function bu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(bu(e,t,n),e=e.sibling;e!==null;)bu(e,t,n),e=e.sibling}var Se=null,yt=!1;function ln(e,t,n){for(n=n.child;n!==null;)Pm(e,t,n),n=n.sibling}function Pm(e,t,n){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(mo,n)}catch{}switch(n.tag){case 5:Te||Rr(n,t);case 6:var r=Se,s=yt;Se=null,ln(e,t,n),Se=r,yt=s,Se!==null&&(yt?(e=Se,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Se.removeChild(n.stateNode));break;case 18:Se!==null&&(yt?(e=Se,n=n.stateNode,e.nodeType===8?ll(e.parentNode,n):e.nodeType===1&&ll(e,n),Gs(e)):ll(Se,n.stateNode));break;case 4:r=Se,s=yt,Se=n.stateNode.containerInfo,yt=!0,ln(e,t,n),Se=r,yt=s;break;case 0:case 11:case 14:case 15:if(!Te&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Su(n,t,a),s=s.next}while(s!==r)}ln(e,t,n);break;case 1:if(!Te&&(Rr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){ue(n,t,o)}ln(e,t,n);break;case 21:ln(e,t,n);break;case 22:n.mode&1?(Te=(r=Te)||n.memoizedState!==null,ln(e,t,n),Te=r):ln(e,t,n);break;default:ln(e,t,n)}}function Pd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Ow),t.forEach(function(r){var s=Fw.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function mt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Se=o.stateNode,yt=!1;break e;case 3:Se=o.stateNode.containerInfo,yt=!0;break e;case 4:Se=o.stateNode.containerInfo,yt=!0;break e}o=o.return}if(Se===null)throw Error(C(160));Pm(i,a,s),Se=null,yt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ue(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Dm(t,e),t=t.sibling}function Dm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mt(t,e),Ot(e),r&4){try{Ds(3,e,e.return),ko(3,e)}catch(E){ue(e,e.return,E)}try{Ds(5,e,e.return)}catch(E){ue(e,e.return,E)}}break;case 1:mt(t,e),Ot(e),r&512&&n!==null&&Rr(n,n.return);break;case 5:if(mt(t,e),Ot(e),r&512&&n!==null&&Rr(n,n.return),e.flags&32){var s=e.stateNode;try{zs(s,"")}catch(E){ue(e,e.return,E)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&ep(s,i),Yl(o,a);var u=Yl(o,i);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?ip(s,d):c==="dangerouslySetInnerHTML"?rp(s,d):c==="children"?zs(s,d):ac(s,c,d,u)}switch(o){case"input":Vl(s,i);break;case"textarea":tp(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?jr(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?jr(s,!!i.multiple,i.defaultValue,!0):jr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Qs]=i}catch(E){ue(e,e.return,E)}}break;case 6:if(mt(t,e),Ot(e),r&4){if(e.stateNode===null)throw Error(C(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(E){ue(e,e.return,E)}}break;case 3:if(mt(t,e),Ot(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gs(t.containerInfo)}catch(E){ue(e,e.return,E)}break;case 4:mt(t,e),Ot(e);break;case 13:mt(t,e),Ot(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||($c=ce())),r&4&&Pd(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Te=(u=Te)||c,mt(t,e),Te=u):mt(t,e),Ot(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(D=e,c=e.child;c!==null;){for(d=D=c;D!==null;){switch(h=D,m=h.child,h.tag){case 0:case 11:case 14:case 15:Ds(4,h,h.return);break;case 1:Rr(h,h.return);var S=h.stateNode;if(typeof S.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(E){ue(r,n,E)}}break;case 5:Rr(h,h.return);break;case 22:if(h.memoizedState!==null){Id(d);continue}}m!==null?(m.return=h,D=m):Id(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=sp("display",a))}catch(E){ue(e,e.return,E)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(E){ue(e,e.return,E)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:mt(t,e),Ot(e),r&4&&Pd(e);break;case 21:break;default:mt(t,e),Ot(e)}}function Ot(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Tm(n)){var r=n;break e}n=n.return}throw Error(C(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(zs(s,""),r.flags&=-33);var i=Td(e);bu(e,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,o=Td(e);ku(e,o,a);break;default:throw Error(C(161))}}catch(l){ue(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Tw(e,t,n){D=e,Im(e)}function Im(e,t,n){for(var r=(e.mode&1)!==0;D!==null;){var s=D,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||$i;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||Te;o=$i;var u=Te;if($i=a,(Te=l)&&!u)for(D=s;D!==null;)a=D,l=a.child,a.tag===22&&a.memoizedState!==null?Nd(s):l!==null?(l.return=a,D=l):Nd(s);for(;i!==null;)D=i,Im(i),i=i.sibling;D=s,$i=o,Te=u}Dd(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,D=i):Dd(e)}}function Dd(e){for(;D!==null;){var t=D;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Te||ko(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Te)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:gt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&gd(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}gd(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Gs(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}Te||t.flags&512&&Eu(t)}catch(h){ue(t,t.return,h)}}if(t===e){D=null;break}if(n=t.sibling,n!==null){n.return=t.return,D=n;break}D=t.return}}function Id(e){for(;D!==null;){var t=D;if(t===e){D=null;break}var n=t.sibling;if(n!==null){n.return=t.return,D=n;break}D=t.return}}function Nd(e){for(;D!==null;){var t=D;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ko(4,t)}catch(l){ue(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){ue(t,s,l)}}var i=t.return;try{Eu(t)}catch(l){ue(t,i,l)}break;case 5:var a=t.return;try{Eu(t)}catch(l){ue(t,a,l)}}}catch(l){ue(t,t.return,l)}if(t===e){D=null;break}var o=t.sibling;if(o!==null){o.return=t.return,D=o;break}D=t.return}}var Pw=Math.ceil,Wa=an.ReactCurrentDispatcher,Lc=an.ReactCurrentOwner,dt=an.ReactCurrentBatchConfig,K=0,_e=null,fe=null,xe=0,Ke=0,Tr=Rn(0),ge=0,ri=null,qn=0,bo=0,Fc=0,Is=null,$e=null,$c=0,Kr=1/0,Wt=null,Ha=!1,xu=null,kn=null,Bi=!1,gn=null,Ga=0,Ns=0,Cu=null,ua=-1,ca=0;function Ne(){return K&6?ce():ua!==-1?ua:ua=ce()}function bn(e){return e.mode&1?K&2&&xe!==0?xe&-xe:pw.transition!==null?(ca===0&&(ca=vp()),ca):(e=X,e!==0||(e=window.event,e=e===void 0?16:bp(e.type)),e):1}function St(e,t,n,r){if(50<Ns)throw Ns=0,Cu=null,Error(C(185));ci(e,n,r),(!(K&2)||e!==_e)&&(e===_e&&(!(K&2)&&(bo|=n),ge===4&&pn(e,xe)),Ve(e,r),n===1&&K===0&&!(t.mode&1)&&(Kr=ce()+500,wo&&Tn()))}function Ve(e,t){var n=e.callbackNode;p_(e,t);var r=Ra(e,e===_e?xe:0);if(r===0)n!==null&&Vf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Vf(n),t===1)e.tag===0?hw(jd.bind(null,e)):Vp(jd.bind(null,e)),uw(function(){!(K&6)&&Tn()}),n=null;else{switch(yp(r)){case 1:n=fc;break;case 4:n=mp;break;case 16:n=Oa;break;case 536870912:n=gp;break;default:n=Oa}n=Um(n,Nm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Nm(e,t){if(ua=-1,ca=0,K&6)throw Error(C(327));var n=e.callbackNode;if(Br()&&e.callbackNode!==n)return null;var r=Ra(e,e===_e?xe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ka(e,r);else{t=r;var s=K;K|=2;var i=Mm();(_e!==e||xe!==t)&&(Wt=null,Kr=ce()+500,Wn(e,t));do try{Nw();break}catch(o){jm(e,o)}while(!0);bc(),Wa.current=i,K=s,fe!==null?t=0:(_e=null,xe=0,t=ge)}if(t!==0){if(t===2&&(s=Zl(e),s!==0&&(r=s,t=Au(e,s))),t===1)throw n=ri,Wn(e,0),pn(e,r),Ve(e,ce()),n;if(t===6)pn(e,r);else{if(s=e.current.alternate,!(r&30)&&!Dw(s)&&(t=Ka(e,r),t===2&&(i=Zl(e),i!==0&&(r=i,t=Au(e,i))),t===1))throw n=ri,Wn(e,0),pn(e,r),Ve(e,ce()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(C(345));case 2:Mn(e,$e,Wt);break;case 3:if(pn(e,r),(r&130023424)===r&&(t=$c+500-ce(),10<t)){if(Ra(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ne(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ou(Mn.bind(null,e,$e,Wt),t);break}Mn(e,$e,Wt);break;case 4:if(pn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-wt(r);i=1<<a,a=t[a],a>s&&(s=a),r&=~i}if(r=s,r=ce()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Pw(r/1960))-r,10<r){e.timeoutHandle=ou(Mn.bind(null,e,$e,Wt),r);break}Mn(e,$e,Wt);break;case 5:Mn(e,$e,Wt);break;default:throw Error(C(329))}}}return Ve(e,ce()),e.callbackNode===n?Nm.bind(null,e):null}function Au(e,t){var n=Is;return e.current.memoizedState.isDehydrated&&(Wn(e,t).flags|=256),e=Ka(e,t),e!==2&&(t=$e,$e=n,t!==null&&Ou(t)),e}function Ou(e){$e===null?$e=e:$e.push.apply($e,e)}function Dw(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!bt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function pn(e,t){for(t&=~Fc,t&=~bo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-wt(t),r=1<<n;e[n]=-1,t&=~r}}function jd(e){if(K&6)throw Error(C(327));Br();var t=Ra(e,0);if(!(t&1))return Ve(e,ce()),null;var n=Ka(e,t);if(e.tag!==0&&n===2){var r=Zl(e);r!==0&&(t=r,n=Au(e,r))}if(n===1)throw n=ri,Wn(e,0),pn(e,t),Ve(e,ce()),n;if(n===6)throw Error(C(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Mn(e,$e,Wt),Ve(e,ce()),null}function Bc(e,t){var n=K;K|=1;try{return e(t)}finally{K=n,K===0&&(Kr=ce()+500,wo&&Tn())}}function Qn(e){gn!==null&&gn.tag===0&&!(K&6)&&Br();var t=K;K|=1;var n=dt.transition,r=X;try{if(dt.transition=null,X=1,e)return e()}finally{X=r,dt.transition=n,K=t,!(K&6)&&Tn()}}function Uc(){Ke=Tr.current,re(Tr)}function Wn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,lw(n)),fe!==null)for(n=fe.return;n!==null;){var r=n;switch(Sc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Na();break;case 3:Hr(),re(Ue),re(Pe),Tc();break;case 5:Rc(r);break;case 4:Hr();break;case 13:re(ae);break;case 19:re(ae);break;case 10:xc(r.type._context);break;case 22:case 23:Uc()}n=n.return}if(_e=e,fe=e=xn(e.current,null),xe=Ke=t,ge=0,ri=null,Fc=bo=qn=0,$e=Is=null,Bn!==null){for(t=0;t<Bn.length;t++)if(n=Bn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Bn=null}return e}function jm(e,t){do{var n=fe;try{if(bc(),aa.current=Va,za){for(var r=oe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}za=!1}if(Jn=0,ye=me=oe=null,Ps=!1,ei=0,Lc.current=null,n===null||n.return===null){ge=1,ri=t,fe=null;break}e:{var i=e,a=n.return,o=n,l=t;if(t=xe,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=Ed(a);if(m!==null){m.flags&=-257,kd(m,a,o,i,t),m.mode&1&&Sd(i,u,t),t=m,l=u;var S=t.updateQueue;if(S===null){var E=new Set;E.add(l),t.updateQueue=E}else S.add(l);break e}else{if(!(t&1)){Sd(i,u,t),zc();break e}l=Error(C(426))}}else if(ie&&o.mode&1){var O=Ed(a);if(O!==null){!(O.flags&65536)&&(O.flags|=256),kd(O,a,o,i,t),Ec(Gr(l,o));break e}}i=l=Gr(l,o),ge!==4&&(ge=2),Is===null?Is=[i]:Is.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=ym(i,l,t);md(i,g);break e;case 1:o=l;var f=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(kn===null||!kn.has(p)))){i.flags|=65536,t&=-t,i.lanes|=t;var y=_m(i,o,t);md(i,y);break e}}i=i.return}while(i!==null)}Fm(n)}catch(b){t=b,fe===n&&n!==null&&(fe=n=n.return);continue}break}while(!0)}function Mm(){var e=Wa.current;return Wa.current=Va,e===null?Va:e}function zc(){(ge===0||ge===3||ge===2)&&(ge=4),_e===null||!(qn&268435455)&&!(bo&268435455)||pn(_e,xe)}function Ka(e,t){var n=K;K|=2;var r=Mm();(_e!==e||xe!==t)&&(Wt=null,Wn(e,t));do try{Iw();break}catch(s){jm(e,s)}while(!0);if(bc(),K=n,Wa.current=r,fe!==null)throw Error(C(261));return _e=null,xe=0,ge}function Iw(){for(;fe!==null;)Lm(fe)}function Nw(){for(;fe!==null&&!i_();)Lm(fe)}function Lm(e){var t=Bm(e.alternate,e,Ke);e.memoizedProps=e.pendingProps,t===null?Fm(e):fe=t,Lc.current=null}function Fm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Aw(n,t),n!==null){n.flags&=32767,fe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ge=6,fe=null;return}}else if(n=Cw(n,t,Ke),n!==null){fe=n;return}if(t=t.sibling,t!==null){fe=t;return}fe=t=e}while(t!==null);ge===0&&(ge=5)}function Mn(e,t,n){var r=X,s=dt.transition;try{dt.transition=null,X=1,jw(e,t,n,r)}finally{dt.transition=s,X=r}return null}function jw(e,t,n,r){do Br();while(gn!==null);if(K&6)throw Error(C(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(C(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(m_(e,i),e===_e&&(fe=_e=null,xe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bi||(Bi=!0,Um(Oa,function(){return Br(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=dt.transition,dt.transition=null;var a=X;X=1;var o=K;K|=4,Lc.current=null,Rw(e,n),Dm(n,e),tw(iu),Ta=!!su,iu=su=null,e.current=n,Tw(n),a_(),K=o,X=a,dt.transition=i}else e.current=n;if(Bi&&(Bi=!1,gn=e,Ga=s),i=e.pendingLanes,i===0&&(kn=null),u_(n.stateNode),Ve(e,ce()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ha)throw Ha=!1,e=xu,xu=null,e;return Ga&1&&e.tag!==0&&Br(),i=e.pendingLanes,i&1?e===Cu?Ns++:(Ns=0,Cu=e):Ns=0,Tn(),null}function Br(){if(gn!==null){var e=yp(Ga),t=dt.transition,n=X;try{if(dt.transition=null,X=16>e?16:e,gn===null)var r=!1;else{if(e=gn,gn=null,Ga=0,K&6)throw Error(C(331));var s=K;for(K|=4,D=e.current;D!==null;){var i=D,a=i.child;if(D.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(D=u;D!==null;){var c=D;switch(c.tag){case 0:case 11:case 15:Ds(8,c,i)}var d=c.child;if(d!==null)d.return=c,D=d;else for(;D!==null;){c=D;var h=c.sibling,m=c.return;if(Rm(c),c===u){D=null;break}if(h!==null){h.return=m,D=h;break}D=m}}}var S=i.alternate;if(S!==null){var E=S.child;if(E!==null){S.child=null;do{var O=E.sibling;E.sibling=null,E=O}while(E!==null)}}D=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,D=a;else e:for(;D!==null;){if(i=D,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ds(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,D=g;break e}D=i.return}}var f=e.current;for(D=f;D!==null;){a=D;var p=a.child;if(a.subtreeFlags&2064&&p!==null)p.return=a,D=p;else e:for(a=f;D!==null;){if(o=D,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:ko(9,o)}}catch(b){ue(o,o.return,b)}if(o===a){D=null;break e}var y=o.sibling;if(y!==null){y.return=o.return,D=y;break e}D=o.return}}if(K=s,Tn(),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(mo,e)}catch{}r=!0}return r}finally{X=n,dt.transition=t}}return!1}function Md(e,t,n){t=Gr(n,t),t=ym(e,t,1),e=En(e,t,1),t=Ne(),e!==null&&(ci(e,1,t),Ve(e,t))}function ue(e,t,n){if(e.tag===3)Md(e,e,n);else for(;t!==null;){if(t.tag===3){Md(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(kn===null||!kn.has(r))){e=Gr(n,e),e=_m(t,e,1),t=En(t,e,1),e=Ne(),t!==null&&(ci(t,1,e),Ve(t,e));break}}t=t.return}}function Mw(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ne(),e.pingedLanes|=e.suspendedLanes&n,_e===e&&(xe&n)===n&&(ge===4||ge===3&&(xe&130023424)===xe&&500>ce()-$c?Wn(e,0):Fc|=n),Ve(e,t)}function $m(e,t){t===0&&(e.mode&1?(t=Ti,Ti<<=1,!(Ti&130023424)&&(Ti=4194304)):t=1);var n=Ne();e=tn(e,t),e!==null&&(ci(e,t,n),Ve(e,n))}function Lw(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),$m(e,n)}function Fw(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(C(314))}r!==null&&r.delete(t),$m(e,n)}var Bm;Bm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ue.current)Be=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Be=!1,xw(e,t,n);Be=!!(e.flags&131072)}else Be=!1,ie&&t.flags&1048576&&Wp(t,La,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;la(e,t),e=t.pendingProps;var s=zr(t,Pe.current);$r(t,n),s=Dc(null,t,r,e,s,n);var i=Ic();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ze(r)?(i=!0,ja(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ac(t),s.updater=Eo,t.stateNode=s,s._reactInternals=t,pu(t,r,e,n),t=vu(null,t,r,!0,i,n)):(t.tag=0,ie&&i&&wc(t),Ie(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(la(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Bw(r),e=gt(r,e),s){case 0:t=gu(null,t,r,e,n);break e;case 1:t=Cd(null,t,r,e,n);break e;case 11:t=bd(null,t,r,e,n);break e;case 14:t=xd(null,t,r,gt(r.type,e),n);break e}throw Error(C(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:gt(r,s),gu(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:gt(r,s),Cd(e,t,r,s,n);case 3:e:{if(km(t),e===null)throw Error(C(387));r=t.pendingProps,i=t.memoizedState,s=i.element,qp(e,t),Ba(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Gr(Error(C(423)),t),t=Ad(e,t,r,n,s);break e}else if(r!==s){s=Gr(Error(C(424)),t),t=Ad(e,t,r,n,s);break e}else for(qe=Sn(t.stateNode.containerInfo.firstChild),Qe=t,ie=!0,_t=null,n=Yp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vr(),r===s){t=nn(e,t,n);break e}Ie(e,t,r,n)}t=t.child}return t;case 5:return Qp(t),e===null&&fu(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,au(r,s)?a=null:i!==null&&au(r,i)&&(t.flags|=32),Em(e,t),Ie(e,t,a,n),t.child;case 6:return e===null&&fu(t),null;case 13:return bm(e,t,n);case 4:return Oc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Wr(t,null,r,n):Ie(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:gt(r,s),bd(e,t,r,s,n);case 7:return Ie(e,t,t.pendingProps,n),t.child;case 8:return Ie(e,t,t.pendingProps.children,n),t.child;case 12:return Ie(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,ee(Fa,r._currentValue),r._currentValue=a,i!==null)if(bt(i.value,a)){if(i.children===s.children&&!Ue.current){t=nn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=qt(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),du(i.return,n,t),o.lanes|=n;break}l=l.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(C(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),du(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Ie(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,$r(t,n),s=ht(s),r=r(s),t.flags|=1,Ie(e,t,r,n),t.child;case 14:return r=t.type,s=gt(r,t.pendingProps),s=gt(r.type,s),xd(e,t,r,s,n);case 15:return wm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:gt(r,s),la(e,t),t.tag=1,ze(r)?(e=!0,ja(t)):e=!1,$r(t,n),vm(t,r,s),pu(t,r,s,n),vu(null,t,r,!0,e,n);case 19:return xm(e,t,n);case 22:return Sm(e,t,n)}throw Error(C(156,t.tag))};function Um(e,t){return pp(e,t)}function $w(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lt(e,t,n,r){return new $w(e,t,n,r)}function Vc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bw(e){if(typeof e=="function")return Vc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===lc)return 11;if(e===uc)return 14}return 2}function xn(e,t){var n=e.alternate;return n===null?(n=lt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function fa(e,t,n,r,s,i){var a=2;if(r=e,typeof e=="function")Vc(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case wr:return Hn(n.children,s,i,t);case oc:a=8,s|=8;break;case Fl:return e=lt(12,n,t,s|2),e.elementType=Fl,e.lanes=i,e;case $l:return e=lt(13,n,t,s),e.elementType=$l,e.lanes=i,e;case Bl:return e=lt(19,n,t,s),e.elementType=Bl,e.lanes=i,e;case Qh:return xo(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Jh:a=10;break e;case qh:a=9;break e;case lc:a=11;break e;case uc:a=14;break e;case fn:a=16,r=null;break e}throw Error(C(130,e==null?e:typeof e,""))}return t=lt(a,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Hn(e,t,n,r){return e=lt(7,e,r,t),e.lanes=n,e}function xo(e,t,n,r){return e=lt(22,e,r,t),e.elementType=Qh,e.lanes=n,e.stateNode={isHidden:!1},e}function gl(e,t,n){return e=lt(6,e,null,t),e.lanes=n,e}function vl(e,t,n){return t=lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uw(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qo(0),this.expirationTimes=Qo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qo(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Wc(e,t,n,r,s,i,a,o,l){return e=new Uw(e,t,n,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=lt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ac(i),e}function zw(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_r,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function zm(e){if(!e)return An;e=e._reactInternals;e:{if(sr(e)!==e||e.tag!==1)throw Error(C(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(C(171))}if(e.tag===1){var n=e.type;if(ze(n))return zp(e,n,t)}return t}function Vm(e,t,n,r,s,i,a,o,l){return e=Wc(n,r,!0,e,s,i,a,o,l),e.context=zm(null),n=e.current,r=Ne(),s=bn(n),i=qt(r,s),i.callback=t??null,En(n,i,s),e.current.lanes=s,ci(e,s,r),Ve(e,r),e}function Co(e,t,n,r){var s=t.current,i=Ne(),a=bn(s);return n=zm(n),t.context===null?t.context=n:t.pendingContext=n,t=qt(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=En(s,t,a),e!==null&&(St(e,s,a,i),ia(e,s,a)),a}function Ya(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ld(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Hc(e,t){Ld(e,t),(e=e.alternate)&&Ld(e,t)}function Vw(){return null}var Wm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}Ao.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(C(409));Co(e,t,null,null)};Ao.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qn(function(){Co(null,e,null,null)}),t[en]=null}};function Ao(e){this._internalRoot=e}Ao.prototype.unstable_scheduleHydration=function(e){if(e){var t=Sp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<hn.length&&t!==0&&t<hn[n].priority;n++);hn.splice(n,0,e),n===0&&kp(e)}};function Kc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Oo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Fd(){}function Ww(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Ya(a);i.call(u)}}var a=Vm(t,r,e,0,null,!1,!1,"",Fd);return e._reactRootContainer=a,e[en]=a.current,Js(e.nodeType===8?e.parentNode:e),Qn(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var u=Ya(l);o.call(u)}}var l=Wc(e,0,!1,null,null,!1,!1,"",Fd);return e._reactRootContainer=l,e[en]=l.current,Js(e.nodeType===8?e.parentNode:e),Qn(function(){Co(t,l,n,r)}),l}function Ro(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=Ya(a);o.call(l)}}Co(t,a,e,s)}else a=Ww(n,t,e,s,r);return Ya(a)}_p=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ms(t.pendingLanes);n!==0&&(dc(t,n|1),Ve(t,ce()),!(K&6)&&(Kr=ce()+500,Tn()))}break;case 13:Qn(function(){var r=tn(e,1);if(r!==null){var s=Ne();St(r,e,1,s)}}),Hc(e,1)}};hc=function(e){if(e.tag===13){var t=tn(e,134217728);if(t!==null){var n=Ne();St(t,e,134217728,n)}Hc(e,134217728)}};wp=function(e){if(e.tag===13){var t=bn(e),n=tn(e,t);if(n!==null){var r=Ne();St(n,e,t,r)}Hc(e,t)}};Sp=function(){return X};Ep=function(e,t){var n=X;try{return X=e,t()}finally{X=n}};ql=function(e,t,n){switch(t){case"input":if(Vl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=_o(r);if(!s)throw Error(C(90));Zh(r),Vl(r,s)}}}break;case"textarea":tp(e,n);break;case"select":t=n.value,t!=null&&jr(e,!!n.multiple,t,!1)}};lp=Bc;up=Qn;var Hw={usingClientEntryPoint:!1,Events:[di,br,_o,ap,op,Bc]},cs={findFiberByHostInstance:$n,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Gw={bundleType:cs.bundleType,version:cs.version,rendererPackageName:cs.rendererPackageName,rendererConfig:cs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:an.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=dp(e),e===null?null:e.stateNode},findFiberByHostInstance:cs.findFiberByHostInstance||Vw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ui=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ui.isDisabled&&Ui.supportsFiber)try{mo=Ui.inject(Gw),Mt=Ui}catch{}}Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hw;Ze.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kc(t))throw Error(C(200));return zw(e,t,null,n)};Ze.createRoot=function(e,t){if(!Kc(e))throw Error(C(299));var n=!1,r="",s=Wm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Wc(e,1,!1,null,null,n,!1,r,s),e[en]=t.current,Js(e.nodeType===8?e.parentNode:e),new Gc(t)};Ze.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(C(188)):(e=Object.keys(e).join(","),Error(C(268,e)));return e=dp(t),e=e===null?null:e.stateNode,e};Ze.flushSync=function(e){return Qn(e)};Ze.hydrate=function(e,t,n){if(!Oo(t))throw Error(C(200));return Ro(null,e,t,!0,n)};Ze.hydrateRoot=function(e,t,n){if(!Kc(e))throw Error(C(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=Wm;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Vm(t,null,e,1,n??null,s,!1,i,a),e[en]=t.current,Js(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ao(t)};Ze.render=function(e,t,n){if(!Oo(t))throw Error(C(200));return Ro(null,e,t,!1,n)};Ze.unmountComponentAtNode=function(e){if(!Oo(e))throw Error(C(40));return e._reactRootContainer?(Qn(function(){Ro(null,null,e,!1,function(){e._reactRootContainer=null,e[en]=null})}),!0):!1};Ze.unstable_batchedUpdates=Bc;Ze.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Oo(n))throw Error(C(200));if(e==null||e._reactInternals===void 0)throw Error(C(38));return Ro(e,t,n,!1,r)};Ze.version="18.3.1-next-f1338f8080-20240426";function Hm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hm)}catch(e){console.error(e)}}Hm(),Hh.exports=Ze;var Gm=Hh.exports,$d=Gm;Ml.createRoot=$d.createRoot,Ml.hydrateRoot=$d.hydrateRoot;function Y(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error(typeof e=="number"?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var Kw={};function To(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:Kw}var Km=Object.assign,Ja=Object.getOwnPropertyDescriptor,Ft=Object.defineProperty,Po=Object.prototype,Ru=[];Object.freeze(Ru);var Ym={};Object.freeze(Ym);var Yw=typeof Proxy<"u",Jw=Object.toString();function Jm(){Yw||Y("Proxy not available")}function qm(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var Pr=function(){};function xt(e){return typeof e=="function"}function Xn(e){var t=typeof e;switch(t){case"string":case"symbol":case"number":return!0}return!1}function Do(e){return e!==null&&typeof e=="object"}function rn(e){if(!Do(e))return!1;var t=Object.getPrototypeOf(e);if(t==null)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n.toString()===Jw}function Qm(e){var t=e==null?void 0:e.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function pi(e,t,n){Ft(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function Xm(e,t,n){Ft(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function ir(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(r){return Do(r)&&r[n]===!0}}function es(e){return e!=null&&Object.prototype.toString.call(e)==="[object Map]"}function qw(e){var t=Object.getPrototypeOf(e),n=Object.getPrototypeOf(t),r=Object.getPrototypeOf(n);return r===null}function Gt(e){return e!=null&&Object.prototype.toString.call(e)==="[object Set]"}var Zm=typeof Object.getOwnPropertySymbols<"u";function Qw(e){var t=Object.keys(e);if(!Zm)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(r){return Po.propertyIsEnumerable.call(e,r)})):t}var Yr=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Zm?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function eg(e){return e===null?null:typeof e=="object"?""+e:e}function Qt(e,t){return Po.hasOwnProperty.call(e,t)}var Xw=Object.getOwnPropertyDescriptors||function(t){var n={};return Yr(t).forEach(function(r){n[r]=Ja(t,r)}),n};function Ye(e,t){return!!(e&t)}function Je(e,t,n){return n?e|=t:e&=~t,e}function Bd(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Zw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,t0(r.key),r)}}function ts(e,t,n){return t&&Zw(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dr(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=n0(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zn(){return Zn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zn.apply(null,arguments)}function tg(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Tu(e,t)}function Tu(e,t){return Tu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Tu(e,t)}function e0(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function t0(e){var t=e0(e,"string");return typeof t=="symbol"?t:t+""}function n0(e,t){if(e){if(typeof e=="string")return Bd(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bd(e,t):void 0}}var Nt=Symbol("mobx-stored-annotations");function $t(e){function t(n,r){if(gi(r))return e.decorate_20223_(n,r);mi(n,r,e)}return Object.assign(t,e)}function mi(e,t,n){Qt(e,Nt)||pi(e,Nt,Zn({},e[Nt])),u0(n)||(e[Nt][t]=n)}function r0(e){return Qt(e,Nt)||pi(e,Nt,Zn({},e[Nt])),e[Nt]}function gi(e){return typeof e=="object"&&typeof e.kind=="string"}var z=Symbol("mobx administration"),Pn=function(){function e(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=J.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.reportObserved=function(){return vg(this)},t.reportChanged=function(){ut(),yg(this),ct()},t.toString=function(){return this.name_},ts(e,[{key:"isBeingObserved",get:function(){return Ye(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=Je(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return Ye(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=Je(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return Ye(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Je(this.flags_,e.diffValueMask_,r===1)}}])}();Pn.isBeingObservedMask_=1;Pn.isPendingUnobservationMask_=2;Pn.diffValueMask_=4;var Yc=ir("Atom",Pn);function ng(e,t,n){t===void 0&&(t=Pr),n===void 0&&(n=Pr);var r=new Pn(e);return t!==Pr&&hS(r,t),n!==Pr&&kg(r,n),r}function s0(e,t){return Mg(e,t)}function i0(e,t){return Object.is?Object.is(e,t):e===t?e!==0||1/e===1/t:e!==e&&t!==t}var qa={structural:s0,default:i0};function er(e,t,n){return Og(e)?e:Array.isArray(e)?be.array(e,{name:n}):rn(e)?be.object(e,void 0,{name:n}):es(e)?be.map(e,{name:n}):Gt(e)?be.set(e,{name:n}):typeof e=="function"&&!ii(e)&&!ai(e)?Qm(e)?Jr(e):si(n,e):e}function a0(e,t,n){if(e==null||Fo(e)||Lo(e)||or(e)||It(e))return e;if(Array.isArray(e))return be.array(e,{name:n,deep:!1});if(rn(e))return be.object(e,void 0,{name:n,deep:!1});if(es(e))return be.map(e,{name:n,deep:!1});if(Gt(e))return be.set(e,{name:n,deep:!1})}function Io(e){return e}function o0(e,t){return Mg(e,t)?t:e}var l0="override";function u0(e){return e.annotationType_===l0}function vi(e,t){return{annotationType_:e,options_:t,make_:c0,extend_:f0,decorate_20223_:d0}}function c0(e,t,n,r){var s;if((s=this.options_)!=null&&s.bound)return this.extend_(e,t,n,!1)===null?0:1;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if(ii(n.value))return 1;var i=rg(e,this,t,n,!1);return Ft(r,t,i),2}function f0(e,t,n,r){var s=rg(e,this,t,n);return e.defineProperty_(t,s,r)}function d0(e,t){var n=t.kind,r=t.name,s=t.addInitializer,i=this,a=function(u){var c,d,h,m;return tr((c=(d=i.options_)==null?void 0:d.name)!=null?c:r.toString(),u,(h=(m=i.options_)==null?void 0:m.autoAction)!=null?h:!1)};if(n=="field")return function(l){var u,c=l;return ii(c)||(c=a(c)),(u=i.options_)!=null&&u.bound&&(c=c.bind(this),c.isMobxAction=!0),c};if(n=="method"){var o;return ii(e)||(e=a(e)),(o=this.options_)!=null&&o.bound&&s(function(){var l=this,u=l[r].bind(l);u.isMobxAction=!0,l[r]=u}),e}Y("Cannot apply '"+i.annotationType_+"' to '"+String(r)+"' (kind: "+n+"):"+(`
'`+i.annotationType_+"' can only be used on properties with a function value."))}function h0(e,t,n,r){t.annotationType_,r.value}function rg(e,t,n,r,s){var i,a,o,l,u,c,d;s===void 0&&(s=T.safeDescriptors),h0(e,t,n,r);var h=r.value;if((i=t.options_)!=null&&i.bound){var m;h=h.bind((m=e.proxy_)!=null?m:e.target_)}return{value:tr((a=(o=t.options_)==null?void 0:o.name)!=null?a:n.toString(),h,(l=(u=t.options_)==null?void 0:u.autoAction)!=null?l:!1,(c=t.options_)!=null&&c.bound?(d=e.proxy_)!=null?d:e.target_:void 0),configurable:s?e.isPlainObject_:!0,enumerable:!1,writable:!s}}function sg(e,t){return{annotationType_:e,options_:t,make_:p0,extend_:m0,decorate_20223_:g0}}function p0(e,t,n,r){var s;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if((s=this.options_)!=null&&s.bound&&(!Qt(e.target_,t)||!ai(e.target_[t]))&&this.extend_(e,t,n,!1)===null)return 0;if(ai(n.value))return 1;var i=ig(e,this,t,n,!1,!1);return Ft(r,t,i),2}function m0(e,t,n,r){var s,i=ig(e,this,t,n,(s=this.options_)==null?void 0:s.bound);return e.defineProperty_(t,i,r)}function g0(e,t){var n,r=t.name,s=t.addInitializer;return ai(e)||(e=Jr(e)),(n=this.options_)!=null&&n.bound&&s(function(){var i=this,a=i[r].bind(i);a.isMobXFlow=!0,i[r]=a}),e}function v0(e,t,n,r){t.annotationType_,r.value}function ig(e,t,n,r,s,i){i===void 0&&(i=T.safeDescriptors),v0(e,t,n,r);var a=r.value;if(ai(a)||(a=Jr(a)),s){var o;a=a.bind((o=e.proxy_)!=null?o:e.target_),a.isMobXFlow=!0}return{value:a,configurable:i?e.isPlainObject_:!0,enumerable:!1,writable:!i}}function Jc(e,t){return{annotationType_:e,options_:t,make_:y0,extend_:_0,decorate_20223_:w0}}function y0(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function _0(e,t,n,r){return S0(e,this,t,n),e.defineComputedProperty_(t,Zn({},this.options_,{get:n.get,set:n.set}),r)}function w0(e,t){var n=this,r=t.name,s=t.addInitializer;return s(function(){var i=lr(this)[z],a=Zn({},n.options_,{get:e,context:this});a.name||(a.name="ObservableObject."+r.toString()),i.values_.set(r,new Ct(a))}),function(){return this[z].getObservablePropValue_(r)}}function S0(e,t,n,r){t.annotationType_,r.get}function No(e,t){return{annotationType_:e,options_:t,make_:E0,extend_:k0,decorate_20223_:b0}}function E0(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function k0(e,t,n,r){var s,i;return x0(e,this),e.defineObservableProperty_(t,n.value,(s=(i=this.options_)==null?void 0:i.enhancer)!=null?s:er,r)}function b0(e,t){var n=this,r=t.kind,s=t.name,i=new WeakSet;function a(o,l){var u,c,d=lr(o)[z],h=new Gn(l,(u=(c=n.options_)==null?void 0:c.enhancer)!=null?u:er,"ObservableObject."+s.toString(),!1);d.values_.set(s,h),i.add(o)}if(r=="accessor")return{get:function(){return i.has(this)||a(this,e.get.call(this)),this[z].getObservablePropValue_(s)},set:function(l){return i.has(this)||a(this,l),this[z].setObservablePropValue_(s,l)},init:function(l){return i.has(this)||a(this,l),l}}}function x0(e,t,n,r){t.annotationType_}var C0="true",A0=ag();function ag(e){return{annotationType_:C0,options_:e,make_:O0,extend_:R0,decorate_20223_:T0}}function O0(e,t,n,r){var s,i;if(n.get)return jo.make_(e,t,n,r);if(n.set){var a=tr(t.toString(),n.set);return r===e.target_?e.defineProperty_(t,{configurable:T.safeDescriptors?e.isPlainObject_:!0,set:a})===null?0:2:(Ft(r,t,{configurable:!0,set:a}),2)}if(r!==e.target_&&typeof n.value=="function"){var o;if(Qm(n.value)){var l,u=(l=this.options_)!=null&&l.autoBind?Jr.bound:Jr;return u.make_(e,t,n,r)}var c=(o=this.options_)!=null&&o.autoBind?si.bound:si;return c.make_(e,t,n,r)}var d=((s=this.options_)==null?void 0:s.deep)===!1?be.ref:be;if(typeof n.value=="function"&&(i=this.options_)!=null&&i.autoBind){var h;n.value=n.value.bind((h=e.proxy_)!=null?h:e.target_)}return d.make_(e,t,n,r)}function R0(e,t,n,r){var s,i;if(n.get)return jo.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:T.safeDescriptors?e.isPlainObject_:!0,set:tr(t.toString(),n.set)},r);if(typeof n.value=="function"&&(s=this.options_)!=null&&s.autoBind){var a;n.value=n.value.bind((a=e.proxy_)!=null?a:e.target_)}var o=((i=this.options_)==null?void 0:i.deep)===!1?be.ref:be;return o.extend_(e,t,n,r)}function T0(e,t){Y("'"+this.annotationType_+"' cannot be used as a decorator")}var P0="observable",D0="observable.ref",I0="observable.shallow",N0="observable.struct",og={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(og);function zi(e){return e||og}var Pu=No(P0),j0=No(D0,{enhancer:Io}),M0=No(I0,{enhancer:a0}),L0=No(N0,{enhancer:o0}),lg=$t(Pu);function Vi(e){return e.deep===!0?er:e.deep===!1?Io:$0(e.defaultDecorator)}function F0(e){var t;return e?(t=e.defaultDecorator)!=null?t:ag(e):void 0}function $0(e){var t,n;return e&&(t=(n=e.options_)==null?void 0:n.enhancer)!=null?t:er}function ug(e,t,n){if(gi(t))return Pu.decorate_20223_(e,t);if(Xn(t)){mi(e,t,Pu);return}return Og(e)?e:rn(e)?be.object(e,t,n):Array.isArray(e)?be.array(e,t):es(e)?be.map(e,t):Gt(e)?be.set(e,t):typeof e=="object"&&e!==null?e:be.box(e,t)}Km(ug,lg);var B0={box:function(t,n){var r=zi(n);return new Gn(t,Vi(r),r.name,!0,r.equals)},array:function(t,n){var r=zi(n);return(T.useProxies===!1||r.proxy===!1?FS:OS)(t,Vi(r),r.name)},map:function(t,n){var r=zi(n);return new Tg(t,Vi(r),r.name)},set:function(t,n){var r=zi(n);return new Pg(t,Vi(r),r.name)},object:function(t,n,r){return Dn(function(){return xg(T.useProxies===!1||(r==null?void 0:r.proxy)===!1?lr({},r):kS({},r),t,n)})},ref:$t(j0),shallow:$t(M0),deep:lg,struct:$t(L0)},be=Km(ug,B0),cg="computed",U0="computed.struct",Du=Jc(cg),z0=Jc(U0,{equals:qa.structural}),jo=function(t,n){if(gi(n))return Du.decorate_20223_(t,n);if(Xn(n))return mi(t,n,Du);if(rn(t))return $t(Jc(cg,t));var r=rn(n)?n:{};return r.get=t,r.name||(r.name=t.name||""),new Ct(r)};Object.assign(jo,Du);jo.struct=$t(z0);var Ud,zd,Qa=0,V0=1,W0=(Ud=(zd=Ja(function(){},"name"))==null?void 0:zd.configurable)!=null?Ud:!1,Vd={value:"action",configurable:!0,writable:!1,enumerable:!1};function tr(e,t,n,r){n===void 0&&(n=!1);function s(){return H0(e,n,t,r||this,arguments)}return s.isMobxAction=!0,s.toString=function(){return t.toString()},W0&&(Vd.value=e,Ft(s,"name",Vd)),s}function H0(e,t,n,r,s){var i=G0(e,t);try{return n.apply(r,s)}catch(a){throw i.error_=a,a}finally{K0(i)}}function G0(e,t,n,r){var s=!1,i=0,a=T.trackingDerivation,o=!t||!a;ut();var l=T.allowStateChanges;o&&(ar(),l=qc(!0));var u=Xc(!0),c={runAsAction_:o,prevDerivation_:a,prevAllowStateChanges_:l,prevAllowStateReads_:u,notifySpy_:s,startTime_:i,actionId_:V0++,parentActionId_:Qa};return Qa=c.actionId_,c}function K0(e){Qa!==e.actionId_&&Y(30),Qa=e.parentActionId_,e.error_!==void 0&&(T.suppressReactionErrors=!0),Qc(e.prevAllowStateChanges_),js(e.prevAllowStateReads_),ct(),e.runAsAction_&&Xt(e.prevDerivation_),T.suppressReactionErrors=!1}function qc(e){var t=T.allowStateChanges;return T.allowStateChanges=e,t}function Qc(e){T.allowStateChanges=e}var Gn=function(e){function t(r,s,i,a,o){var l;return i===void 0&&(i="ObservableValue"),o===void 0&&(o=qa.default),l=e.call(this,i)||this,l.enhancer=void 0,l.name_=void 0,l.equals=void 0,l.hasUnreportedChange_=!1,l.interceptors_=void 0,l.changeListeners_=void 0,l.value_=void 0,l.dehancer=void 0,l.enhancer=s,l.name_=i,l.equals=o,l.value_=s(r,void 0,i),l}tg(t,e);var n=t.prototype;return n.dehanceValue=function(s){return this.dehancer!==void 0?this.dehancer(s):s},n.set=function(s){this.value_,s=this.prepareNewValue_(s),s!==T.UNCHANGED&&this.setNewValue_(s)},n.prepareNewValue_=function(s){if(at(this)){var i=ot(this,{object:this,type:Bt,newValue:s});if(!i)return T.UNCHANGED;s=i.newValue}return s=this.enhancer(s,this.value_,this.name_),this.equals(this.value_,s)?T.UNCHANGED:s},n.setNewValue_=function(s){var i=this.value_;this.value_=s,this.reportChanged(),Et(this)&&kt(this,{type:Bt,object:this,newValue:s,oldValue:i})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(s){return yi(this,s)},n.observe_=function(s,i){return i&&s({observableKind:"value",debugObjectName:this.name_,object:this,type:Bt,newValue:this.value_,oldValue:void 0}),_i(this,s)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return eg(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t}(Pn),Ct=function(){function e(n){this.dependenciesState_=J.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=J.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Za(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Xa.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||Y(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=tr("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?qa.structural:qa.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){X0(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.get=function(){if(this.isComputing&&Y(32,this.name_,this.derivation),T.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)Iu(this)&&(this.warnAboutUntrackedRead_(),ut(),this.value_=this.computeValue_(!1),ct());else if(vg(this),Iu(this)){var r=T.trackingContext;this.keepAlive_&&!r&&(T.trackingContext=this),this.trackAndCompute()&&Q0(this),T.trackingContext=r}var s=this.value_;if(da(s))throw s.cause;return s},t.set=function(r){if(this.setter_){this.isRunningSetter&&Y(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter=!1}}else Y(34,this.name_)},t.trackAndCompute=function(){var r=this.value_,s=this.dependenciesState_===J.NOT_TRACKING_,i=this.computeValue_(!0),a=s||da(r)||da(i)||!this.equals_(r,i);return a&&(this.value_=i),a},t.computeValue_=function(r){this.isComputing=!0;var s=qc(!1),i;if(r)i=fg(this,this.derivation,this.scope_);else if(T.disableErrorBoundaries===!0)i=this.derivation.call(this.scope_);else try{i=this.derivation.call(this.scope_)}catch(a){i=new Za(a)}return Qc(s),this.isComputing=!1,i},t.suspend_=function(){this.keepAlive_||(Nu(this),this.value_=void 0)},t.observe_=function(r,s){var i=this,a=!0,o=void 0;return lS(function(){var l=i.get();if(!a||s){var u=ar();r({observableKind:"computed",debugObjectName:i.name_,type:Bt,object:i,newValue:l,oldValue:o}),Xt(u)}a=!1,o=l})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return eg(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},ts(e,[{key:"isComputing",get:function(){return Ye(this.flags_,e.isComputingMask_)},set:function(r){this.flags_=Je(this.flags_,e.isComputingMask_,r)}},{key:"isRunningSetter",get:function(){return Ye(this.flags_,e.isRunningSetterMask_)},set:function(r){this.flags_=Je(this.flags_,e.isRunningSetterMask_,r)}},{key:"isBeingObserved",get:function(){return Ye(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=Je(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return Ye(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=Je(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return Ye(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Je(this.flags_,e.diffValueMask_,r===1)}}])}();Ct.isComputingMask_=1;Ct.isRunningSetterMask_=2;Ct.isBeingObservedMask_=4;Ct.isPendingUnobservationMask_=8;Ct.diffValueMask_=16;var Mo=ir("ComputedValue",Ct),J;(function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"})(J||(J={}));var Xa;(function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"})(Xa||(Xa={}));var Za=function(t){this.cause=void 0,this.cause=t};function da(e){return e instanceof Za}function Iu(e){switch(e.dependenciesState_){case J.UP_TO_DATE_:return!1;case J.NOT_TRACKING_:case J.STALE_:return!0;case J.POSSIBLY_STALE_:{for(var t=Xc(!0),n=ar(),r=e.observing_,s=r.length,i=0;i<s;i++){var a=r[i];if(Mo(a)){if(T.disableErrorBoundaries)a.get();else try{a.get()}catch{return Xt(n),js(t),!0}if(e.dependenciesState_===J.STALE_)return Xt(n),js(t),!0}}return hg(e),Xt(n),js(t),!1}}}function fg(e,t,n){var r=Xc(!0);hg(e),e.newObserving_=new Array(e.runId_===0?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++T.runId;var s=T.trackingDerivation;T.trackingDerivation=e,T.inBatch++;var i;if(T.disableErrorBoundaries===!0)i=t.call(n);else try{i=t.call(n)}catch(a){i=new Za(a)}return T.inBatch--,T.trackingDerivation=s,Y0(e),js(r),i}function Y0(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=J.UP_TO_DATE_,s=0,i=e.unboundDepsCount_,a=0;a<i;a++){var o=n[a];o.diffValue===0&&(o.diffValue=1,s!==a&&(n[s]=o),s++),o.dependenciesState_>r&&(r=o.dependenciesState_)}for(n.length=s,e.newObserving_=null,i=t.length;i--;){var l=t[i];l.diffValue===0&&mg(l,e),l.diffValue=0}for(;s--;){var u=n[s];u.diffValue===1&&(u.diffValue=0,q0(u,e))}r!==J.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}function Nu(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)mg(t[n],e);e.dependenciesState_=J.NOT_TRACKING_}function dg(e){var t=ar();try{return e()}finally{Xt(t)}}function ar(){var e=T.trackingDerivation;return T.trackingDerivation=null,e}function Xt(e){T.trackingDerivation=e}function Xc(e){var t=T.allowStateReads;return T.allowStateReads=e,t}function js(e){T.allowStateReads=e}function hg(e){if(e.dependenciesState_!==J.UP_TO_DATE_){e.dependenciesState_=J.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=J.UP_TO_DATE_}}var ha=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},pa=!0,pg=!1,T=function(){var e=To();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(pa=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==new ha().version&&(pa=!1),pa?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new ha):(setTimeout(function(){pg||Y(35)},1),new ha)}();function J0(){if((T.pendingReactions.length||T.inBatch||T.isRunningReactions)&&Y(36),pg=!0,pa){var e=To();--e.__mobxInstanceCount===0&&(e.__mobxGlobals=void 0),T=new ha}}function q0(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function mg(e,t){e.observers_.delete(t),e.observers_.size===0&&gg(e)}function gg(e){e.isPendingUnobservation===!1&&(e.isPendingUnobservation=!0,T.pendingUnobservations.push(e))}function ut(){T.inBatch++}function ct(){if(--T.inBatch===0){_g();for(var e=T.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof Ct&&n.suspend_())}T.pendingUnobservations=[]}}function vg(e){var t=T.trackingDerivation;return t!==null?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&T.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(e.observers_.size===0&&T.inBatch>0&&gg(e),!1)}function yg(e){e.lowestObserverState_!==J.STALE_&&(e.lowestObserverState_=J.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===J.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=J.STALE_}))}function Q0(e){e.lowestObserverState_!==J.STALE_&&(e.lowestObserverState_=J.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===J.POSSIBLY_STALE_?t.dependenciesState_=J.STALE_:t.dependenciesState_===J.UP_TO_DATE_&&(e.lowestObserverState_=J.UP_TO_DATE_)}))}function X0(e){e.lowestObserverState_===J.UP_TO_DATE_&&(e.lowestObserverState_=J.POSSIBLY_STALE_,e.observers_.forEach(function(t){t.dependenciesState_===J.UP_TO_DATE_&&(t.dependenciesState_=J.POSSIBLY_STALE_,t.onBecomeStale_())}))}var sn=function(){function e(n,r,s,i){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=J.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=Xa.NONE,this.name_=n,this.onInvalidate_=r,this.errorHandler_=s,this.requiresObservable_=i}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,T.pendingReactions.push(this),_g())},t.runReaction_=function(){if(!this.isDisposed){ut(),this.isScheduled=!1;var r=T.trackingContext;if(T.trackingContext=this,Iu(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(s){this.reportExceptionInDerivation_(s)}}T.trackingContext=r,ct()}},t.track=function(r){if(!this.isDisposed){ut(),this.isRunning=!0;var s=T.trackingContext;T.trackingContext=this;var i=fg(this,r,void 0);T.trackingContext=s,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&Nu(this),da(i)&&this.reportExceptionInDerivation_(i.cause),ct()}},t.reportExceptionInDerivation_=function(r){var s=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(T.disableErrorBoundaries)throw r;var i="[mobx] uncaught error in '"+this+"'";T.suppressReactionErrors||console.error(i,r),T.globalReactionErrorHandlers.forEach(function(a){return a(r,s)})},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(ut(),Nu(this),ct()))},t.getDisposer_=function(r){var s=this,i=function a(){s.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",a)};return r==null||r.addEventListener==null||r.addEventListener("abort",i),i[z]=this,i},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(r){},ts(e,[{key:"isDisposed",get:function(){return Ye(this.flags_,e.isDisposedMask_)},set:function(r){this.flags_=Je(this.flags_,e.isDisposedMask_,r)}},{key:"isScheduled",get:function(){return Ye(this.flags_,e.isScheduledMask_)},set:function(r){this.flags_=Je(this.flags_,e.isScheduledMask_,r)}},{key:"isTrackPending",get:function(){return Ye(this.flags_,e.isTrackPendingMask_)},set:function(r){this.flags_=Je(this.flags_,e.isTrackPendingMask_,r)}},{key:"isRunning",get:function(){return Ye(this.flags_,e.isRunningMask_)},set:function(r){this.flags_=Je(this.flags_,e.isRunningMask_,r)}},{key:"diffValue",get:function(){return Ye(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Je(this.flags_,e.diffValueMask_,r===1)}}])}();sn.isDisposedMask_=1;sn.isScheduledMask_=2;sn.isTrackPendingMask_=4;sn.isRunningMask_=8;sn.diffValueMask_=16;var Z0=100,ju=function(t){return t()};function _g(){T.inBatch>0||T.isRunningReactions||ju(eS)}function eS(){T.isRunningReactions=!0;for(var e=T.pendingReactions,t=0;e.length>0;){++t===Z0&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,s=n.length;r<s;r++)n[r].runReaction_()}T.isRunningReactions=!1}var eo=ir("Reaction",sn);function tS(e){var t=ju;ju=function(r){return e(function(){return t(r)})}}function Ms(){return!1}function nS(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var wg="action",rS="action.bound",Sg="autoAction",sS="autoAction.bound",iS="<unnamed action>",Mu=vi(wg),aS=vi(rS,{bound:!0}),Lu=vi(Sg,{autoAction:!0}),oS=vi(sS,{autoAction:!0,bound:!0});function Eg(e){var t=function(r,s){if(xt(r))return tr(r.name||iS,r,e);if(xt(s))return tr(r,s,e);if(gi(s))return(e?Lu:Mu).decorate_20223_(r,s);if(Xn(s))return mi(r,s,e?Lu:Mu);if(Xn(r))return $t(vi(e?Sg:wg,{name:r,autoAction:e}))};return t}var Ir=Eg(!1);Object.assign(Ir,Mu);var si=Eg(!0);Object.assign(si,Lu);Ir.bound=$t(aS);si.bound=$t(oS);function ii(e){return xt(e)&&e.isMobxAction===!0}function lS(e,t){var n,r,s,i;t===void 0&&(t=Ym);var a=(n=(r=t)==null?void 0:r.name)!=null?n:"Autorun",o=!t.scheduler&&!t.delay,l;if(o)l=new sn(a,function(){this.track(d)},t.onError,t.requiresObservable);else{var u=cS(t),c=!1;l=new sn(a,function(){c||(c=!0,u(function(){c=!1,l.isDisposed||l.track(d)}))},t.onError,t.requiresObservable)}function d(){e(l)}return(s=t)!=null&&(s=s.signal)!=null&&s.aborted||l.schedule_(),l.getDisposer_((i=t)==null?void 0:i.signal)}var uS=function(t){return t()};function cS(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:uS}var fS="onBO",dS="onBUO";function hS(e,t,n){return bg(fS,e,t,n)}function kg(e,t,n){return bg(dS,e,t,n)}function bg(e,t,n,r){var s=ro(t),i=xt(r)?r:n,a=e+"L";return s[a]?s[a].add(i):s[a]=new Set([i]),function(){var o=s[a];o&&(o.delete(i),o.size===0&&delete s[a])}}var pS="never",Wi="always",mS="observed";function gS(e){e.isolateGlobalState===!0&&J0();var t=e.useProxies,n=e.enforceActions;if(t!==void 0&&(T.useProxies=t===Wi?!0:t===pS?!1:typeof Proxy<"u"),t==="ifavailable"&&(T.verifyProxies=!0),n!==void 0){var r=n===Wi?Wi:n===mS;T.enforceActions=r,T.allowStateChanges=!(r===!0||r===Wi)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(s){s in e&&(T[s]=!!e[s])}),T.allowStateReads=!T.observableRequiresReaction,e.reactionScheduler&&tS(e.reactionScheduler)}function xg(e,t,n,r){var s=Xw(t);return Dn(function(){var i=lr(e,r)[z];Yr(s).forEach(function(a){i.extend_(a,s[a],n&&a in n?n[a]:!0)})}),e}function vS(e,t){return Cg(ro(e,t))}function Cg(e){var t={name:e.name_};return e.observing_&&e.observing_.length>0&&(t.dependencies=yS(e.observing_).map(Cg)),t}function yS(e){return Array.from(new Set(e))}var _S=0;function Ag(){this.message="FLOW_CANCELLED"}Ag.prototype=Object.create(Error.prototype);var yl=sg("flow"),wS=sg("flow.bound",{bound:!0}),Jr=Object.assign(function(t,n){if(gi(n))return yl.decorate_20223_(t,n);if(Xn(n))return mi(t,n,yl);var r=t,s=r.name||"<unnamed flow>",i=function(){var o=this,l=arguments,u=++_S,c=Ir(s+" - runid: "+u+" - init",r).apply(o,l),d,h=void 0,m=new Promise(function(S,E){var O=0;d=E;function g(y){h=void 0;var b;try{b=Ir(s+" - runid: "+u+" - yield "+O++,c.next).call(c,y)}catch(x){return E(x)}p(b)}function f(y){h=void 0;var b;try{b=Ir(s+" - runid: "+u+" - yield "+O++,c.throw).call(c,y)}catch(x){return E(x)}p(b)}function p(y){if(xt(y==null?void 0:y.then)){y.then(p,E);return}return y.done?S(y.value):(h=Promise.resolve(y.value),h.then(g,f))}g(void 0)});return m.cancel=Ir(s+" - runid: "+u+" - cancel",function(){try{h&&Wd(h);var S=c.return(void 0),E=Promise.resolve(S.value);E.then(Pr,Pr),Wd(E),d(new Ag)}catch(O){d(O)}}),m};return i.isMobXFlow=!0,i},yl);Jr.bound=$t(wS);function Wd(e){xt(e.cancel)&&e.cancel()}function ai(e){return(e==null?void 0:e.isMobXFlow)===!0}function SS(e,t){return e?Fo(e)||!!e[z]||Yc(e)||eo(e)||Mo(e):!1}function Og(e){return SS(e)}function Kt(e,t){t===void 0&&(t=void 0),ut();try{return e.apply(t)}finally{ct()}}function fr(e){return e[z]}var ES={has:function(t,n){return fr(t).has_(n)},get:function(t,n){return fr(t).get_(n)},set:function(t,n,r){var s;return Xn(n)?(s=fr(t).set_(n,r,!0))!=null?s:!0:!1},deleteProperty:function(t,n){var r;return Xn(n)?(r=fr(t).delete_(n,!0))!=null?r:!0:!1},defineProperty:function(t,n,r){var s;return(s=fr(t).defineProperty_(n,r))!=null?s:!0},ownKeys:function(t){return fr(t).ownKeys_()},preventExtensions:function(t){Y(13)}};function kS(e,t){var n,r;return Jm(),e=lr(e,t),(r=(n=e[z]).proxy_)!=null?r:n.proxy_=new Proxy(e,ES)}function at(e){return e.interceptors_!==void 0&&e.interceptors_.length>0}function yi(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),qm(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function ot(e,t){var n=ar();try{for(var r=[].concat(e.interceptors_||[]),s=0,i=r.length;s<i&&(t=r[s](t),t&&!t.type&&Y(14),!!t);s++);return t}finally{Xt(n)}}function Et(e){return e.changeListeners_!==void 0&&e.changeListeners_.length>0}function _i(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),qm(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function kt(e,t){var n=ar(),r=e.changeListeners_;if(r){r=r.slice();for(var s=0,i=r.length;s<i;s++)r[s](t);Xt(n)}}function bS(e,t,n){return Dn(function(){var r,s=lr(e,n)[z];(r=t)!=null||(t=r0(e)),Yr(t).forEach(function(i){return s.make_(i,t[i])})}),e}var _l=Symbol("mobx-keys");function xS(e,t,n){return rn(e)?xg(e,e,t,n):(Dn(function(){var r=lr(e,n)[z];if(!e[_l]){var s=Object.getPrototypeOf(e),i=new Set([].concat(Yr(e),Yr(s)));i.delete("constructor"),i.delete(z),pi(s,_l,i)}e[_l].forEach(function(a){return r.make_(a,t&&a in t?t[a]:!0)})}),e)}var Hd="splice",Bt="update",CS=1e4,AS={get:function(t,n){var r=t[z];return n===z?r:n==="length"?r.getArrayLength_():typeof n=="string"&&!isNaN(n)?r.get_(parseInt(n)):Qt(to,n)?to[n]:t[n]},set:function(t,n,r){var s=t[z];return n==="length"&&s.setArrayLength_(r),typeof n=="symbol"||isNaN(n)?t[n]=r:s.set_(parseInt(n),r),!0},preventExtensions:function(){Y(15)}},Zc=function(){function e(n,r,s,i){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=s,this.legacyMode_=i,this.atom_=new Pn(n),this.enhancer_=function(a,o){return r(a,o,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},t.intercept_=function(r){return yi(this,r)},t.observe_=function(r,s){return s===void 0&&(s=!1),s&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),_i(this,r)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&Y("Out of range: "+r);var s=this.values_.length;if(r!==s)if(r>s){for(var i=new Array(r-s),a=0;a<r-s;a++)i[a]=void 0;this.spliceWithArray_(s,0,i)}else this.spliceWithArray_(r,s-r)},t.updateArrayLength_=function(r,s){r!==this.lastKnownLength_&&Y(16),this.lastKnownLength_+=s,this.legacyMode_&&s>0&&jg(r+s+1)},t.spliceWithArray_=function(r,s,i){var a=this;this.atom_;var o=this.values_.length;if(r===void 0?r=0:r>o?r=o:r<0&&(r=Math.max(0,o+r)),arguments.length===1?s=o-r:s==null?s=0:s=Math.max(0,Math.min(s,o-r)),i===void 0&&(i=Ru),at(this)){var l=ot(this,{object:this.proxy_,type:Hd,index:r,removedCount:s,added:i});if(!l)return Ru;s=l.removedCount,i=l.added}if(i=i.length===0?i:i.map(function(d){return a.enhancer_(d,void 0)}),this.legacyMode_){var u=i.length-s;this.updateArrayLength_(o,u)}var c=this.spliceItemsIntoValues_(r,s,i);return(s!==0||i.length!==0)&&this.notifyArraySplice_(r,i,c),this.dehanceValues_(c)},t.spliceItemsIntoValues_=function(r,s,i){if(i.length<CS){var a;return(a=this.values_).splice.apply(a,[r,s].concat(i))}else{var o=this.values_.slice(r,r+s),l=this.values_.slice(r+s);this.values_.length+=i.length-s;for(var u=0;u<i.length;u++)this.values_[r+u]=i[u];for(var c=0;c<l.length;c++)this.values_[r+i.length+c]=l[c];return o}},t.notifyArrayChildUpdate_=function(r,s,i){var a=!this.owned_&&Ms(),o=Et(this),l=o||a?{observableKind:"array",object:this.proxy_,type:Bt,debugObjectName:this.atom_.name_,index:r,newValue:s,oldValue:i}:null;this.atom_.reportChanged(),o&&kt(this,l)},t.notifyArraySplice_=function(r,s,i){var a=!this.owned_&&Ms(),o=Et(this),l=o||a?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Hd,index:r,removed:i,added:s,removedCount:i.length,addedCount:s.length}:null;this.atom_.reportChanged(),o&&kt(this,l)},t.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},t.set_=function(r,s){var i=this.values_;if(this.legacyMode_&&r>i.length&&Y(17,r,i.length),r<i.length){this.atom_;var a=i[r];if(at(this)){var o=ot(this,{type:Bt,object:this.proxy_,index:r,newValue:s});if(!o)return;s=o.newValue}s=this.enhancer_(s,a);var l=s!==a;l&&(i[r]=s,this.notifyArrayChildUpdate_(r,s,a))}else{for(var u=new Array(r+1-i.length),c=0;c<u.length-1;c++)u[c]=void 0;u[u.length-1]=s,this.spliceWithArray_(i.length,0,u)}},e}();function OS(e,t,n,r){return n===void 0&&(n="ObservableArray"),r===void 0&&(r=!1),Jm(),Dn(function(){var s=new Zc(n,t,r,!1);Xm(s.values_,z,s);var i=new Proxy(s.values_,AS);return s.proxy_=i,e&&e.length&&s.spliceWithArray_(0,0,e),i})}var to={clear:function(){return this.splice(0)},replace:function(t){var n=this[z];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i];var a=this[z];switch(arguments.length){case 0:return[];case 1:return a.spliceWithArray_(t);case 2:return a.spliceWithArray_(t,n)}return a.spliceWithArray_(t,n,s)},spliceWithArray:function(t,n,r){return this[z].spliceWithArray_(t,n,r)},push:function(){for(var t=this[z],n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function(){return this.splice(Math.max(this[z].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[z],n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function(){return T.trackingDerivation&&Y(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){T.trackingDerivation&&Y(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var n=this[z],r=n.dehanceValues_(n.values_).indexOf(t);return r>-1?(this.splice(r,1),!0):!1}};te("at",tt);te("concat",tt);te("flat",tt);te("includes",tt);te("indexOf",tt);te("join",tt);te("lastIndexOf",tt);te("slice",tt);te("toString",tt);te("toLocaleString",tt);te("toSorted",tt);te("toSpliced",tt);te("with",tt);te("every",At);te("filter",At);te("find",At);te("findIndex",At);te("findLast",At);te("findLastIndex",At);te("flatMap",At);te("forEach",At);te("map",At);te("some",At);te("toReversed",At);te("reduce",Rg);te("reduceRight",Rg);function te(e,t){typeof Array.prototype[e]=="function"&&(to[e]=t(e))}function tt(e){return function(){var t=this[z];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function At(e){return function(t,n){var r=this,s=this[z];s.atom_.reportObserved();var i=s.dehanceValues_(s.values_);return i[e](function(a,o){return t.call(n,a,o,r)})}}function Rg(e){return function(){var t=this,n=this[z];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),s=arguments[0];return arguments[0]=function(i,a,o){return s(i,a,o,t)},r[e].apply(r,arguments)}}var RS=ir("ObservableArrayAdministration",Zc);function Lo(e){return Do(e)&&RS(e[z])}var TS={},vn="add",no="delete",Tg=function(){function e(n,r,s){var i=this;r===void 0&&(r=er),s===void 0&&(s="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[z]=TS,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=s,xt(Map)||Y(18),Dn(function(){i.keysAtom_=ng("ObservableMap.keys()"),i.data_=new Map,i.hasMap_=new Map,n&&i.merge(n)})}var t=e.prototype;return t.has_=function(r){return this.data_.has(r)},t.has=function(r){var s=this;if(!T.trackingDerivation)return this.has_(r);var i=this.hasMap_.get(r);if(!i){var a=i=new Gn(this.has_(r),Io,"ObservableMap.key?",!1);this.hasMap_.set(r,a),kg(a,function(){return s.hasMap_.delete(r)})}return i.get()},t.set=function(r,s){var i=this.has_(r);if(at(this)){var a=ot(this,{type:i?Bt:vn,object:this,newValue:s,name:r});if(!a)return this;s=a.newValue}return i?this.updateValue_(r,s):this.addValue_(r,s),this},t.delete=function(r){var s=this;if(this.keysAtom_,at(this)){var i=ot(this,{type:no,object:this,name:r});if(!i)return!1}if(this.has_(r)){var a=Ms(),o=Et(this),l=o||a?{observableKind:"map",debugObjectName:this.name_,type:no,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return Kt(function(){var u;s.keysAtom_.reportChanged(),(u=s.hasMap_.get(r))==null||u.setNewValue_(!1);var c=s.data_.get(r);c.setNewValue_(void 0),s.data_.delete(r)}),o&&kt(this,l),!0}return!1},t.updateValue_=function(r,s){var i=this.data_.get(r);if(s=i.prepareNewValue_(s),s!==T.UNCHANGED){var a=Ms(),o=Et(this),l=o||a?{observableKind:"map",debugObjectName:this.name_,type:Bt,object:this,oldValue:i.value_,name:r,newValue:s}:null;i.setNewValue_(s),o&&kt(this,l)}},t.addValue_=function(r,s){var i=this;this.keysAtom_,Kt(function(){var u,c=new Gn(s,i.enhancer_,"ObservableMap.key",!1);i.data_.set(r,c),s=c.value_,(u=i.hasMap_.get(r))==null||u.setNewValue_(!0),i.keysAtom_.reportChanged()});var a=Ms(),o=Et(this),l=o||a?{observableKind:"map",debugObjectName:this.name_,type:vn,object:this,name:r,newValue:s}:null;o&&kt(this,l)},t.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var r=this,s=this.keys();return Gd({next:function(){var a=s.next(),o=a.done,l=a.value;return{done:o,value:o?void 0:r.get(l)}}})},t.entries=function(){var r=this,s=this.keys();return Gd({next:function(){var a=s.next(),o=a.done,l=a.value;return{done:o,value:o?void 0:[l,r.get(l)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(r,s){for(var i=Dr(this),a;!(a=i()).done;){var o=a.value,l=o[0],u=o[1];r.call(s,u,l,this)}},t.merge=function(r){var s=this;return or(r)&&(r=new Map(r)),Kt(function(){rn(r)?Qw(r).forEach(function(i){return s.set(i,r[i])}):Array.isArray(r)?r.forEach(function(i){var a=i[0],o=i[1];return s.set(a,o)}):es(r)?(qw(r)||Y(19,r),r.forEach(function(i,a){return s.set(a,i)})):r!=null&&Y(20,r)}),this},t.clear=function(){var r=this;Kt(function(){dg(function(){for(var s=Dr(r.keys()),i;!(i=s()).done;){var a=i.value;r.delete(a)}})})},t.replace=function(r){var s=this;return Kt(function(){for(var i=PS(r),a=new Map,o=!1,l=Dr(s.data_.keys()),u;!(u=l()).done;){var c=u.value;if(!i.has(c)){var d=s.delete(c);if(d)o=!0;else{var h=s.data_.get(c);a.set(c,h)}}}for(var m=Dr(i.entries()),S;!(S=m()).done;){var E=S.value,O=E[0],g=E[1],f=s.data_.has(O);if(s.set(O,g),s.data_.has(O)){var p=s.data_.get(O);a.set(O,p),f||(o=!0)}}if(!o)if(s.data_.size!==a.size)s.keysAtom_.reportChanged();else for(var y=s.data_.keys(),b=a.keys(),x=y.next(),k=b.next();!x.done;){if(x.value!==k.value){s.keysAtom_.reportChanged();break}x=y.next(),k=b.next()}s.data_=a}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(r,s){return _i(this,r)},t.intercept_=function(r){return yi(this,r)},ts(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),or=ir("ObservableMap",Tg);function Gd(e){return e[Symbol.toStringTag]="MapIterator",tf(e)}function PS(e){if(es(e)||or(e))return e;if(Array.isArray(e))return new Map(e);if(rn(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}else return Y(21,e)}var DS={},Pg=function(){function e(n,r,s){var i=this;r===void 0&&(r=er),s===void 0&&(s="ObservableSet"),this.name_=void 0,this[z]=DS,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=s,xt(Set)||Y(22),this.enhancer_=function(a,o){return r(a,o,s)},Dn(function(){i.atom_=ng(i.name_),n&&i.replace(n)})}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.clear=function(){var r=this;Kt(function(){dg(function(){for(var s=Dr(r.data_.values()),i;!(i=s()).done;){var a=i.value;r.delete(a)}})})},t.forEach=function(r,s){for(var i=Dr(this),a;!(a=i()).done;){var o=a.value;r.call(s,o,o,this)}},t.add=function(r){var s=this;if(this.atom_,at(this)){var i=ot(this,{type:vn,object:this,newValue:r});if(!i)return this;r=i.newValue}if(!this.has(r)){Kt(function(){s.data_.add(s.enhancer_(r,void 0)),s.atom_.reportChanged()});var a=!1,o=Et(this),l=o||a?{observableKind:"set",debugObjectName:this.name_,type:vn,object:this,newValue:r}:null;o&&kt(this,l)}return this},t.delete=function(r){var s=this;if(at(this)){var i=ot(this,{type:no,object:this,oldValue:r});if(!i)return!1}if(this.has(r)){var a=!1,o=Et(this),l=o||a?{observableKind:"set",debugObjectName:this.name_,type:no,object:this,oldValue:r}:null;return Kt(function(){s.atom_.reportChanged(),s.data_.delete(r)}),o&&kt(this,l),!0}return!1},t.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},t.entries=function(){var r=this.values();return Kd({next:function(){var i=r.next(),a=i.value,o=i.done;return o?{value:void 0,done:o}:{value:[a,a],done:o}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var r=this,s=this.data_.values();return Kd({next:function(){var a=s.next(),o=a.value,l=a.done;return l?{value:void 0,done:l}:{value:r.dehanceValue_(o),done:l}}})},t.intersection=function(r){if(Gt(r)&&!It(r))return r.intersection(this);var s=new Set(this);return s.intersection(r)},t.union=function(r){if(Gt(r)&&!It(r))return r.union(this);var s=new Set(this);return s.union(r)},t.difference=function(r){return new Set(this).difference(r)},t.symmetricDifference=function(r){if(Gt(r)&&!It(r))return r.symmetricDifference(this);var s=new Set(this);return s.symmetricDifference(r)},t.isSubsetOf=function(r){return new Set(this).isSubsetOf(r)},t.isSupersetOf=function(r){return new Set(this).isSupersetOf(r)},t.isDisjointFrom=function(r){if(Gt(r)&&!It(r))return r.isDisjointFrom(this);var s=new Set(this);return s.isDisjointFrom(r)},t.replace=function(r){var s=this;return It(r)&&(r=new Set(r)),Kt(function(){Array.isArray(r)?(s.clear(),r.forEach(function(i){return s.add(i)})):Gt(r)?(s.clear(),r.forEach(function(i){return s.add(i)})):r!=null&&Y("Cannot initialize set from "+r)}),this},t.observe_=function(r,s){return _i(this,r)},t.intercept_=function(r){return yi(this,r)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},ts(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),It=ir("ObservableSet",Pg);function Kd(e){return e[Symbol.toStringTag]="SetIterator",tf(e)}var Yd=Object.create(null),Jd="remove",Dg=function(){function e(n,r,s,i){r===void 0&&(r=new Map),i===void 0&&(i=A0),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=r,this.name_=s,this.defaultAnnotation_=i,this.keysAtom_=new Pn("ObservableObject.keys"),this.isPlainObject_=rn(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(r){return this.values_.get(r).get()},t.setObservablePropValue_=function(r,s){var i=this.values_.get(r);if(i instanceof Ct)return i.set(s),!0;if(at(this)){var a=ot(this,{type:Bt,object:this.proxy_||this.target_,name:r,newValue:s});if(!a)return null;s=a.newValue}if(s=i.prepareNewValue_(s),s!==T.UNCHANGED){var o=Et(this),l=!1,u=o||l?{type:Bt,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:i.value_,name:r,newValue:s}:null;i.setNewValue_(s),o&&kt(this,u)}return!0},t.get_=function(r){return T.trackingDerivation&&!Qt(this.target_,r)&&this.has_(r),this.target_[r]},t.set_=function(r,s,i){return i===void 0&&(i=!1),Qt(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,s):i?Reflect.set(this.target_,r,s):(this.target_[r]=s,!0):this.extend_(r,{value:s,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,i)},t.has_=function(r){if(!T.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var s=this.pendingKeys_.get(r);return s||(s=new Gn(r in this.target_,Io,"ObservableObject.key?",!1),this.pendingKeys_.set(r,s)),s.get()},t.make_=function(r,s){if(s===!0&&(s=this.defaultAnnotation_),s!==!1){if(!(r in this.target_)){var i;if((i=this.target_[Nt])!=null&&i[r])return;Y(1,s.annotationType_,this.name_+"."+r.toString())}for(var a=this.target_;a&&a!==Po;){var o=Ja(a,r);if(o){var l=s.make_(this,r,o,a);if(l===0)return;if(l===1)break}a=Object.getPrototypeOf(a)}Qd(this,s,r)}},t.extend_=function(r,s,i,a){if(a===void 0&&(a=!1),i===!0&&(i=this.defaultAnnotation_),i===!1)return this.defineProperty_(r,s,a);var o=i.extend_(this,r,s,a);return o&&Qd(this,i,r),o},t.defineProperty_=function(r,s,i){i===void 0&&(i=!1),this.keysAtom_;try{ut();var a=this.delete_(r);if(!a)return a;if(at(this)){var o=ot(this,{object:this.proxy_||this.target_,name:r,type:vn,newValue:s.value});if(!o)return null;var l=o.newValue;s.value!==l&&(s=Zn({},s,{value:l}))}if(i){if(!Reflect.defineProperty(this.target_,r,s))return!1}else Ft(this.target_,r,s);this.notifyPropertyAddition_(r,s.value)}finally{ct()}return!0},t.defineObservableProperty_=function(r,s,i,a){a===void 0&&(a=!1),this.keysAtom_;try{ut();var o=this.delete_(r);if(!o)return o;if(at(this)){var l=ot(this,{object:this.proxy_||this.target_,name:r,type:vn,newValue:s});if(!l)return null;s=l.newValue}var u=qd(r),c={configurable:T.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:u.get,set:u.set};if(a){if(!Reflect.defineProperty(this.target_,r,c))return!1}else Ft(this.target_,r,c);var d=new Gn(s,i,"ObservableObject.key",!1);this.values_.set(r,d),this.notifyPropertyAddition_(r,d.value_)}finally{ct()}return!0},t.defineComputedProperty_=function(r,s,i){i===void 0&&(i=!1),this.keysAtom_;try{ut();var a=this.delete_(r);if(!a)return a;if(at(this)){var o=ot(this,{object:this.proxy_||this.target_,name:r,type:vn,newValue:void 0});if(!o)return null}s.name||(s.name="ObservableObject.key"),s.context=this.proxy_||this.target_;var l=qd(r),u={configurable:T.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:l.get,set:l.set};if(i){if(!Reflect.defineProperty(this.target_,r,u))return!1}else Ft(this.target_,r,u);this.values_.set(r,new Ct(s)),this.notifyPropertyAddition_(r,void 0)}finally{ct()}return!0},t.delete_=function(r,s){if(s===void 0&&(s=!1),this.keysAtom_,!Qt(this.target_,r))return!0;if(at(this)){var i=ot(this,{object:this.proxy_||this.target_,name:r,type:Jd});if(!i)return null}try{var a;ut();var o=Et(this),l=!1,u=this.values_.get(r),c=void 0;if(!u&&(o||l)){var d;c=(d=Ja(this.target_,r))==null?void 0:d.value}if(s){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(u&&(this.values_.delete(r),u instanceof Gn&&(c=u.value_),yg(u)),this.keysAtom_.reportChanged(),(a=this.pendingKeys_)==null||(a=a.get(r))==null||a.set(r in this.target_),o||l){var h={type:Jd,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:c,name:r};o&&kt(this,h)}}finally{ct()}return!0},t.observe_=function(r,s){return _i(this,r)},t.intercept_=function(r){return yi(this,r)},t.notifyPropertyAddition_=function(r,s){var i,a=Et(this),o=!1;if(a||o){var l=a||o?{type:vn,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:s}:null;a&&kt(this,l)}(i=this.pendingKeys_)==null||(i=i.get(r))==null||i.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),Yr(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function lr(e,t){var n;if(Qt(e,z))return e;var r=(n=t==null?void 0:t.name)!=null?n:"ObservableObject",s=new Dg(e,new Map,String(r),F0(t));return pi(e,z,s),e}var IS=ir("ObservableObjectAdministration",Dg);function qd(e){return Yd[e]||(Yd[e]={get:function(){return this[z].getObservablePropValue_(e)},set:function(n){return this[z].setObservablePropValue_(e,n)}})}function Fo(e){return Do(e)?IS(e[z]):!1}function Qd(e,t,n){var r;(r=e.target_[Nt])==null||delete r[n]}var NS=Ng(0),jS=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,e===!1}(),wl=0,Ig=function(){};function MS(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):e.prototype.__proto__!==void 0?e.prototype.__proto__=t:e.prototype=t}MS(Ig,Array.prototype);var ef=function(e){function t(r,s,i,a){var o;return i===void 0&&(i="ObservableArray"),a===void 0&&(a=!1),o=e.call(this)||this,Dn(function(){var l=new Zc(i,s,a,!0);l.proxy_=o,Xm(o,z,l),r&&r.length&&o.spliceWithArray(0,0,r),jS&&Object.defineProperty(o,"0",NS)}),o}tg(t,e);var n=t.prototype;return n.concat=function(){this[z].atom_.reportObserved();for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return Array.prototype.concat.apply(this.slice(),i.map(function(o){return Lo(o)?o.slice():o}))},n[Symbol.iterator]=function(){var r=this,s=0;return tf({next:function(){return s<r.length?{value:r[s++],done:!1}:{done:!0,value:void 0}}})},ts(t,[{key:"length",get:function(){return this[z].getArrayLength_()},set:function(s){this[z].setArrayLength_(s)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(Ig);Object.entries(to).forEach(function(e){var t=e[0],n=e[1];t!=="concat"&&pi(ef.prototype,t,n)});function Ng(e){return{enumerable:!1,configurable:!0,get:function(){return this[z].get_(e)},set:function(n){this[z].set_(e,n)}}}function LS(e){Ft(ef.prototype,""+e,Ng(e))}function jg(e){if(e>wl){for(var t=wl;t<e+100;t++)LS(t);wl=e}}jg(1e3);function FS(e,t,n){return new ef(e,t,n)}function ro(e,t){if(typeof e=="object"&&e!==null){if(Lo(e))return t!==void 0&&Y(23),e[z].atom_;if(It(e))return e.atom_;if(or(e)){if(t===void 0)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||Y(25,t,Fu(e)),n}if(Fo(e)){if(!t)return Y(26);var r=e[z].values_.get(t);return r||Y(27,t,Fu(e)),r}if(Yc(e)||Mo(e)||eo(e))return e}else if(xt(e)&&eo(e[z]))return e[z];Y(28)}function $S(e,t){if(e||Y(29),Yc(e)||Mo(e)||eo(e)||or(e)||It(e))return e;if(e[z])return e[z];Y(24,e)}function Fu(e,t){var n;if(t!==void 0)n=ro(e,t);else{if(ii(e))return e.name;Fo(e)||or(e)||It(e)?n=$S(e):n=ro(e)}return n.name_}function Dn(e){var t=ar(),n=qc(!0);ut();try{return e()}finally{ct(),Qc(n),Xt(t)}}var Xd=Po.toString;function Mg(e,t,n){return n===void 0&&(n=-1),$u(e,t,n)}function $u(e,t,n,r,s){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var i=typeof e;if(i!=="function"&&i!=="object"&&typeof t!="object")return!1;var a=Xd.call(e);if(a!==Xd.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++;break}e=Zd(e),t=Zd(t);var o=a==="[object Array]";if(!o){if(typeof e!="object"||typeof t!="object")return!1;var l=e.constructor,u=t.constructor;if(l!==u&&!(xt(l)&&l instanceof l&&xt(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],s=s||[];for(var c=r.length;c--;)if(r[c]===e)return s[c]===t;if(r.push(e),s.push(t),o){if(c=e.length,c!==t.length)return!1;for(;c--;)if(!$u(e[c],t[c],n-1,r,s))return!1}else{var d=Object.keys(e),h=d.length;if(Object.keys(t).length!==h)return!1;for(var m=0;m<h;m++){var S=d[m];if(!(Qt(t,S)&&$u(e[S],t[S],n-1,r,s)))return!1}}return r.pop(),s.pop(),!0}function Zd(e){return Lo(e)?e.slice():es(e)||or(e)||Gt(e)||It(e)?Array.from(e.entries()):e}var eh,BS=((eh=To().Iterator)==null?void 0:eh.prototype)||{};function tf(e){return e[Symbol.iterator]=US,Object.assign(Object.create(BS),e)}function US(){return this}["Symbol","Map","Set"].forEach(function(e){var t=To();typeof t[e]>"u"&&Y("MobX requires global '"+e+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:nS,extras:{getDebugName:Fu},$mobx:z});if(!Z.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!bS)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function zS(e){e()}function VS(e){e||(e=zS),gS({reactionScheduler:e})}function WS(e){return vS(e)}var HS=1e4,GS=1e4,KS=function(){function e(t){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(r){r===void 0&&(r=HS),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var s=Date.now();n.registrations.forEach(function(i,a){s-i.registeredAt>=r&&(n.finalize(i.value),n.registrations.delete(a))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n,r){this.registrations.set(r,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.registrations.delete(t)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,GS))}}),e}(),YS=typeof FinalizationRegistry<"u"?FinalizationRegistry:KS,Bu=new YS(function(e){var t;(t=e.reaction)===null||t===void 0||t.dispose(),e.reaction=null}),Lg={exports:{}},Fg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qr=Z;function JS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qS=typeof Object.is=="function"?Object.is:JS,QS=qr.useState,XS=qr.useEffect,ZS=qr.useLayoutEffect,eE=qr.useDebugValue;function tE(e,t){var n=t(),r=QS({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return ZS(function(){s.value=n,s.getSnapshot=t,Sl(s)&&i({inst:s})},[e,n,t]),XS(function(){return Sl(s)&&i({inst:s}),e(function(){Sl(s)&&i({inst:s})})},[e]),eE(n),n}function Sl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!qS(e,n)}catch{return!0}}function nE(e,t){return t()}var rE=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?nE:tE;Fg.useSyncExternalStore=qr.useSyncExternalStore!==void 0?qr.useSyncExternalStore:rE;Lg.exports=Fg;var sE=Lg.exports;function th(e){e.reaction=new sn("observer".concat(e.name),function(){var t;e.stateVersion=Symbol(),(t=e.onStoreChange)===null||t===void 0||t.call(e)})}function iE(e,t){t===void 0&&(t="observed");var n=jl.useRef(null);if(!n.current){var r={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(o){return Bu.unregister(r),r.onStoreChange=o,r.reaction||(th(r),r.stateVersion=Symbol()),function(){var l;r.onStoreChange=null,(l=r.reaction)===null||l===void 0||l.dispose(),r.reaction=null}},getSnapshot:function(){return r.stateVersion}};n.current=r}var s=n.current;s.reaction||(th(s),Bu.register(n,s,s)),jl.useDebugValue(s.reaction,WS),sE.useSyncExternalStore(s.subscribe,s.getSnapshot,s.getSnapshot);var i,a;if(s.reaction.track(function(){try{i=e()}catch(o){a=o}}),a)throw a;return i}var El,kl,$g=typeof Symbol=="function"&&Symbol.for,aE=(kl=(El=Object.getOwnPropertyDescriptor(function(){},"name"))===null||El===void 0?void 0:El.configurable)!==null&&kl!==void 0?kl:!1,nh=$g?Symbol.for("react.forward_ref"):typeof Z.forwardRef=="function"&&Z.forwardRef(function(e){return null}).$$typeof,rh=$g?Symbol.for("react.memo"):typeof Z.memo=="function"&&Z.memo(function(e){return null}).$$typeof;function oE(e,t){var n;if(rh&&e.$$typeof===rh)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var r=(n=void 0)!==null&&n!==void 0?n:!1,s=e,i=e.displayName||e.name;if(nh&&e.$$typeof===nh&&(r=!0,s=e.render,typeof s!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var a=function(o,l){return iE(function(){return s(o,l)},i)};return a.displayName=e.displayName,aE&&Object.defineProperty(a,"name",{value:e.name,writable:!0,configurable:!0}),e.contextTypes&&(a.contextTypes=e.contextTypes),r&&(a=Z.forwardRef(a)),a=Z.memo(a),uE(e,a),a}var lE={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function uE(e,t){Object.keys(e).forEach(function(n){lE[n]||Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}var bl;VS(Gm.unstable_batchedUpdates);bl=Bu.finalizeAllImmediately;const cE=({message:e="Creating your perfect trip bundles..."})=>{const[t,n]=Z.useState("");Z.useEffect(()=>{const a=setInterval(()=>{n(o=>o==="..."?"":o+".")},500);return()=>clearInterval(a)},[]);const r=[" Analyzing your preferences"," Finding perfect events"," Planning your itinerary"," Crafting unique experiences"," Almost ready!"],[s,i]=Z.useState(0);return Z.useEffect(()=>{const a=setInterval(()=>{i(o=>(o+1)%r.length)},1e3);return()=>clearInterval(a)},[r.length]),_.jsx("div",{className:"thinking-screen",children:_.jsxs("div",{className:"thinking-container",children:[_.jsxs("div",{className:"thinking-animation",children:[_.jsx("div",{className:"brain-icon",children:""}),_.jsx("div",{className:"pulse-ring"}),_.jsx("div",{className:"pulse-ring delay-1"}),_.jsx("div",{className:"pulse-ring delay-2"})]}),_.jsxs("h1",{className:"thinking-title",children:[e,t]}),_.jsx("p",{className:"thinking-subtitle",children:r[s]}),_.jsx("div",{className:"progress-bar",children:_.jsx("div",{className:"progress-fill"})}),_.jsxs("div",{className:"thinking-tips",children:[_.jsx("p",{children:" We're curating experiences based on your unique interests"}),_.jsx("p",{children:" Your music taste helps us find the perfect concerts"}),_.jsx("p",{children:" Events are matched to your travel dates"})]})]})})},fE=({bundles:e,promptsUsage:t,onBundleSelect:n,onOpenPreferences:r,onOpenDevelopment:s,onLoadMore:i,onGenerateNew:a,canLoadMore:o=!1,hasUserData:l=!1,isLoading:u=!1})=>{const c=m=>!m.keyEvents||!Array.isArray(m.keyEvents)?[]:m.keyEvents.map(S=>S.title),d=m=>{switch(m){case"concerts":return"";case"sports":return"";case"artDesign":return"";case"localCulture":return"";case"culinary":return"";default:return""}},h=m=>{const S=c(m);return _.jsxs("div",{className:"bundle-card",onClick:()=>n(m),children:[_.jsxs("div",{className:"bundle-image-container",children:[_.jsx("img",{src:m.imageUrl,alt:m.title,className:"bundle-image",onError:E=>{E.currentTarget.src="https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=800&q=80"}}),_.jsx("div",{className:"city-badge",children:m.city})]}),_.jsxs("div",{className:"bundle-info",children:[_.jsx("h3",{className:"bundle-title",children:m.title}),_.jsx("p",{className:"bundle-description",children:m.description}),S.length>0&&_.jsxs("div",{className:"key-events",children:[_.jsx("h4",{className:"key-events-header",children:" Key Events"}),_.jsx("div",{className:"key-events-list",children:S.map((E,O)=>{var g;return _.jsxs("div",{className:"key-event-item",children:[((g=m.keyEvents)==null?void 0:g[O])&&_.jsx("span",{className:"event-icon",children:d(m.keyEvents[O].interestType)}),_.jsx("span",{className:"event-title",children:E})]},O)})})]})]})]},m.title)};return _.jsxs("div",{className:"bundle-feed",children:[_.jsxs("div",{className:"feed-header",children:[_.jsxs("div",{className:"header-top",children:[_.jsx("h1",{children:" Your Trip Bundles"}),_.jsxs("div",{className:"header-actions",children:[_.jsx("button",{className:"preferences-button",onClick:r,children:" Preferences"}),s&&_.jsx("button",{className:"dev-button",onClick:s,children:" Dev"})]})]}),_.jsxs("div",{className:"prompts-usage",children:[_.jsxs("span",{className:"usage-text",children:["Daily Usage: ",t.count,"/",t.maxDaily]}),_.jsx("div",{className:"usage-bar",children:_.jsx("div",{className:"usage-fill",style:{width:`${t.count/t.maxDaily*100}%`}})})]})]}),_.jsx("div",{className:"bundles-container",children:e.length===0?_.jsx("div",{className:"empty-state",children:l?_.jsxs("div",{className:"empty-content",children:[_.jsx("div",{className:"empty-icon",children:""}),_.jsx("h2",{children:"Ready for New Adventures?"}),_.jsx("p",{children:"Generate fresh trip bundles based on your preferences!"}),a&&_.jsx("button",{className:"generate-new-button",onClick:a,disabled:t.count>=t.maxDaily,children:t.count>=t.maxDaily?" Daily Limit Reached":" Generate New Bundles"})]}):_.jsxs("div",{className:"empty-content",children:[_.jsx("div",{className:"empty-icon",children:""}),_.jsx("h2",{children:"No Trip Bundles Yet"}),_.jsx("p",{children:"Complete your preferences to get personalized trip recommendations!"})]})}):_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"bundles-grid",children:e.map(h)}),o&&_.jsx("div",{className:"load-more-container",children:u?_.jsxs("div",{className:"loading-indicator",children:[_.jsx("div",{className:"loading-spinner"}),_.jsx("span",{children:"Fetching New Bundles..."})]}):_.jsx("button",{className:"load-more-button",onClick:i,disabled:t.count>=t.maxDaily,children:t.count>=t.maxDaily?" Daily Limit Reached":" Load More Bundles"})})]})})]})},dE=({bundle:e,onBack:t})=>{const n=i=>{const a=new Date(i),o={weekday:"long",year:"numeric",month:"long",day:"numeric"};return a.toLocaleDateString("en-US",o)},r=i=>{switch(i){case"concerts":return"";case"sports":return"";case"artDesign":return"";case"localCulture":return"";case"culinary":return"";default:return""}},s=(i,a)=>_.jsxs("div",{className:"event-item",children:[_.jsxs("div",{className:"event-header",children:[_.jsx("span",{className:"event-icon",children:r(i.interestType)}),_.jsx("h3",{className:"event-title",children:i.title})]}),_.jsxs("div",{className:"event-details",children:[_.jsxs("div",{className:"event-description",children:[" ",i.shortDescription]}),_.jsxs("div",{className:"event-date",children:[" ",n(i.dateRange.startDate)]}),_.jsx("div",{className:"event-full-description",children:i.fullDescription}),i.eventWebsite&&_.jsx("a",{href:i.eventWebsite,target:"_blank",rel:"noopener noreferrer",className:"booking-link",children:"Visit Website "})]})]},a);return _.jsxs("div",{className:"bundle-page",children:[_.jsx("div",{className:"bundle-header",children:_.jsx("button",{className:"back-button",onClick:t,children:" Back to Bundles"})}),_.jsxs("div",{className:"bundle-content",children:[_.jsx("div",{className:"bundle-image-container",children:_.jsx("img",{src:e.imageUrl,alt:e.title,className:"bundle-image",onError:i=>{i.currentTarget.src="https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=800&q=80"}})}),_.jsx("h1",{className:"bundle-title",children:e.title}),_.jsx("p",{className:"bundle-description",children:e.description}),_.jsxs("div",{className:"bundle-dates",children:[_.jsx("h2",{children:" Trip Dates"}),_.jsxs("div",{className:"date-range",children:[_.jsxs("div",{className:"date-item",children:[_.jsx("strong",{children:"Start:"})," ",n(e.dateRange.startDate)]}),_.jsxs("div",{className:"date-item",children:[_.jsx("strong",{children:"End:"})," ",n(e.dateRange.endDate)]})]})]}),e.keyEvents&&Array.isArray(e.keyEvents)&&e.keyEvents.length>0&&_.jsxs("div",{className:"events-section",children:[_.jsx("h2",{children:" Key Events"}),_.jsx("div",{className:"events-list",children:e.keyEvents.map((i,a)=>s(i,a))})]}),e.minorEvents&&Array.isArray(e.minorEvents)&&e.minorEvents.length>0&&_.jsxs("div",{className:"events-section",children:[_.jsx("h2",{children:" Additional Experiences"}),_.jsx("div",{className:"events-list",children:e.minorEvents.map((i,a)=>s(i,a))})]})]})]})},nf="trip-bundle-prompts-usage",Hi=10,hE=()=>new Date().toISOString().split("T")[0],rf=()=>{const e=localStorage.getItem(nf),t=hE();if(!e)return{count:0,date:t,maxDaily:Hi};try{const n=JSON.parse(e);return n.date!==t?{count:0,date:t,maxDaily:Hi}:{...n,maxDaily:Hi}}catch{return{count:0,date:t,maxDaily:Hi}}},Bg=()=>{const e=rf(),t={...e,count:e.count+1};return localStorage.setItem(nf,JSON.stringify(t)),t},ma=()=>{const e=rf();return e.count<e.maxDaily},pE=()=>{localStorage.removeItem(nf)},Ug="trip-bundle-user-preferences",zg="trip-bundle-date-range",oi=()=>({interestTypes:{concerts:{isEnabled:!1},sports:{isEnabled:!1},artDesign:{isEnabled:!1},localCulture:{isEnabled:!1},culinary:{isEnabled:!1}},musicProfile:"",freeTextInterests:""}),Vg=()=>{const e=localStorage.getItem(Ug);if(!e)return oi();try{return JSON.parse(e)}catch{return oi()}},Ls=e=>{localStorage.setItem(Ug,JSON.stringify(e))},Wg=()=>{const e=localStorage.getItem(zg);if(!e)return null;try{return JSON.parse(e)}catch{return null}},so=e=>{localStorage.setItem(zg,JSON.stringify(e))},sf="fteCompleted",mE=()=>{try{return localStorage.getItem(sf)==="true"}catch(e){return console.error("Error reading FTE completion status:",e),!1}},gE=()=>{try{localStorage.setItem(sf,"true"),console.log(" FTE marked as completed")}catch(e){console.error("Error saving FTE completion status:",e)}},vE=()=>{try{localStorage.removeItem(sf),console.log(" FTE completion status reset")}catch(e){console.error("Error resetting FTE completion status:",e)}},yE={SPOTIFY_CLIENT_ID:"bc5f89044c854343a3408f12a4f4a0be",SPOTIFY_REDIRECT_URI:"https://yoavtsook2806.github.io/trip-bundle/spotify-callback.html"},Hg=()=>{const e=window.location.hostname==="yoavtsook2806.github.io",t=window.location.pathname.startsWith("/trip-bundle"),n=window.location.hostname.includes("github.io");return e||n||t?yE:{SPOTIFY_CLIENT_ID:"bc5f89044c854343a3408f12a4f4a0be",SPOTIFY_REDIRECT_URI:`${window.location.origin}/spotify-callback.html`}};class _E{constructor(){we(this,"clientId",null);we(this,"clientSecret",null);we(this,"redirectUri");we(this,"accessToken",null);we(this,"refreshToken",null);we(this,"tokenExpiry",null);we(this,"codeVerifier",null);console.log(" [SPOTIFY_SERVICE] Constructor starting...");const t=Hg();console.log(" [SPOTIFY_SERVICE] Config received:",t),this.clientId=t.SPOTIFY_CLIENT_ID,this.clientSecret=null,this.redirectUri=t.SPOTIFY_REDIRECT_URI,console.log(" [SPOTIFY_SERVICE] Configuration applied:",{clientId:this.clientId,clientIdLength:this.clientId?this.clientId.length:0,hasClientSecret:!!this.clientSecret,redirectUri:this.redirectUri,currentOrigin:window.location.origin,userAgent:navigator.userAgent.substring(0,50)+"...",rawConfig:t,allEnvVars:{VITE_SPOTIFY_CLIENT_ID:"bc5f89044c854343a3408f12a4f4a0be",VITE_SPOTIFY_CLIENT_SECRET:void 0,VITE_SPOTIFY_REDIRECT_URI:void 0,VITE_MOCK:void 0,MODE:"production",PROD:!0,DEV:!1},windowLocation:{hostname:window.location.hostname,pathname:window.location.pathname,origin:window.location.origin,protocol:window.location.protocol,href:window.location.href}}),this.loadTokensFromStorage(),console.log(" [SPOTIFY_SERVICE] Initialization complete. Final clientId:",this.clientId)}setRedirectUri(t){this.redirectUri=t}async authenticate(){if(console.log(" [SPOTIFY_AUTH] Starting Spotify authentication..."),console.log(" [SPOTIFY_AUTH] Current state:",{hasClientId:!!this.clientId,hasAccessToken:!!this.accessToken,hasRefreshToken:!!this.refreshToken,tokenExpiry:this.tokenExpiry,isCurrentlyAuthenticated:this.isAuthenticated(),redirectUri:this.redirectUri,currentUrl:window.location.href,isMobile:this.isMobileOrPWA()}),!this.clientId){console.error(" [SPOTIFY_AUTH]  No Spotify Client ID configured");const t=`Spotify Client ID not configured. Please check your environment variables.
      
Current environment:
- VITE_SPOTIFY_CLIENT_ID: bc5f89044c854343a3408f12a4f4a0be
- VITE_SPOTIFY_REDIRECT_URI: NOT SET
- Current Origin: ${window.location.origin}

For real devices, make sure to:
1. Set VITE_SPOTIFY_REDIRECT_URI to match your device's IP/domain
2. Configure the same URI in your Spotify app settings`;throw new Error(t)}if(this.isAuthenticated())return console.log(" [SPOTIFY_AUTH]  Already authenticated with valid token"),!0;if(console.log(" [SPOTIFY_AUTH] Attempting to restore tokens from localStorage..."),this.loadTokensFromStorage(),console.log(" [SPOTIFY_AUTH] After loading from storage:",{hasAccessToken:!!this.accessToken,hasRefreshToken:!!this.refreshToken,tokenExpiry:this.tokenExpiry,isAuthenticated:this.isAuthenticated()}),this.isAuthenticated())return console.log(" [SPOTIFY_AUTH]  Successfully restored valid tokens from localStorage"),!0;if(this.refreshToken){console.log(" [SPOTIFY_AUTH] Attempting to refresh access token...");try{const t=await this.refreshAccessToken();if(console.log(" [SPOTIFY_AUTH] Refresh token result:",t),t&&this.isAuthenticated())return console.log(" [SPOTIFY_AUTH]  Successfully refreshed token"),!0}catch(t){console.warn(" [SPOTIFY_AUTH]  Failed to refresh Spotify token:",t)}}return console.log(" [SPOTIFY_AUTH]  Starting OAuth flow..."),this.startOAuthFlow()}startOAuthFlow(){return new Promise(async(t,n)=>{try{console.log(" [SPOTIFY_OAUTH] Generating auth URL...");const r=await this.getAuthUrl();if(console.log(" [SPOTIFY_OAUTH] Generated auth URL:",r.substring(0,100)+"..."),localStorage.removeItem("spotify_auth_code"),localStorage.removeItem("spotify_auth_error"),this.isMobileOrPWA()){console.log(" [SPOTIFY_OAUTH] Mobile/PWA detected - using direct redirect"),window.location.href=r;return}console.log(" [SPOTIFY_OAUTH] Opening popup window...");const s=window.open(r,"spotify-auth","width=600,height=700,scrollbars=yes,resizable=yes");if(!s){console.log(" [SPOTIFY_OAUTH]  Popup blocked - falling back to redirect"),window.location.href=r;return}console.log(" [SPOTIFY_OAUTH]  Popup opened successfully, waiting for auth...");let i=!1,a;const o=async l=>{if(l.data.type==="SPOTIFY_AUTH_SUCCESS"){i=!0,clearInterval(a),window.removeEventListener("message",o);try{const u=await this.handleCallback(l.data.code);s.close(),t(u)}catch(u){s.close(),n(u)}}else l.data.type==="SPOTIFY_AUTH_ERROR"&&(i=!0,clearInterval(a),window.removeEventListener("message",o),s.close(),n(new Error(l.data.error||"Authentication failed")))};window.addEventListener("message",o),a=setInterval(async()=>{const l=localStorage.getItem("spotify_auth_code"),u=localStorage.getItem("spotify_auth_error");if(l&&!i){i=!0,clearInterval(a),window.removeEventListener("message",o),localStorage.removeItem("spotify_auth_code");try{const c=await this.handleCallback(l);s.close(),t(c)}catch(c){s.close(),n(c)}return}if(u&&!i){i=!0,clearInterval(a),window.removeEventListener("message",o),localStorage.removeItem("spotify_auth_error"),s.close(),n(new Error(u));return}s.closed&&!i&&(clearInterval(a),window.removeEventListener("message",o),this.isAuthenticated()?t(!0):n(new Error("Authentication was cancelled or failed")))},500),setTimeout(()=>{!s.closed&&!i&&(clearInterval(a),window.removeEventListener("message",o),s.close(),n(new Error("Authentication timeout - please try again")))},5*60*1e3)}catch(r){n(r)}})}async getAuthUrl(){if(!this.clientId)throw new Error("Spotify client ID not configured");this.codeVerifier=this.generateCodeVerifier();const t=await this.generateCodeChallenge(this.codeVerifier);localStorage.setItem("spotify_code_verifier",this.codeVerifier);const n=["user-read-private","user-read-email","user-top-read","user-read-recently-played","user-library-read","playlist-read-private"].join(" "),s=`https://accounts.spotify.com/authorize?${new URLSearchParams({response_type:"code",client_id:this.clientId,scope:n,redirect_uri:this.redirectUri,state:this.generateRandomString(16),code_challenge_method:"S256",code_challenge:t}).toString()}`;return localStorage.setItem("spotify_auth_in_progress","true"),s}async handleCallback(t){if(this.codeVerifier||(this.codeVerifier=localStorage.getItem("spotify_code_verifier")),!this.clientId||!this.codeVerifier)throw new Error("Spotify client ID or code verifier not configured");try{const n={grant_type:"authorization_code",code:t,redirect_uri:this.redirectUri,client_id:this.clientId,code_verifier:this.codeVerifier},r=await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(n)});if(!r.ok){const i=await r.text();throw new Error(`Token exchange failed: ${r.status} - ${i}`)}const s=await r.json();return this.accessToken=s.access_token,this.refreshToken=s.refresh_token,this.tokenExpiry=Date.now()+s.expires_in*1e3,this.saveTokensToStorage(),localStorage.removeItem("spotify_code_verifier"),!0}catch(n){return console.error(" [DEBUG] Spotify callback error:",n),!1}}async refreshAccessToken(){if(!this.refreshToken||!this.clientId)return!1;try{const t=await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"refresh_token",refresh_token:this.refreshToken,client_id:this.clientId})});if(!t.ok)return!1;const n=await t.json();return this.accessToken=n.access_token,n.refresh_token&&(this.refreshToken=n.refresh_token),this.tokenExpiry=Date.now()+n.expires_in*1e3,this.saveTokensToStorage(),!0}catch(t){return console.error(" [DEBUG] Token refresh error:",t),!1}}async getUserProfile(){return await this.makeApiRequest("/me")}async getTopArtists(t="medium_term",n=20){return(await this.makeApiRequest(`/me/top/artists?time_range=${t}&limit=${n}`)).items}async getTopTracks(t="medium_term",n=20){return(await this.makeApiRequest(`/me/top/tracks?time_range=${t}&limit=${n}`)).items}async getUserPreferences(){console.log(" Fetching user preferences...");const[t,n]=await Promise.all([this.getTopArtists("long_term"),this.getTopTracks("long_term")]),r={};t.forEach(a=>{a.genres.forEach(o=>{r[o]=(r[o]||0)+1})});const s=Object.entries(r).sort(([,a],[,o])=>o-a).slice(0,10).map(([a])=>a),i={danceability:.5,energy:.5,valence:.5,acousticness:.5,instrumentalness:.5};return{topArtists:t.slice(0,10),topTracks:n.slice(0,10),topGenres:s,musicProfile:i}}generateTextualMusicProfile(t){const{topArtists:n,topTracks:r,topGenres:s}=t,i=n.slice(0,5).map(d=>d.name),a=i.length>0?`Favorite artists include ${i.join(", ")}`:"No favorite artists identified",o=s.length>0?`Primary music genres are ${s.slice(0,5).join(", ")}`:"No specific genre preferences identified",l=r.slice(0,3).map(d=>{var h;return`"${d.name}" by ${((h=d.artists[0])==null?void 0:h.name)||"Unknown Artist"}`}),u=l.length>0?`Recent favorite songs include ${l.join(", ")}`:"No favorite tracks identified",c=`${a}. ${o}. ${u}. This music taste suggests preferences for live music events, concerts, and music festivals that align with these genres and artists.`;return console.log(" [MUSIC_PROFILE] Generated textual music profile:",c),c}async makeApiRequest(t){if(await this.ensureValidToken(),!this.accessToken)throw new Error("No valid access token available");const n=await fetch(`https://api.spotify.com/v1${t}`,{headers:{Authorization:`Bearer ${this.accessToken}`,"Content-Type":"application/json"}});if(!n.ok){if(n.status===401&&await this.refreshAccessToken())return this.makeApiRequest(t);throw new Error(`Spotify API error: ${n.status} ${n.statusText}`)}return n.json()}async ensureValidToken(){if(!this.accessToken||!this.tokenExpiry)throw new Error("No access token available");if(Date.now()+5*60*1e3>this.tokenExpiry&&!await this.refreshAccessToken())throw new Error("Unable to refresh access token")}generateRandomString(t){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let r="";for(let s=0;s<t;s++)r+=n.charAt(Math.floor(Math.random()*n.length));return r}generateCodeVerifier(){return this.generateRandomString(128)}async generateCodeChallenge(t){const r=new TextEncoder().encode(t),s=await window.crypto.subtle.digest("SHA-256",r);return btoa(String.fromCharCode.apply(null,[...new Uint8Array(s)])).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}isMobileOrPWA(){const t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile|Tablet/i.test(navigator.userAgent),n=window.matchMedia("(display-mode: standalone)").matches,r="ontouchstart"in window||navigator.maxTouchPoints>0,s=window.innerWidth<=768,i=t||n||r&&s;return console.log(" [DEVICE_DETECTION]",{isMobileUA:t,isPWA:n,isTouchDevice:r,isSmallScreen:s,windowWidth:window.innerWidth,userAgent:navigator.userAgent.substring(0,100),finalResult:i}),i}saveTokensToStorage(){this.accessToken&&localStorage.setItem("spotify_access_token",this.accessToken),this.refreshToken&&localStorage.setItem("spotify_refresh_token",this.refreshToken),this.tokenExpiry&&localStorage.setItem("spotify_token_expiry",this.tokenExpiry.toString())}loadTokensFromStorage(){this.accessToken=localStorage.getItem("spotify_access_token"),this.refreshToken=localStorage.getItem("spotify_refresh_token");const t=localStorage.getItem("spotify_token_expiry");t&&(this.tokenExpiry=parseInt(t))}isAuthenticated(){return this.accessToken!==null&&this.tokenExpiry!==null&&Date.now()<this.tokenExpiry}disconnect(){this.accessToken=null,this.refreshToken=null,this.tokenExpiry=null,localStorage.removeItem("spotify_access_token"),localStorage.removeItem("spotify_refresh_token"),localStorage.removeItem("spotify_token_expiry")}isConfigured(){return this.clientId!==null}}const dr=new _E,xl=({initialPreferences:e,initialDateRange:t,promptsUsage:n,onSave:r,onCancel:s,isFTEMode:i=!1})=>{const[a,o]=Z.useState(e),[l,u]=Z.useState(t),[c,d]=Z.useState(!1),[h,m]=Z.useState(!1),[S,E]=Z.useState(!1),g=!!Hg().SPOTIFY_CLIENT_ID;Z.useEffect(()=>{(async()=>{var F,Q,se;const A=new URLSearchParams(window.location.search).get("spotify_auth_return"),j=localStorage.getItem("spotify_auth_code");if(A&&j&&!f){console.log(" [PREFERENCES_SPOTIFY_RETURN] Processing Spotify return with auth code"),E(!0);try{console.log(" [PREFERENCES_SPOTIFY_RETURN] Calling spotifyService.handleCallback...");const Ut=await dr.handleCallback(j);if(console.log(" [PREFERENCES_SPOTIFY_RETURN] Callback handling result:",Ut),Ut){console.log(" [PREFERENCES_SPOTIFY_RETURN]  Authentication successful, fetching user preferences...");const rt=await dr.getUserPreferences();console.log(" [PREFERENCES_SPOTIFY_RETURN] User preferences fetched:",{topGenres:((F=rt.topGenres)==null?void 0:F.length)||0,topArtists:((Q=rt.topArtists)==null?void 0:Q.length)||0,topTracks:((se=rt.topTracks)==null?void 0:se.length)||0});const ur=dr.generateTextualMusicProfile(rt);console.log(" [PREFERENCES_SPOTIFY_RETURN] Generated textual profile:",ur),console.log(" [PREFERENCES_SPOTIFY_RETURN]  Music profile created, updating state..."),y(ur),console.log(" [PREFERENCES_SPOTIFY_RETURN]  Spotify connection completed successfully!"),localStorage.removeItem("spotify_auth_code"),localStorage.removeItem("spotify_auth_state"),window.history.replaceState({},document.title,window.location.pathname)}else console.error(" [PREFERENCES_SPOTIFY_RETURN]  Callback handling failed"),localStorage.removeItem("spotify_auth_code"),localStorage.removeItem("spotify_auth_state")}catch(Ut){console.error(" [PREFERENCES_SPOTIFY_RETURN]  Error processing Spotify return:",Ut),localStorage.removeItem("spotify_auth_code"),localStorage.removeItem("spotify_auth_state")}finally{E(!1)}}})()},[]);const f=Z.useMemo(()=>{if(!a.musicProfile)return!1;const H=a.musicProfile.includes("Favorite artists include"),q=a.musicProfile.includes("Primary music genres are"),A=a.musicProfile.includes("Recent favorite songs include");return H||q||A},[a.musicProfile]);Z.useEffect(()=>{if(i){const H=Object.values(a.interestTypes).some(q=>q.isEnabled);d(H)}else{const H=JSON.stringify(a)!==JSON.stringify(e),q=JSON.stringify(l)!==JSON.stringify(t);d(H||q)}},[a,l,e,t,i]);const p=(H,q)=>{o(A=>{const j={...A,interestTypes:{...A.interestTypes,[H]:{isEnabled:q}}};return Ls(j),j})},y=H=>{o(q=>{const A={...q,musicProfile:H};return Ls(A),A})},b=async()=>{var H,q,A,j;if(console.log(" [PREFERENCES_SPOTIFY] Starting Spotify connection..."),console.log(" [PREFERENCES_SPOTIFY] Current state:",{isConnectingSpotify:S,isSpotifyAvailable:g,isSpotifyConnected:f,currentMusicProfile:((H=a.musicProfile)==null?void 0:H.substring(0,100))+"..."}),S){console.log(" [PREFERENCES_SPOTIFY] Already connecting, ignoring duplicate request");return}if(!g){console.error(" [PREFERENCES_SPOTIFY] Spotify not available in this configuration"),alert("Spotify integration is not available in this deployment. Please use the text field to describe your music preferences instead.");return}E(!0),console.log(" [PREFERENCES_SPOTIFY] Set connecting state to true");try{console.log(" [PREFERENCES_SPOTIFY] Calling spotifyService.authenticate()...");const F=await dr.authenticate();if(console.log(" [PREFERENCES_SPOTIFY] Authentication result:",F),F){console.log(" [PREFERENCES_SPOTIFY]  Authentication successful, fetching user preferences...");const Q=await dr.getUserPreferences();console.log(" [PREFERENCES_SPOTIFY] User preferences fetched:",{topGenres:((q=Q.topGenres)==null?void 0:q.length)||0,topArtists:((A=Q.topArtists)==null?void 0:A.length)||0,topTracks:((j=Q.topTracks)==null?void 0:j.length)||0});const se=dr.generateTextualMusicProfile(Q);console.log(" [PREFERENCES_SPOTIFY] Generated textual profile:",se),console.log(" [PREFERENCES_SPOTIFY]  Music profile created, updating state..."),y(se),console.log(" [PREFERENCES_SPOTIFY]  Spotify connection completed successfully!")}else console.error(" [PREFERENCES_SPOTIFY]  Spotify authentication failed"),alert("Failed to connect to Spotify. Please try again or use the text field instead.")}catch(F){console.error(" [PREFERENCES_SPOTIFY]  Error connecting to Spotify:",F),F instanceof Error&&F.message.includes("Client ID not configured")?(console.log(" [PREFERENCES_SPOTIFY] Configuration issue detected - showing user-friendly message"),alert("Spotify integration is not available in this deployment. Please use the text field to describe your music preferences instead.")):alert("Error connecting to Spotify. Please try again or use the text field instead.")}finally{console.log(" [PREFERENCES_SPOTIFY] Setting connecting state to false"),E(!1)}},x=H=>{o(q=>{const A={...q,freeTextInterests:H};return Ls(A),A})},k=H=>{const q=H.target.value;u(A=>{const j=new Date(A.endDate)<new Date(q)?new Date(new Date(q).getTime()+864e5).toISOString().split("T")[0]:A.endDate,F={...A,startDate:q,endDate:j};return so(F),F})},P=H=>{const q=H.target.value;u(A=>{const j={...A,endDate:q};return so(j),j})},B=()=>{const H=Object.values(a.interestTypes).some(A=>A.isEnabled),q=l.endDate>l.startDate;return H&&q},I=()=>{B()&&ma()&&r(a,l)},V=()=>{c?m(!0):s()},Le=()=>{m(!1),s()},nt=H=>H,In=B()&&c&&ma(),on=!ma();return _.jsxs("div",{className:"preferences-screen",children:[_.jsxs("div",{className:"preferences-container",children:[_.jsxs("div",{className:"preferences-header",children:[!i&&_.jsx("button",{className:"close-button",onClick:V,children:""}),_.jsx("h1",{children:i?" Plan Your Perfect Trip":" Preferences"}),!i&&_.jsx("div",{className:"usage-indicator",children:_.jsxs("span",{className:`usage-count ${on?"limit-reached":""}`,children:[n.count,"/",n.maxDaily," calls today"]})})]}),on&&_.jsxs("div",{className:"limit-warning",children:[" You've reached your daily limit of ",n.maxDaily," calls. Try again tomorrow!"]}),_.jsxs("div",{className:"preferences-content",children:[_.jsxs("div",{className:"pref-section",children:[_.jsx("h2",{children:"What interests you?"}),_.jsx("div",{className:"interests-grid",children:Object.entries(a.interestTypes).map(([H,q])=>_.jsxs("label",{className:"interest-checkbox",children:[_.jsx("input",{type:"checkbox",checked:q.isEnabled,onChange:A=>p(H,A.target.checked)}),_.jsx("span",{className:"interest-label",children:H==="artDesign"?"Art & Design":H==="localCulture"?"Local Culture":H.charAt(0).toUpperCase()+H.slice(1)})]},H))})]}),_.jsxs("div",{className:"pref-section",children:[_.jsx("h2",{children:"Music Taste"}),_.jsxs("div",{className:"music-options",children:[_.jsx("button",{className:`music-option ${f?"active":""} ${g?"":"disabled"}`,onClick:b,disabled:S||!g,title:g?"":"Spotify integration not available in this deployment",children:g?S?" Connecting...":f?" Spotify Connected":" Connect Spotify":" Spotify Not Available"}),_.jsxs("div",{className:"music-text-option",children:[_.jsx("label",{children:"Or describe your music taste:"}),_.jsx("textarea",{value:f?" Spotify Connected! Your music preferences have been imported.":a.musicProfile,onChange:H=>y(H.target.value),placeholder:"e.g., I love indie rock, jazz, and electronic music...",rows:3,readOnly:f})]})]})]}),_.jsxs("div",{className:"pref-section",children:[_.jsx("h2",{children:"When would you like to travel?"}),_.jsxs("div",{className:"date-range",children:[_.jsxs("div",{className:"date-input",children:[_.jsx("label",{children:"Start Date:"}),_.jsx("input",{type:"date",value:nt(l.startDate),onChange:k,min:new Date().toISOString().split("T")[0]})]}),_.jsxs("div",{className:"date-input",children:[_.jsx("label",{children:"End Date:"}),_.jsx("input",{type:"date",value:nt(l.endDate),onChange:P,min:new Date(new Date(l.startDate).getTime()+24*60*60*1e3).toISOString().split("T")[0]})]})]})]}),_.jsxs("div",{className:"pref-section",children:[_.jsx("h2",{children:"Additional Interests"}),_.jsx("textarea",{value:a.freeTextInterests,onChange:H=>x(H.target.value),placeholder:"Tell us about any specific interests, activities, or experiences you're looking for...",rows:4})]})]}),_.jsx("div",{className:"preferences-footer",children:_.jsx("button",{className:`save-button ${In?"enabled":"disabled"}`,onClick:I,disabled:!In,children:on?"Daily Limit Reached":i?"GO!":"Save & Generate New Bundles"})})]}),h&&_.jsx("div",{className:"modal-overlay",children:_.jsxs("div",{className:"confirm-modal",children:[_.jsx("h3",{children:"Unsaved Changes"}),_.jsx("p",{children:"You have unsaved changes. Are you sure you want to exit without saving?"}),_.jsxs("div",{className:"modal-buttons",children:[_.jsx("button",{className:"cancel-modal",onClick:()=>m(!1),children:"Cancel"}),_.jsx("button",{className:"confirm-modal-btn",onClick:Le,children:"Exit Without Saving"})]})]})})]})},wE=({promptsUsage:e,onClose:t,onResetLocalStorage:n})=>{const[r,s]=Z.useState(!1),[i,a]=Z.useState(null),o=()=>{n()},l=()=>{const u=Vg(),c=Wg(),d={};for(let m=0;m<localStorage.length;m++){const S=localStorage.key(m);if(S)try{const E=localStorage.getItem(S);d[S]=E&&JSON.parse(E)}catch{d[S]=localStorage.getItem(S)}}const h={userPreferences:u,dateRange:c,localStorage:d,spotifyIntegration:u.musicProfile?(()=>{try{const m=JSON.parse(u.musicProfile);return m.type==="spotify"?m:{type:"text",data:u.musicProfile}}catch{return{type:"text",data:u.musicProfile}}})():null};a(h),s(!0),console.log(" [DEV] User Data:",h)};return _.jsx("div",{className:"development-tab",children:_.jsxs("div",{className:"dev-container",children:[_.jsxs("div",{className:"dev-header",children:[_.jsx("h1",{children:" Development Tools"}),_.jsx("button",{className:"close-button",onClick:t,children:""})]}),_.jsxs("div",{className:"dev-content",children:[_.jsxs("div",{className:"dev-section",children:[_.jsx("h2",{children:"Actions"}),_.jsxs("div",{className:"dev-actions",children:[_.jsx("button",{className:"dev-button reset-button",onClick:o,children:" Reset Local Storage"}),_.jsx("button",{className:"dev-button show-data-button",onClick:l,children:" Show User Data"})]})]}),r&&i&&_.jsxs("div",{className:"dev-section",children:[_.jsx("h2",{children:"User Data"}),_.jsxs("div",{className:"user-data-display",children:[_.jsx("button",{className:"close-data-button",onClick:()=>s(!1),style:{float:"right",marginBottom:"10px"},children:" Close"}),_.jsx("pre",{className:"user-data-json",children:JSON.stringify(i,null,2)})]})]})]})]})})};class SE{constructor(){we(this,"currentScreen","firstTime");we(this,"isLoading",!1);we(this,"bundles",[]);we(this,"selectedBundle",null);we(this,"bundlesLoaded",0);we(this,"maxBundles",10);we(this,"userPreferences",null);we(this,"dateRange",null);we(this,"promptsUsage",{count:0,date:new Date().toISOString().split("T")[0],maxDaily:10});xS(this)}setCurrentScreen(t){this.currentScreen=t}setLoading(t){this.isLoading=t}setBundles(t){this.bundles=t,this.bundlesLoaded=t.length}addBundles(t){this.bundles=[...this.bundles,...t],this.bundlesLoaded=this.bundles.length}setSelectedBundle(t){this.selectedBundle=t}setUserPreferences(t){this.userPreferences=t}setDateRange(t){this.dateRange=t}setPromptsUsage(t){this.promptsUsage=t}resetAll(){this.currentScreen="firstTime",this.isLoading=!1,this.bundles=[],this.selectedBundle=null,this.bundlesLoaded=0,this.userPreferences=oi(),this.dateRange=null,this.promptsUsage={count:0,date:new Date().toISOString().split("T")[0],maxDaily:10}}get hasCompletedSetup(){return!this.userPreferences||!this.dateRange?!1:Object.values(this.userPreferences.interestTypes).some(n=>n.isEnabled)}get canMakePromptCall(){return this.promptsUsage.count<this.promptsUsage.maxDaily}get canLoadMore(){return this.bundlesLoaded<this.maxBundles&&this.canMakePromptCall}}const N=new SE,v=e=>{const t=new Date;return t.setDate(t.getDate()+e),t.toISOString().split("T")[0]},sh=()=>v(30),EE=async(e,t=[])=>{console.log(" [MOCK] Getting bundles from AI..."),console.log(" User prompt:",e),console.log(" Existing bundles to filter:",t.map(l=>l.title));const n=[{imageUrl:"https://source.unsplash.com/random/800x600/?amsterdam-concert,electronic-music",title:"Amsterdam: ADE Weekender  Electronic Peaks & Local Flavours",description:"Five days in Amsterdam timed to Amsterdam Dance Event + AMF: immersive electronic and house showcases, late-night club culture, and fresh market food runs.",city:"Amsterdam, Netherlands",dateRange:{startDate:sh(),endDate:v(35)},keyEvents:[{title:"Amsterdam Dance Event (ADE) Festival",fullDescription:"ADE is Europe's biggest electronic-music conference and club festival, staging hundreds of club shows, panels and label showcases across Amsterdam from October 2226, 2025. Expect world-class DJs, label nights, and daytime showcases that map directly to your electronic/house tastes.",shortDescription:"Europe's biggest electronic-week: 2226 Oct 2025, citywide club and festival programme.",interestType:"concerts",dateRange:{startDate:v(31),endDate:v(35)},eventWebsite:"https://www.amsterdam-dance-event.nl/en/"},{title:"AMF (Amsterdam Music Festival) at Johan Cruijff ArenA",fullDescription:"AMF is ADE's stadium-scale electronica night that transforms Johan Cruijff ArenA into a one-night mega-club with headline DJs and production on a grand scale. If you like festival energy and arena-level electronic shows, AMF is a must.",shortDescription:"Arena-scale electronic spectacle at Johan Cruijff ArenA.",interestType:"concerts",dateRange:{startDate:v(34),endDate:v(34)},eventWebsite:"https://www.amsterdam-dance-event.nl/en/program/2025/amf-2025/2682387/"}],minorEvents:[{title:"Paradiso  Historic club & live-music programme",fullDescription:"Paradiso (a converted church) is Amsterdam's iconic live-music venue with club nights and intimate concerts covering hip hop, electronic, jazz-adjacent acts and crossover sets.",shortDescription:"Legendary Amsterdam club hosting ADE-related shows, late nights and eclectic gigs.",interestType:"concerts",dateRange:{startDate:sh(),endDate:v(35)},eventWebsite:"https://www.paradiso.nl/en"},{title:"Albert Cuyp Market  De Pijp daytime food & street culture",fullDescription:"A stroll-and-sample stop: Albert Cuyp is Amsterdam's largest daytime market (open MonSat). Taste stroopwafels, herring, poffertjes and international street food stalls.",shortDescription:"Historic De Pijp market for local snacks, cheeses and street-food discovery.",interestType:"culinary",dateRange:{startDate:v(31),endDate:v(31)}}]},{imageUrl:"https://source.unsplash.com/random/800x600/?berlin-art,gallery-exhibition",title:"Berlin: Autumn Art Surge  Biennale + Art Week",description:"Five days in Berlin centered on Berlin Art Week and the 13th Berlin Biennale  gallery openings, contemporary performance, and literary & local culture side-programmes.",city:"Berlin, Germany",dateRange:{startDate:v(40),endDate:v(45)},keyEvents:[{title:"Berlin Art Week",fullDescription:"Berlin Art Week is the city's fall contemporary-art moment: museum exhibitions, gallery openings, talks, and late-night project-space programs concentrate over five days.",shortDescription:"Citywide contemporary-art festival and gallery program.",interestType:"artDesign",dateRange:{startDate:v(40),endDate:v(45)},eventWebsite:"https://berlinartweek.de/en/"},{title:"13th Berlin Biennale for Contemporary Art",fullDescription:"The 13th Berlin Biennale presents a cross-venue program of site-specific works, installations and performances by international artists.",shortDescription:"Berlin Biennale  major contemporary-art exhibition.",interestType:"artDesign",dateRange:{startDate:v(40),endDate:v(45)}}],minorEvents:[{title:"International Literature Festival Berlin",fullDescription:"The International Literature Festival Berlin runs with readings, panels and multilingual talks across city venues.",shortDescription:"Citywide festival of readings, panels and author events.",interestType:"localCulture",dateRange:{startDate:v(41),endDate:v(44)},eventWebsite:"https://literaturfestival.com/en/"},{title:"Open Monument Day",fullDescription:"Open Monument Day offers special access to historic buildings, restoration workshops and curated tours.",shortDescription:"Special-access heritage weekend with tours and behind-the-scenes visits.",interestType:"localCulture",dateRange:{startDate:v(43),endDate:v(44)},eventWebsite:"https://www.tag-des-offenen-denkmals.de/"}]},{imageUrl:"https://source.unsplash.com/random/800x600/?paris-art-basel,grand-palais",title:"Paris: Art-Week Immersion  Art Basel Paris + Paris Internationale",description:"Five-day Paris pick during Paris Art Week: Art Basel Paris and Paris Internationale lock the city into an intense art-and-design beat with museum highlights and culinary side-stops.",city:"Paris, France",dateRange:{startDate:v(50),endDate:v(55)},keyEvents:[{title:"Art Basel Paris (Paris+ par Art Basel)  Grand Palais",fullDescription:"Art Basel Paris gathers leading international galleries at the Grand Palais and runs a wide public program in the city: talks, outdoor sculpture projects and museum tie-ins.",shortDescription:"Major contemporary-art fair at the Grand Palais, citywide public program.",interestType:"artDesign",dateRange:{startDate:v(50),endDate:v(55)},eventWebsite:"https://www.artbasel.com/paris?lang=en"},{title:"Paris Internationale",fullDescription:"Paris Internationale is a curated, discovery-focused fair showcasing emerging galleries and experimental projects.",shortDescription:"Nomadic contemporary fair for emerging galleries and experimental projects.",interestType:"artDesign",dateRange:{startDate:v(50),endDate:v(55)},eventWebsite:"https://parisinternationale.com/"}],minorEvents:[{title:"Gerhard Richter retrospective  Fondation Louis Vuitton",fullDescription:"A major Gerhard Richter retrospective at Fondation Louis Vuitton  timed perfectly to coincide with Art Week.",shortDescription:"Gerhard Richter retrospective at Fondation Louis Vuitton.",interestType:"artDesign",dateRange:{startDate:v(47),endDate:v(120)}},{title:"Paris museum & culinary route",fullDescription:"During Art Week many Paris museums open special late nights and the Tuileries/Jardin public programs run pop-up installations.",shortDescription:"Late-night museum programs and Tuileries pop-ups with bistro/wine pairings during Art Week.",interestType:"culinary",dateRange:{startDate:v(50),endDate:v(55)},eventWebsite:"https://www.parismusees.paris.fr/"}]},{imageUrl:"https://source.unsplash.com/random/800x600/?barcelona-festival,la-merce",title:"Barcelona: La Merc  City Festival, Street Spectacle & Taste",description:"Six days in Barcelona for La Merc: citywide free concerts, BAM showcases, human-tower tradition, and Terra i Gust sustainable food programming.",city:"Barcelona, Spain",dateRange:{startDate:v(60),endDate:v(66)},keyEvents:[{title:"La Merc (Festes de la Merc)  Barcelona's city festival",fullDescription:"La Merc is Barcelona's biggest annual festival  a packed programme of free concerts, castellers (human towers), parades, fireworks (Piromusical) and public art across the city.",shortDescription:"Barcelona's citywide festival of music, street-art and tradition.",interestType:"localCulture",dateRange:{startDate:v(60),endDate:v(66)},eventWebsite:"https://www.barcelona.cat/lamerce/en/"},{title:"BAM (Barcelona Acci Musical)  La Merc's music strand",fullDescription:"BAM runs inside La Merc and highlights experimental, indie and electronic sounds on multiple stages throughout the city.",shortDescription:"BAM  the festival's edgy musical programme across multiple stages during La Merc.",interestType:"concerts",dateRange:{startDate:v(60),endDate:v(66)}}],minorEvents:[{title:"Terra i Gust  Merc's sustainable gastronomy programme",fullDescription:"Terra i Gust (part of La Merc) is Barcelona's sustainable-food hub offering tastings, debates and local-produce showcases in Parc de la Ciutadella.",shortDescription:"Sustainable-food fair within La Merc (Parc de la Ciutadella).",interestType:"culinary",dateRange:{startDate:v(63),endDate:v(66)},eventWebsite:"https://ajuntament.barcelona.cat/"},{title:"BAM & Merc free-stage highlights",fullDescription:"La Merc's open-air stages (Bogatell beach, Ciutadella, Plaa Catalunya) host headline and local acts  often free  spanning electronic DJ sets, hip hop showcases and neo-soul.",shortDescription:"Free concerts across city stages (Bogatell, Ciutadella, Plaa Catalunya) during La Merc.",interestType:"concerts",dateRange:{startDate:v(60),endDate:v(66)},eventWebsite:"https://www.barcelona.cat/lamerce/en/"}]},{imageUrl:"https://source.unsplash.com/random/800x600/?tokyo-cherry-blossom,temple",title:"Tokyo: Cherry Blossom Season & Traditional Arts",description:"Experience Tokyo during the magical cherry blossom season with traditional tea ceremonies, temple visits, and modern art galleries.",city:"Tokyo, Japan",dateRange:{startDate:v(70),endDate:v(76)},keyEvents:[{title:"Hanami Cherry Blossom Festival",fullDescription:"Join locals for hanami (flower viewing) in Ueno Park and Shinjuku Gyoen during peak cherry blossom season.",shortDescription:"Traditional cherry blossom viewing in Tokyo's most beautiful parks.",interestType:"localCulture",dateRange:{startDate:v(70),endDate:v(76)},eventWebsite:"https://www.japan-guide.com/e/e3951.html"},{title:"TeamLab Borderless Digital Art Museum",fullDescription:"Immerse yourself in interactive digital art installations at this groundbreaking museum in Odaiba.",shortDescription:"Interactive digital art experience at TeamLab Borderless.",interestType:"artDesign",dateRange:{startDate:v(71),endDate:v(71)},eventWebsite:"https://www.teamlab.art/e/borderless/"}],minorEvents:[{title:"Traditional Tea Ceremony Experience",fullDescription:"Learn the ancient art of Japanese tea ceremony in a traditional tea house in the historic Asakusa district.",shortDescription:"Authentic tea ceremony experience in historic Asakusa.",interestType:"localCulture",dateRange:{startDate:v(72),endDate:v(72)}},{title:"Tsukiji Outer Market Food Tour",fullDescription:"Explore the famous Tsukiji Outer Market with a local guide, sampling fresh sushi, street food, and traditional Japanese snacks.",shortDescription:"Guided food tour through Tokyo's famous Tsukiji market.",interestType:"culinary",dateRange:{startDate:v(73),endDate:v(73)},eventWebsite:"https://www.tsukiji.or.jp/english/"}]},{imageUrl:"https://source.unsplash.com/random/800x600/?new-york-broadway,jazz",title:"New York: Broadway & Jazz Heritage",description:"Dive into New York's performing arts scene with Broadway shows, jazz clubs, and cultural landmarks.",city:"New York City, USA",dateRange:{startDate:v(80),endDate:v(85)},keyEvents:[{title:"Broadway Show: Hamilton",fullDescription:"Experience Lin-Manuel Miranda's revolutionary musical that tells the story of Alexander Hamilton through hip-hop, jazz, and R&B.",shortDescription:"See the acclaimed Hamilton musical on Broadway.",interestType:"concerts",dateRange:{startDate:v(81),endDate:v(81)},eventWebsite:"https://hamiltonmusical.com/"},{title:"Blue Note Jazz Club Performance",fullDescription:"Enjoy an intimate jazz performance at the legendary Blue Note, featuring both established and emerging jazz artists.",shortDescription:"Live jazz at the iconic Blue Note club in Greenwich Village.",interestType:"concerts",dateRange:{startDate:v(82),endDate:v(82)}}],minorEvents:[{title:"Metropolitan Museum of Art",fullDescription:"Explore one of the world's largest and most comprehensive art museums, featuring collections spanning 5,000 years.",shortDescription:"World-class art collections at the Metropolitan Museum.",interestType:"artDesign",dateRange:{startDate:v(83),endDate:v(83)},eventWebsite:"https://www.metmuseum.org/"},{title:"Central Park & Bethesda Fountain",fullDescription:"Stroll through Central Park and visit the iconic Bethesda Fountain, a perfect spot for people-watching and relaxation.",shortDescription:"Peaceful walk through Central Park and Bethesda Fountain.",interestType:"localCulture",dateRange:{startDate:v(84),endDate:v(84)}}]},{imageUrl:"https://source.unsplash.com/random/800x600/?rome-colosseum,italian-food",title:"Rome: Ancient Wonders & Culinary Traditions",description:"Discover Rome's ancient history and vibrant food culture with guided tours, cooking classes, and historic sites.",city:"Rome, Italy",dateRange:{startDate:v(90),endDate:v(95)},keyEvents:[{title:"Colosseum Underground Tour",fullDescription:"Explore the underground chambers and arena floor of the Colosseum with exclusive access to areas usually closed to the public.",shortDescription:"Exclusive underground tour of the iconic Colosseum.",interestType:"localCulture",dateRange:{startDate:v(91),endDate:v(91)},eventWebsite:"https://www.coopculture.it/"},{title:"Vatican Museums & Sistine Chapel",fullDescription:"Marvel at Michelangelo's masterpieces in the Sistine Chapel and explore the vast collections of the Vatican Museums.",shortDescription:"Art treasures at the Vatican Museums and Sistine Chapel.",interestType:"artDesign",dateRange:{startDate:v(92),endDate:v(92)}}],minorEvents:[{title:"Traditional Roman Cooking Class",fullDescription:"Learn to make authentic Roman dishes like carbonara, cacio e pepe, and suppl with a local chef in Trastevere.",shortDescription:"Hands-on cooking class for traditional Roman cuisine.",interestType:"culinary",dateRange:{startDate:v(93),endDate:v(93)},eventWebsite:"https://www.cookingclassesrome.com/"},{title:"Trastevere Evening Food Walk",fullDescription:"Explore the charming Trastevere neighborhood with a local guide, sampling street food, gelato, and local wines.",shortDescription:"Evening food tour through the picturesque Trastevere district.",interestType:"culinary",dateRange:{startDate:v(94),endDate:v(94)}}]},{imageUrl:"https://source.unsplash.com/random/800x600/?london-punk-music,street-art",title:"London: Punk Heritage & Street Art Scene",description:"Explore London's rebellious side with punk music history, street art tours, and underground culture.",city:"London, UK",dateRange:{startDate:v(100),endDate:v(105)},keyEvents:[{title:"Punk London Walking Tour",fullDescription:"Follow the footsteps of the Sex Pistols, The Clash, and other punk legends through Camden, King's Road, and Soho.",shortDescription:"Guided tour of London's punk rock history and landmarks.",interestType:"concerts",dateRange:{startDate:v(101),endDate:v(101)},eventWebsite:"https://www.punkwalkingtour.com/"},{title:"Banksy & Street Art Tour in Shoreditch",fullDescription:"Discover works by Banksy and other renowned street artists in the vibrant East London neighborhood of Shoreditch.",shortDescription:"Street art tour featuring Banksy and local artists in Shoreditch.",interestType:"artDesign",dateRange:{startDate:v(102),endDate:v(102)}}],minorEvents:[{title:"Camden Market Vintage Shopping",fullDescription:"Browse vintage clothing, records, and punk memorabilia at the famous Camden Market, a hub of alternative culture.",shortDescription:"Vintage shopping and punk culture at Camden Market.",interestType:"localCulture",dateRange:{startDate:v(103),endDate:v(103)},eventWebsite:"https://www.camdenmarket.com/"},{title:"Traditional British Pub Experience",fullDescription:"Experience authentic British pub culture with local ales, traditional pub food, and live music in historic pubs.",shortDescription:"Authentic British pub crawl with local ales and traditional food.",interestType:"culinary",dateRange:{startDate:v(104),endDate:v(104)}}]},{imageUrl:"https://source.unsplash.com/random/800x600/?melbourne-coffee-culture,street-art",title:"Melbourne: Coffee Culture & Lane Art",description:"Discover Melbourne's famous coffee scene and vibrant street art culture in hidden laneways and local neighborhoods.",city:"Melbourne, Australia",dateRange:{startDate:v(110),endDate:v(115)},keyEvents:[{title:"Melbourne Coffee Culture Tour",fullDescription:"Explore Melbourne's renowned coffee culture with visits to specialty roasters, hidden cafes, and learn about the city's coffee history.",shortDescription:"Guided tour of Melbourne's world-famous coffee culture.",interestType:"culinary",dateRange:{startDate:v(111),endDate:v(111)},eventWebsite:"https://www.melbournecoffeetour.com/"},{title:"Street Art & Laneways Walking Tour",fullDescription:"Discover Melbourne's famous street art scene in hidden laneways like Hosier Lane and AC/DC Lane with a local street art guide.",shortDescription:"Explore Melbourne's iconic street art in hidden laneways.",interestType:"artDesign",dateRange:{startDate:v(112),endDate:v(112)}}],minorEvents:[{title:"Queen Victoria Market Food Tour",fullDescription:"Sample local produce, artisanal foods, and multicultural cuisine at Melbourne's historic Queen Victoria Market.",shortDescription:"Food tour through Melbourne's historic Queen Victoria Market.",interestType:"culinary",dateRange:{startDate:v(113),endDate:v(113)},eventWebsite:"https://qvm.com.au/"},{title:"Royal Botanic Gardens Melbourne",fullDescription:"Stroll through one of the world's finest botanic gardens, featuring diverse plant collections and peaceful walking paths.",shortDescription:"Peaceful walk through Melbourne's beautiful Royal Botanic Gardens.",interestType:"localCulture",dateRange:{startDate:v(114),endDate:v(114)}}]},{imageUrl:"https://source.unsplash.com/random/800x600/?istanbul-bazaar,turkish-music",title:"Istanbul: Ottoman Heritage & Turkish Delights",description:"Experience Istanbul's rich Ottoman history, traditional Turkish music, and authentic cuisine in this cultural crossroads.",city:"Istanbul, Turkey",dateRange:{startDate:v(120),endDate:v(125)},keyEvents:[{title:"Hagia Sophia & Blue Mosque Tour",fullDescription:"Explore two of Istanbul's most iconic landmarks with a guided tour covering their Byzantine and Ottoman history.",shortDescription:"Guided tour of Hagia Sophia and the Blue Mosque.",interestType:"localCulture",dateRange:{startDate:v(121),endDate:v(121)},eventWebsite:"https://www.istanbul.gov.tr/"},{title:"Traditional Turkish Music Performance",fullDescription:"Experience authentic Turkish classical music and folk performances at a traditional venue in the historic Sultanahmet district.",shortDescription:"Traditional Turkish music performance in historic Sultanahmet.",interestType:"concerts",dateRange:{startDate:v(122),endDate:v(122)}}],minorEvents:[{title:"Grand Bazaar Shopping Experience",fullDescription:"Navigate the historic Grand Bazaar, one of the world's oldest covered markets, shopping for carpets, spices, and Turkish crafts.",shortDescription:"Shopping adventure in the historic Grand Bazaar.",interestType:"localCulture",dateRange:{startDate:v(123),endDate:v(123)},eventWebsite:"https://grandbazaaristanbul.org/"},{title:"Turkish Cooking Class & Bosphorus Dinner",fullDescription:"Learn to cook traditional Turkish dishes and enjoy dinner with views of the Bosphorus strait.",shortDescription:"Turkish cooking class with Bosphorus dinner experience.",interestType:"culinary",dateRange:{startDate:v(124),endDate:v(124)}}]},{imageUrl:"https://source.unsplash.com/random/800x600/?rio-carnival,samba",title:"Rio de Janeiro: Carnival Spirit & Beach Culture",description:"Immerse yourself in Rio's vibrant carnival culture, samba music, and iconic beach lifestyle.",city:"Rio de Janeiro, Brazil",dateRange:{startDate:v(130),endDate:v(135)},keyEvents:[{title:"Samba School Rehearsal Experience",fullDescription:"Join a samba school rehearsal and learn about carnival preparations, costumes, and traditional Brazilian music.",shortDescription:"Authentic samba school rehearsal and carnival preparation experience.",interestType:"concerts",dateRange:{startDate:v(131),endDate:v(131)},eventWebsite:"https://www.rio.rj.gov.br/"},{title:"Christ the Redeemer & Sugarloaf Mountain",fullDescription:"Visit Rio's most iconic landmarks with panoramic views of the city, beaches, and surrounding mountains.",shortDescription:"Iconic Rio landmarks: Christ the Redeemer and Sugarloaf Mountain.",interestType:"localCulture",dateRange:{startDate:v(132),endDate:v(132)}}],minorEvents:[{title:"Copacabana Beach & Caipirinha Making",fullDescription:"Relax on the famous Copacabana beach and learn to make Brazil's national cocktail, the caipirinha.",shortDescription:"Beach day at Copacabana with caipirinha making class.",interestType:"culinary",dateRange:{startDate:v(133),endDate:v(133)},eventWebsite:"https://www.copacabana.com/"},{title:"Santa Teresa Neighborhood Art Walk",fullDescription:"Explore the bohemian Santa Teresa neighborhood, known for its colonial architecture, art studios, and cultural venues.",shortDescription:"Art walk through the bohemian Santa Teresa neighborhood.",interestType:"artDesign",dateRange:{startDate:v(134),endDate:v(134)}}]},{imageUrl:"https://source.unsplash.com/random/800x600/?marrakech-souks,moroccan-music",title:"Marrakech: Medina Magic & Moroccan Rhythms",description:"Discover the enchanting medina of Marrakech with traditional music, vibrant souks, and authentic Moroccan cuisine.",city:"Marrakech, Morocco",dateRange:{startDate:v(140),endDate:v(145)},keyEvents:[{title:"Jemaa el-Fnaa Square Evening Experience",fullDescription:"Experience the magic of Marrakech's main square with storytellers, musicians, snake charmers, and food stalls as the sun sets.",shortDescription:"Evening cultural experience at the famous Jemaa el-Fnaa square.",interestType:"localCulture",dateRange:{startDate:v(141),endDate:v(141)},eventWebsite:"https://www.visitmorocco.com/"},{title:"Traditional Gnawa Music Performance",fullDescription:"Listen to authentic Gnawa music, a spiritual musical tradition combining African, Berber, and Arabic influences.",shortDescription:"Traditional Gnawa music performance with spiritual and cultural significance.",interestType:"concerts",dateRange:{startDate:v(142),endDate:v(142)}}],minorEvents:[{title:"Medina Souks Shopping Tour",fullDescription:"Navigate the labyrinthine souks of the medina with a local guide, shopping for spices, textiles, and traditional crafts.",shortDescription:"Guided shopping tour through the traditional medina souks.",interestType:"localCulture",dateRange:{startDate:v(143),endDate:v(143)},eventWebsite:"https://www.marrakech.ma/"},{title:"Moroccan Cooking Class & Tagine Workshop",fullDescription:"Learn to prepare traditional Moroccan dishes including tagines, couscous, and mint tea in a local riad.",shortDescription:"Hands-on Moroccan cooking class in a traditional riad setting.",interestType:"culinary",dateRange:{startDate:v(144),endDate:v(144)}}]},{imageUrl:"https://source.unsplash.com/random/800x600/?dublin-traditional-music,irish-pub",title:"Dublin: Traditional Irish Music & Literary Heritage",description:"Explore Dublin's rich musical and literary traditions with pub sessions, literary tours, and Irish cultural experiences.",city:"Dublin, Ireland",dateRange:{startDate:v(150),endDate:v(155)},keyEvents:[{title:"Traditional Irish Music Pub Session",fullDescription:"Experience authentic Irish traditional music in historic pubs with local musicians playing fiddle, bodhrn, and tin whistle.",shortDescription:"Authentic traditional Irish music session in historic Dublin pubs.",interestType:"concerts",dateRange:{startDate:v(151),endDate:v(151)},eventWebsite:"https://www.dublintraditionalmusictrail.com/"},{title:"Literary Dublin Walking Tour",fullDescription:"Follow in the footsteps of James Joyce, Oscar Wilde, and other Irish literary giants through Dublin's historic streets and literary landmarks.",shortDescription:"Literary walking tour exploring Dublin's famous writers and their haunts.",interestType:"localCulture",dateRange:{startDate:v(152),endDate:v(152)}}],minorEvents:[{title:"Guinness Storehouse Experience",fullDescription:"Learn about Ireland's most famous beer at the Guinness Storehouse, including a pint-pouring lesson and panoramic city views.",shortDescription:"Interactive Guinness experience with brewing history and city views.",interestType:"culinary",dateRange:{startDate:v(153),endDate:v(153)},eventWebsite:"https://www.guinness-storehouse.com/"},{title:"Trinity College & Book of Kells",fullDescription:"Visit Ireland's oldest university and see the famous Book of Kells, a beautifully illuminated medieval manuscript.",shortDescription:"Historic Trinity College visit with the famous Book of Kells exhibition.",interestType:"localCulture",dateRange:{startDate:v(154),endDate:v(154)}}]},{imageUrl:"https://source.unsplash.com/random/800x600/?vienna-classical-music,coffee-house",title:"Vienna: Classical Music & Coffeehouse Culture",description:"Experience Vienna's imperial grandeur through classical concerts, traditional coffeehouses, and Habsburg architecture.",city:"Vienna, Austria",dateRange:{startDate:v(160),endDate:v(165)},keyEvents:[{title:"Vienna State Opera Performance",fullDescription:"Attend a world-class opera or ballet performance at the prestigious Vienna State Opera, one of the world's leading opera houses.",shortDescription:"Classical opera or ballet performance at the renowned Vienna State Opera.",interestType:"concerts",dateRange:{startDate:v(161),endDate:v(161)},eventWebsite:"https://www.wiener-staatsoper.at/"},{title:"Schnbrunn Palace & Gardens Tour",fullDescription:"Explore the magnificent Schnbrunn Palace, former imperial summer residence, with its opulent rooms and beautiful baroque gardens.",shortDescription:"Imperial palace tour at the magnificent Schnbrunn Palace.",interestType:"localCulture",dateRange:{startDate:v(162),endDate:v(162)}}],minorEvents:[{title:"Traditional Viennese Coffeehouse Experience",fullDescription:"Experience Vienna's famous coffeehouse culture at historic establishments like Caf Central or Caf Sacher, with traditional pastries and coffee.",shortDescription:"Traditional coffeehouse experience with Viennese pastries and coffee culture.",interestType:"culinary",dateRange:{startDate:v(163),endDate:v(163)},eventWebsite:"https://www.cafecentral.wien/"},{title:"Belvedere Palace & Klimt Collection",fullDescription:"Visit the Belvedere Palace to see Gustav Klimt's famous paintings including 'The Kiss' and other Austrian art masterpieces.",shortDescription:"Art museum visit featuring Klimt's masterpieces at Belvedere Palace.",interestType:"artDesign",dateRange:{startDate:v(164),endDate:v(164)}}]},{imageUrl:"https://source.unsplash.com/random/800x600/?cape-town-jazz,wine-tasting",title:"Cape Town: Jazz Heritage & Wine Country",description:"Discover Cape Town's vibrant jazz scene and world-renowned wine regions with cultural tours and tastings.",city:"Cape Town, South Africa",dateRange:{startDate:v(170),endDate:v(175)},keyEvents:[{title:"Cape Town International Jazz Festival",fullDescription:"Experience Africa's grandest gathering of jazz musicians with local and international artists performing across multiple stages.",shortDescription:"Major jazz festival featuring local and international artists.",interestType:"concerts",dateRange:{startDate:v(171),endDate:v(172)},eventWebsite:"https://www.capetownjazzfest.com/"},{title:"Stellenbosch Wine Region Tour",fullDescription:"Explore the historic Stellenbosch wine region with tastings at award-winning wineries and scenic vineyard tours.",shortDescription:"Wine tasting tour in the prestigious Stellenbosch wine region.",interestType:"culinary",dateRange:{startDate:v(173),endDate:v(173)}}],minorEvents:[{title:"Table Mountain Cable Car & Sunset",fullDescription:"Take the cable car up Table Mountain for panoramic views of Cape Town and watch the sunset over the Atlantic Ocean.",shortDescription:"Table Mountain cable car ride with spectacular sunset views.",interestType:"localCulture",dateRange:{startDate:v(174),endDate:v(174)},eventWebsite:"https://www.tablemountain.net/"},{title:"Bo-Kaap Cultural Walking Tour",fullDescription:"Explore the colorful Bo-Kaap neighborhood, learning about Cape Malay culture, history, and traditional cooking.",shortDescription:"Cultural walking tour through the vibrant Bo-Kaap neighborhood.",interestType:"localCulture",dateRange:{startDate:v(175),endDate:v(175)}}]},{imageUrl:"https://source.unsplash.com/random/800x600/?montreal-jazz-festival,poutine",title:"Montreal: Jazz Festival & French-Canadian Culture",description:"Experience Montreal's world-famous jazz festival and unique French-Canadian culture with music, food, and historic neighborhoods.",city:"Montreal, Canada",dateRange:{startDate:v(180),endDate:v(185)},keyEvents:[{title:"Montreal International Jazz Festival",fullDescription:"Attend the world's largest jazz festival with over 500 concerts featuring international jazz legends and emerging artists.",shortDescription:"World's largest jazz festival with 500+ concerts and international artists.",interestType:"concerts",dateRange:{startDate:v(181),endDate:v(185)},eventWebsite:"https://www.montrealjazzfest.com/"},{title:"Old Montreal Historic Walking Tour",fullDescription:"Explore the cobblestone streets of Old Montreal, visiting historic sites, churches, and learning about French colonial history.",shortDescription:"Historic walking tour through charming Old Montreal's cobblestone streets.",interestType:"localCulture",dateRange:{startDate:v(182),endDate:v(182)}}],minorEvents:[{title:"Quebec Cuisine & Poutine Tasting Tour",fullDescription:"Sample authentic Quebec cuisine including poutine, tourtire, and maple syrup treats on a guided food tour.",shortDescription:"Quebec cuisine tour featuring poutine and traditional French-Canadian dishes.",interestType:"culinary",dateRange:{startDate:v(183),endDate:v(183)},eventWebsite:"https://www.foodtourscanada.com/"},{title:"Mount Royal Park & City Views",fullDescription:"Hike or take the bus up Mount Royal for panoramic views of Montreal and explore the park designed by Frederick Law Olmsted.",shortDescription:"Mount Royal park visit with panoramic city views and nature walks.",interestType:"localCulture",dateRange:{startDate:v(184),endDate:v(184)}}]},{imageUrl:"https://source.unsplash.com/random/800x600/?edinburgh-festival,scottish-whisky",title:"Edinburgh: Festival Fringe & Scottish Traditions",description:"Experience Edinburgh's world-famous Festival Fringe and Scottish cultural traditions with whisky tastings and historic tours.",city:"Edinburgh, Scotland",dateRange:{startDate:v(190),endDate:v(195)},keyEvents:[{title:"Edinburgh Festival Fringe",fullDescription:"Attend the world's largest arts festival with thousands of performances including comedy, theater, music, and dance.",shortDescription:"World's largest arts festival with comedy, theater, and music performances.",interestType:"concerts",dateRange:{startDate:v(191),endDate:v(195)},eventWebsite:"https://www.edfringe.com/"},{title:"Edinburgh Castle & Royal Mile Tour",fullDescription:"Explore the iconic Edinburgh Castle perched on an extinct volcano and walk down the historic Royal Mile.",shortDescription:"Historic tour of Edinburgh Castle and the famous Royal Mile.",interestType:"localCulture",dateRange:{startDate:v(192),endDate:v(192)}}],minorEvents:[{title:"Scottish Whisky Tasting Experience",fullDescription:"Learn about Scottish whisky production and taste different regional varieties at a traditional whisky bar.",shortDescription:"Scottish whisky tasting with regional varieties and production insights.",interestType:"culinary",dateRange:{startDate:v(193),endDate:v(193)},eventWebsite:"https://www.scotchwhiskyexperience.co.uk/"},{title:"Arthur's Seat Hike & City Views",fullDescription:"Hike up Arthur's Seat, Edinburgh's highest peak, for spectacular views of the city and surrounding Scottish countryside.",shortDescription:"Hike up Arthur's Seat for panoramic views of Edinburgh and Scotland.",interestType:"localCulture",dateRange:{startDate:v(194),endDate:v(194)}}]},{imageUrl:"https://source.unsplash.com/random/800x600/?prague-classical-music,czech-beer",title:"Prague: Classical Concerts & Czech Beer Culture",description:"Discover Prague's musical heritage and famous beer culture with classical concerts in historic venues and traditional breweries.",city:"Prague, Czech Republic",dateRange:{startDate:v(200),endDate:v(205)},keyEvents:[{title:"Classical Concert in St. Vitus Cathedral",fullDescription:"Attend a classical music concert in the stunning Gothic St. Vitus Cathedral, featuring works by Czech composers like Dvok.",shortDescription:"Classical concert in the magnificent Gothic St. Vitus Cathedral.",interestType:"concerts",dateRange:{startDate:v(201),endDate:v(201)},eventWebsite:"https://www.praguecastle.cz/"},{title:"Prague Castle & Charles Bridge Tour",fullDescription:"Explore the largest ancient castle complex in the world and walk across the historic Charles Bridge with its baroque statues.",shortDescription:"Historic tour of Prague Castle and the iconic Charles Bridge.",interestType:"localCulture",dateRange:{startDate:v(202),endDate:v(202)}}],minorEvents:[{title:"Czech Beer Tasting & Brewery Tour",fullDescription:"Visit traditional Czech breweries and taste famous Czech beers including Pilsner Urquell and Budweiser Budvar.",shortDescription:"Czech beer tasting tour featuring famous local breweries.",interestType:"culinary",dateRange:{startDate:v(203),endDate:v(203)},eventWebsite:"https://www.pilsner-urquell.com/"},{title:"Old Town Square & Astronomical Clock",fullDescription:"Visit Prague's beautiful Old Town Square and watch the famous Astronomical Clock's hourly show with moving apostles.",shortDescription:"Old Town Square visit with the famous medieval Astronomical Clock.",interestType:"localCulture",dateRange:{startDate:v(204),endDate:v(204)}}]}];console.log(" Total available bundles:",n.length);const r=new Set(t.map(l=>l.title)),s=n.filter(l=>!r.has(l.title));if(s.length===0)return console.log(" [MOCK] No new bundles available after filtering - all bundles already shown"),[];const i=Math.min(3,s.length),a=[],o=new Set;for(;a.length<i;){const l=Math.floor(Math.random()*s.length);o.has(l)||(o.add(l),a.push(s[l]))}return console.log(` [MOCK] Generated ${a.length} trip bundles:`,a.map(l=>l.title)),console.log(` Pagination: ${s.length} available, returning ${a.length}`),a};function U(e,t,n,r,s){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}function w(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}let Gg=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return Gg=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};function Uu(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const zu=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};class L extends Error{}class Ae extends L{constructor(t,n,r,s){super(`${Ae.makeMessage(t,n,r)}`),this.status=t,this.headers=s,this.requestID=s==null?void 0:s.get("x-request-id"),this.error=n;const i=n;this.code=i==null?void 0:i.code,this.param=i==null?void 0:i.param,this.type=i==null?void 0:i.type}static makeMessage(t,n,r){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&s?`${t} ${s}`:t?`${t} status code (no body)`:s||"(no status code or body)"}static generate(t,n,r,s){if(!t||!s)return new $o({message:r,cause:zu(n)});const i=n==null?void 0:n.error;return t===400?new Kg(t,i,r,s):t===401?new Yg(t,i,r,s):t===403?new Jg(t,i,r,s):t===404?new qg(t,i,r,s):t===409?new Qg(t,i,r,s):t===422?new Xg(t,i,r,s):t===429?new Zg(t,i,r,s):t>=500?new ev(t,i,r,s):new Ae(t,i,r,s)}}class ft extends Ae{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class $o extends Ae{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class af extends $o{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Kg extends Ae{}class Yg extends Ae{}class Jg extends Ae{}class qg extends Ae{}class Qg extends Ae{}class Xg extends Ae{}class Zg extends Ae{}class ev extends Ae{}class tv extends L{constructor(){super("Could not parse response content as the length limit was reached")}}class nv extends L{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class vs extends Error{constructor(t){super(t)}}const kE=/^[a-z][a-z0-9+.-]*:/i,bE=e=>kE.test(e);let Fe=e=>(Fe=Array.isArray,Fe(e)),ih=Fe;function rv(e){return typeof e!="object"?{}:e??{}}function xE(e){if(!e)return!0;for(const t in e)return!1;return!0}function CE(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Cl(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}const AE=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new L(`${e} must be an integer`);if(t<0)throw new L(`${e} must be a positive integer`);return t},OE=e=>{try{return JSON.parse(e)}catch{return}},wi=e=>new Promise(t=>setTimeout(t,e)),gr="5.19.1",RE=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function TE(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const PE=()=>{var n;const e=TE();if(e==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gr,"X-Stainless-OS":oh(Deno.build.os),"X-Stainless-Arch":ah(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((n=Deno.version)==null?void 0:n.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(e==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gr,"X-Stainless-OS":oh(globalThis.process.platform??"unknown"),"X-Stainless-Arch":ah(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const t=DE();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function DE(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,i=r[2]||0,a=r[3]||0;return{browser:t,version:`${s}.${i}.${a}`}}}return null}const ah=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",oh=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let lh;const IE=()=>lh??(lh=PE());function NE(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function sv(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function iv(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return sv({start(){},async pull(n){const{done:r,value:s}=await t.next();r?n.close():n.enqueue(s)},async cancel(){var n;await((n=t.return)==null?void 0:n.call(t))}})}function av(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function jE(e){var r,s;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((s=(r=e[Symbol.asyncIterator]()).return)==null?void 0:s.call(r));return}const t=e.getReader(),n=t.cancel();t.releaseLock(),await n}const ME=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)}),ov="RFC3986",lv=e=>String(e),uh={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:lv},LE="RFC1738";let Vu=(e,t)=>(Vu=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),Vu(e,t));const Rt=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),Al=1024,FE=(e,t,n,r,s)=>{if(e.length===0)return e;let i=e;if(typeof e=="symbol"?i=Symbol.prototype.toString.call(e):typeof e!="string"&&(i=String(e)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(o){return"%26%23"+parseInt(o.slice(2),16)+"%3B"});let a="";for(let o=0;o<i.length;o+=Al){const l=i.length>=Al?i.slice(o,o+Al):i,u=[];for(let c=0;c<l.length;++c){let d=l.charCodeAt(c);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||s===LE&&(d===40||d===41)){u[u.length]=l.charAt(c);continue}if(d<128){u[u.length]=Rt[d];continue}if(d<2048){u[u.length]=Rt[192|d>>6]+Rt[128|d&63];continue}if(d<55296||d>=57344){u[u.length]=Rt[224|d>>12]+Rt[128|d>>6&63]+Rt[128|d&63];continue}c+=1,d=65536+((d&1023)<<10|l.charCodeAt(c)&1023),u[u.length]=Rt[240|d>>18]+Rt[128|d>>12&63]+Rt[128|d>>6&63]+Rt[128|d&63]}a+=u.join("")}return a};function $E(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function ch(e,t){if(Fe(e)){const n=[];for(let r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)}const uv={brackets(e){return String(e)+"[]"},comma:"comma",indices(e,t){return String(e)+"["+t+"]"},repeat(e){return String(e)}},cv=function(e,t){Array.prototype.push.apply(e,Fe(t)?t:[t])};let fh;const pe={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:FE,encodeValuesOnly:!1,format:ov,formatter:lv,indices:!1,serializeDate(e){return(fh??(fh=Function.prototype.call.bind(Date.prototype.toISOString)))(e)},skipNulls:!1,strictNullHandling:!1};function BE(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"}const Ol={};function fv(e,t,n,r,s,i,a,o,l,u,c,d,h,m,S,E,O,g){let f=e,p=g,y=0,b=!1;for(;(p=p.get(Ol))!==void 0&&!b;){const I=p.get(e);if(y+=1,typeof I<"u"){if(I===y)throw new RangeError("Cyclic object value");b=!0}typeof p.get(Ol)>"u"&&(y=0)}if(typeof u=="function"?f=u(t,f):f instanceof Date?f=h==null?void 0:h(f):n==="comma"&&Fe(f)&&(f=ch(f,function(I){return I instanceof Date?h==null?void 0:h(I):I})),f===null){if(i)return l&&!E?l(t,pe.encoder,O,"key",m):t;f=""}if(BE(f)||$E(f)){if(l){const I=E?t:l(t,pe.encoder,O,"key",m);return[(S==null?void 0:S(I))+"="+(S==null?void 0:S(l(f,pe.encoder,O,"value",m)))]}return[(S==null?void 0:S(t))+"="+(S==null?void 0:S(String(f)))]}const x=[];if(typeof f>"u")return x;let k;if(n==="comma"&&Fe(f))E&&l&&(f=ch(f,l)),k=[{value:f.length>0?f.join(",")||null:void 0}];else if(Fe(u))k=u;else{const I=Object.keys(f);k=c?I.sort(c):I}const P=o?String(t).replace(/\./g,"%2E"):String(t),B=r&&Fe(f)&&f.length===1?P+"[]":P;if(s&&Fe(f)&&f.length===0)return B+"[]";for(let I=0;I<k.length;++I){const V=k[I],Le=typeof V=="object"&&typeof V.value<"u"?V.value:f[V];if(a&&Le===null)continue;const nt=d&&o?V.replace(/\./g,"%2E"):V,In=Fe(f)?typeof n=="function"?n(B,nt):B:B+(d?"."+nt:"["+nt+"]");g.set(e,y);const on=new WeakMap;on.set(Ol,g),cv(x,fv(Le,In,n,r,s,i,a,o,n==="comma"&&E&&Fe(f)?null:l,u,c,d,h,m,S,E,O,on))}return x}function UE(e=pe){if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=e.charset||pe.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=ov;if(typeof e.format<"u"){if(!Vu(uh,e.format))throw new TypeError("Unknown format option provided.");n=e.format}const r=uh[n];let s=pe.filter;(typeof e.filter=="function"||Fe(e.filter))&&(s=e.filter);let i;if(e.arrayFormat&&e.arrayFormat in uv?i=e.arrayFormat:"indices"in e?i=e.indices?"indices":"repeat":i=pe.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const a=typeof e.allowDots>"u"?e.encodeDotInKeys?!0:pe.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:pe.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:pe.allowEmptyArrays,arrayFormat:i,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:pe.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?pe.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:pe.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:pe.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:pe.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:pe.encodeValuesOnly,filter:s,format:n,formatter:r,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:pe.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:pe.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:pe.strictNullHandling}}function zE(e,t={}){let n=e;const r=UE(t);let s,i;typeof r.filter=="function"?(i=r.filter,n=i("",n)):Fe(r.filter)&&(i=r.filter,s=i);const a=[];if(typeof n!="object"||n===null)return"";const o=uv[r.arrayFormat],l=o==="comma"&&r.commaRoundTrip;s||(s=Object.keys(n)),r.sort&&s.sort(r.sort);const u=new WeakMap;for(let h=0;h<s.length;++h){const m=s[h];r.skipNulls&&n[m]===null||cv(a,fv(n[m],m,o,l,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,u))}const c=a.join(r.delimiter);let d=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),c.length>0?d+c:""}function VE(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}let dh;function of(e){let t;return(dh??(t=new globalThis.TextEncoder,dh=t.encode.bind(t)))(e)}let hh;function ph(e){let t;return(hh??(t=new globalThis.TextDecoder,hh=t.decode.bind(t)))(e)}var We,He;class Bo{constructor(){We.set(this,void 0),He.set(this,void 0),U(this,We,new Uint8Array),U(this,He,null)}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?of(t):t;U(this,We,VE([w(this,We,"f"),n]));const r=[];let s;for(;(s=WE(w(this,We,"f"),w(this,He,"f")))!=null;){if(s.carriage&&w(this,He,"f")==null){U(this,He,s.index);continue}if(w(this,He,"f")!=null&&(s.index!==w(this,He,"f")+1||s.carriage)){r.push(ph(w(this,We,"f").subarray(0,w(this,He,"f")-1))),U(this,We,w(this,We,"f").subarray(w(this,He,"f"))),U(this,He,null);continue}const i=w(this,He,"f")!==null?s.preceding-1:s.preceding,a=ph(w(this,We,"f").subarray(0,i));r.push(a),U(this,We,w(this,We,"f").subarray(s.index)),U(this,He,null)}return r}flush(){return w(this,We,"f").length?this.decode(`
`):[]}}We=new WeakMap,He=new WeakMap;Bo.NEWLINE_CHARS=new Set([`
`,"\r"]);Bo.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function WE(e,t){for(let s=t??0;s<e.length;s++){if(e[s]===10)return{preceding:s,index:s+1,carriage:!1};if(e[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function HE(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}const io={off:0,error:200,warn:300,info:400,debug:500},mh=(e,t,n)=>{if(e){if(CE(io,e))return e;Ee(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(io))}`)}};function ys(){}function Gi(e,t,n){return!t||io[e]>io[n]?ys:t[e].bind(t)}const GE={error:ys,warn:ys,info:ys,debug:ys};let gh=new WeakMap;function Ee(e){const t=e.logger,n=e.logLevel??"off";if(!t)return GE;const r=gh.get(t);if(r&&r[0]===n)return r[1];const s={error:Gi("error",t,n),warn:Gi("warn",t,n),info:Gi("info",t,n),debug:Gi("debug",t,n)};return gh.set(t,[n,s]),s}const Ln=e=>(e.options&&(e.options={...e.options},delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);var fs;class jt{constructor(t,n,r){this.iterator=t,fs.set(this,void 0),this.controller=n,U(this,fs,r)}static fromSSEResponse(t,n,r){let s=!1;const i=r?Ee(r):console;async function*a(){if(s)throw new L("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let o=!1;try{for await(const l of KE(t,n))if(!o){if(l.data.startsWith("[DONE]")){o=!0;continue}if(l.event===null||!l.event.startsWith("thread.")){let u;try{u=JSON.parse(l.data)}catch(c){throw i.error("Could not parse message into JSON:",l.data),i.error("From chunk:",l.raw),c}if(u&&u.error)throw new Ae(void 0,u.error,void 0,t.headers);yield u}else{let u;try{u=JSON.parse(l.data)}catch(c){throw console.error("Could not parse message into JSON:",l.data),console.error("From chunk:",l.raw),c}if(l.event=="error")throw new Ae(void 0,u.error,u.message,void 0);yield{event:l.event,data:u}}}o=!0}catch(l){if(Uu(l))return;throw l}finally{o||n.abort()}}return new jt(a,n,r)}static fromReadableStream(t,n,r){let s=!1;async function*i(){const o=new Bo,l=av(t);for await(const u of l)for(const c of o.decode(u))yield c;for(const u of o.flush())yield u}async function*a(){if(s)throw new L("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let o=!1;try{for await(const l of i())o||l&&(yield JSON.parse(l));o=!0}catch(l){if(Uu(l))return;throw l}finally{o||n.abort()}}return new jt(a,n,r)}[(fs=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),s=i=>({next:()=>{if(i.length===0){const a=r.next();t.push(a),n.push(a)}return i.shift()}});return[new jt(()=>s(t),this.controller,w(this,fs,"f")),new jt(()=>s(n),this.controller,w(this,fs,"f"))]}toReadableStream(){const t=this;let n;return sv({async start(){n=t[Symbol.asyncIterator]()},async pull(r){try{const{value:s,done:i}=await n.next();if(i)return r.close();const a=of(JSON.stringify(s)+`
`);r.enqueue(a)}catch(s){r.error(s)}},async cancel(){var r;await((r=n.return)==null?void 0:r.call(n))}})}}async function*KE(e,t){if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new L("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new L("Attempted to iterate over a response with no body");const n=new JE,r=new Bo,s=av(e.body);for await(const i of YE(s))for(const a of r.decode(i)){const o=n.decode(a);o&&(yield o)}for(const i of r.flush()){const a=n.decode(i);a&&(yield a)}}async function*YE(e){let t=new Uint8Array;for await(const n of e){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?of(n):n;let s=new Uint8Array(t.length+r.length);s.set(t),s.set(r,t.length),t=s;let i;for(;(i=HE(t))!==-1;)yield t.slice(0,i),t=t.slice(i)}t.length>0&&(yield t)}class JE{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,s]=qE(t,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}}function qE(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}async function dv(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:s,startTime:i}=t,a=await(async()=>{var d;if(t.options.stream)return Ee(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):jt.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const o=n.headers.get("content-type"),l=(d=o==null?void 0:o.split(";")[0])==null?void 0:d.trim();if((l==null?void 0:l.includes("application/json"))||(l==null?void 0:l.endsWith("+json"))){const h=await n.json();return hv(h,n)}return await n.text()})();return Ee(e).debug(`[${r}] response parsed`,Ln({retryOfRequestLogID:s,url:n.url,status:n.status,body:a,durationMs:Date.now()-i})),a}function hv(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}var _s;class Uo extends Promise{constructor(t,n,r=dv){super(s=>{s(null)}),this.responsePromise=n,this.parseResponse=r,_s.set(this,void 0),U(this,_s,t)}_thenUnwrap(t){return new Uo(w(this,_s,"f"),this.responsePromise,async(n,r)=>hv(t(await this.parseResponse(n,r),r),r.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(w(this,_s,"f"),t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}_s=new WeakMap;var Ki;class lf{constructor(t,n,r,s){Ki.set(this,void 0),U(this,Ki,t),this.options=s,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const t=this.nextPageRequestOptions();if(!t)throw new L("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await w(this,Ki,"f").requestAPIList(this.constructor,t)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(Ki=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const n of t.getPaginatedItems())yield n}}class QE extends Uo{constructor(t,n,r){super(t,n,async(s,i)=>new r(s,i.response,await dv(s,i),i.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const n of t)yield n}}class zo extends lf{constructor(t,n,r,s){super(t,n,r,s),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class de extends lf{constructor(t,n,r,s){super(t,n,r,s),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){var r;const t=this.getPaginatedItems(),n=(r=t[t.length-1])==null?void 0:r.id;return n?{...this.options,query:{...rv(this.options.query),after:n}}:null}}class XE extends lf{constructor(t,n,r,s){super(t,n,r,s),this.data=r.data||[],this.has_more=r.has_more||!1,this.last_id=r.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const t=this.last_id;return t?{...this.options,query:{...rv(this.options.query),after:t}}:null}}const pv=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)==null?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Fs(e,t,n){return pv(),new File(e,t??"unknown_file",n)}function ga(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const mv=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",nr=async(e,t)=>({...e,body:await ek(e.body,t)}),vh=new WeakMap;function ZE(e){const t=typeof e=="function"?e:e.fetch,n=vh.get(t);if(n)return n;const r=(async()=>{try{const s="Response"in t?t.Response:(await t("data:,")).constructor,i=new FormData;return i.toString()!==await new s(i).text()}catch{return!0}})();return vh.set(t,r),r}const ek=async(e,t)=>{if(!await ZE(t))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(e||{}).map(([r,s])=>Wu(n,r,s))),n},tk=e=>e instanceof Blob&&"name"in e,Wu=async(e,t,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")e.append(t,String(n));else if(n instanceof Response)e.append(t,Fs([await n.blob()],ga(n)));else if(mv(n))e.append(t,Fs([await new Response(iv(n)).blob()],ga(n)));else if(tk(n))e.append(t,n,ga(n));else if(Array.isArray(n))await Promise.all(n.map(r=>Wu(e,t+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,s])=>Wu(e,`${t}[${r}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}},gv=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",nk=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&gv(e),rk=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function sk(e,t,n){if(pv(),e=await e,nk(e))return e instanceof File?e:Fs([await e.arrayBuffer()],e.name);if(rk(e)){const s=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),Fs(await Hu(s),t,n)}const r=await Hu(e);if(t||(t=ga(e)),!(n!=null&&n.type)){const s=r.find(i=>typeof i=="object"&&"type"in i&&i.type);typeof s=="string"&&(n={...n,type:s})}return Fs(r,t,n)}async function Hu(e){var n;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(gv(e))t.push(e instanceof Blob?e:await e.arrayBuffer());else if(mv(e))for await(const r of e)t.push(...await Hu(r));else{const r=(n=e==null?void 0:e.constructor)==null?void 0:n.name;throw new Error(`Unexpected data type: ${typeof e}${r?`; constructor: ${r}`:""}${ik(e)}`)}return t}function ik(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}class ${constructor(t){this._client=t}}function vv(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const yh=Object.freeze(Object.create(null)),ak=(e=vv)=>function(n,...r){if(n.length===1)return n[0];let s=!1;const i=[],a=n.reduce((c,d,h)=>{var E;/[?#]/.test(d)&&(s=!0);const m=r[h];let S=(s?encodeURIComponent:e)(""+m);return h!==r.length&&(m==null||typeof m=="object"&&m.toString===((E=Object.getPrototypeOf(Object.getPrototypeOf(m.hasOwnProperty??yh)??yh))==null?void 0:E.toString))&&(S=m+"",i.push({start:c.length+d.length,length:S.length,error:`Value of type ${Object.prototype.toString.call(m).slice(8,-1)} is not a valid path parameter`})),c+d+(h===r.length?"":S)},""),o=a.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(o))!==null;)i.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(i.sort((c,d)=>c.start-d.start),i.length>0){let c=0;const d=i.reduce((h,m)=>{const S=" ".repeat(m.start-c),E="^".repeat(m.length);return c=m.start+m.length,h+S+E},"");throw new L(`Path parameters result in path with invalid segments:
${i.map(h=>h.error).join(`
`)}
${a}
${d}`)}return a},R=ak(vv);let yv=class extends ${list(t,n={},r){return this._client.getAPIList(R`/chat/completions/${t}/messages`,de,{query:n,...r})}};function ao(e){return e!==void 0&&"function"in e&&e.function!==void 0}function uf(e){return(e==null?void 0:e.$brand)==="auto-parseable-response-format"}function Si(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function ok(e,t){return!t||!_v(t)?{...e,choices:e.choices.map(n=>(wv(n.message.tool_calls),{...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:cf(e,t)}function cf(e,t){const n=e.choices.map(r=>{var s;if(r.finish_reason==="length")throw new tv;if(r.finish_reason==="content_filter")throw new nv;return wv(r.message.tool_calls),{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:((s=r.message.tool_calls)==null?void 0:s.map(i=>uk(t,i)))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?lk(t,r.message.content):null}}});return{...e,choices:n}}function lk(e,t){var n,r;return((n=e.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=e.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function uk(e,t){var r;const n=(r=e.tools)==null?void 0:r.find(s=>{var i;return ao(s)&&((i=s.function)==null?void 0:i.name)===t.function.name});return{...t,function:{...t.function,parsed_arguments:Si(n)?n.$parseRaw(t.function.arguments):n!=null&&n.function.strict?JSON.parse(t.function.arguments):null}}}function ck(e,t){var r;if(!e||!("tools"in e)||!e.tools)return!1;const n=(r=e.tools)==null?void 0:r.find(s=>{var i;return ao(s)&&((i=s.function)==null?void 0:i.name)===t.function.name});return ao(n)&&(Si(n)||(n==null?void 0:n.function.strict)||!1)}function _v(e){var t;return uf(e.response_format)?!0:((t=e.tools)==null?void 0:t.some(n=>Si(n)||n.type==="function"&&n.function.strict===!0))??!1}function wv(e){for(const t of e||[])if(t.type!=="function")throw new L(`Currently only \`function\` tool calls are supported; Received \`${t.type}\``)}function fk(e){for(const t of e??[]){if(t.type!=="function")throw new L(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new L(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const oo=e=>(e==null?void 0:e.role)==="assistant",Sv=e=>(e==null?void 0:e.role)==="tool";var Gu,va,ya,ws,Ss,_a,Es,Vt,ks,lo,uo,vr,Ev;class ff{constructor(){Gu.add(this),this.controller=new AbortController,va.set(this,void 0),ya.set(this,()=>{}),ws.set(this,()=>{}),Ss.set(this,void 0),_a.set(this,()=>{}),Es.set(this,()=>{}),Vt.set(this,{}),ks.set(this,!1),lo.set(this,!1),uo.set(this,!1),vr.set(this,!1),U(this,va,new Promise((t,n)=>{U(this,ya,t,"f"),U(this,ws,n,"f")})),U(this,Ss,new Promise((t,n)=>{U(this,_a,t,"f"),U(this,Es,n,"f")})),w(this,va,"f").catch(()=>{}),w(this,Ss,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},w(this,Gu,"m",Ev).bind(this))},0)}_connected(){this.ended||(w(this,ya,"f").call(this),this._emit("connect"))}get ended(){return w(this,ks,"f")}get errored(){return w(this,lo,"f")}get aborted(){return w(this,uo,"f")}abort(){this.controller.abort()}on(t,n){return(w(this,Vt,"f")[t]||(w(this,Vt,"f")[t]=[])).push({listener:n}),this}off(t,n){const r=w(this,Vt,"f")[t];if(!r)return this;const s=r.findIndex(i=>i.listener===n);return s>=0&&r.splice(s,1),this}once(t,n){return(w(this,Vt,"f")[t]||(w(this,Vt,"f")[t]=[])).push({listener:n,once:!0}),this}emitted(t){return new Promise((n,r)=>{U(this,vr,!0),t!=="error"&&this.once("error",r),this.once(t,n)})}async done(){U(this,vr,!0),await w(this,Ss,"f")}_emit(t,...n){if(w(this,ks,"f"))return;t==="end"&&(U(this,ks,!0),w(this,_a,"f").call(this));const r=w(this,Vt,"f")[t];if(r&&(w(this,Vt,"f")[t]=r.filter(s=>!s.once),r.forEach(({listener:s})=>s(...n))),t==="abort"){const s=n[0];!w(this,vr,"f")&&!(r!=null&&r.length)&&Promise.reject(s),w(this,ws,"f").call(this,s),w(this,Es,"f").call(this,s),this._emit("end");return}if(t==="error"){const s=n[0];!w(this,vr,"f")&&!(r!=null&&r.length)&&Promise.reject(s),w(this,ws,"f").call(this,s),w(this,Es,"f").call(this,s),this._emit("end")}}_emitFinal(){}}va=new WeakMap,ya=new WeakMap,ws=new WeakMap,Ss=new WeakMap,_a=new WeakMap,Es=new WeakMap,Vt=new WeakMap,ks=new WeakMap,lo=new WeakMap,uo=new WeakMap,vr=new WeakMap,Gu=new WeakSet,Ev=function(t){if(U(this,lo,!0),t instanceof Error&&t.name==="AbortError"&&(t=new ft),t instanceof ft)return U(this,uo,!0),this._emit("abort",t);if(t instanceof L)return this._emit("error",t);if(t instanceof Error){const n=new L(t.message);return n.cause=t,this._emit("error",n)}return this._emit("error",new L(String(t)))};function dk(e){return typeof e.parse=="function"}var De,Ku,co,Yu,Ju,qu,kv,bv;const hk=10;class xv extends ff{constructor(){super(...arguments),De.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){var r;this._chatCompletions.push(t),this._emit("chatCompletion",t);const n=(r=t.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),t}_addMessage(t,n=!0){if("content"in t||(t.content=null),this.messages.push(t),n){if(this._emit("message",t),Sv(t)&&t.content)this._emit("functionToolCallResult",t.content);else if(oo(t)&&t.tool_calls)for(const r of t.tool_calls)r.type==="function"&&this._emit("functionToolCall",r.function)}}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new L("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),w(this,De,"m",Ku).call(this)}async finalMessage(){return await this.done(),w(this,De,"m",co).call(this)}async finalFunctionToolCall(){return await this.done(),w(this,De,"m",Yu).call(this)}async finalFunctionToolCallResult(){return await this.done(),w(this,De,"m",Ju).call(this)}async totalUsage(){return await this.done(),w(this,De,"m",qu).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const n=w(this,De,"m",co).call(this);n&&this._emit("finalMessage",n);const r=w(this,De,"m",Ku).call(this);r&&this._emit("finalContent",r);const s=w(this,De,"m",Yu).call(this);s&&this._emit("finalFunctionToolCall",s);const i=w(this,De,"m",Ju).call(this);i!=null&&this._emit("finalFunctionToolCallResult",i),this._chatCompletions.some(a=>a.usage)&&this._emit("totalUsage",w(this,De,"m",qu).call(this))}async _createChatCompletion(t,n,r){const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),w(this,De,"m",kv).call(this,n);const i=await t.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(cf(i,n))}async _runChatCompletion(t,n,r){for(const s of n.messages)this._addMessage(s,!1);return await this._createChatCompletion(t,n,r)}async _runTools(t,n,r){var m,S,E;const s="tool",{tool_choice:i="auto",stream:a,...o}=n,l=typeof i!="string"&&i.type==="function"&&((m=i==null?void 0:i.function)==null?void 0:m.name),{maxChatCompletions:u=hk}=r||{},c=n.tools.map(O=>{if(Si(O)){if(!O.$callback)throw new L("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:O.$callback,name:O.function.name,description:O.function.description||"",parameters:O.function.parameters,parse:O.$parseRaw,strict:!0}}}return O}),d={};for(const O of c)O.type==="function"&&(d[O.function.name||O.function.function.name]=O.function);const h="tools"in n?c.map(O=>O.type==="function"?{type:"function",function:{name:O.function.name||O.function.function.name,parameters:O.function.parameters,description:O.function.description,strict:O.function.strict}}:O):void 0;for(const O of n.messages)this._addMessage(O,!1);for(let O=0;O<u;++O){const f=(S=(await this._createChatCompletion(t,{...o,tool_choice:i,tools:h,messages:[...this.messages]},r)).choices[0])==null?void 0:S.message;if(!f)throw new L("missing message in ChatCompletion response");if(!((E=f.tool_calls)!=null&&E.length))return;for(const p of f.tool_calls){if(p.type!=="function")continue;const y=p.id,{name:b,arguments:x}=p.function,k=d[b];if(k){if(l&&l!==b){const V=`Invalid tool_call: ${JSON.stringify(b)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:s,tool_call_id:y,content:V});continue}}else{const V=`Invalid tool_call: ${JSON.stringify(b)}. Available options are: ${Object.keys(d).map(Le=>JSON.stringify(Le)).join(", ")}. Please try again`;this._addMessage({role:s,tool_call_id:y,content:V});continue}let P;try{P=dk(k)?await k.parse(x):x}catch(V){const Le=V instanceof Error?V.message:String(V);this._addMessage({role:s,tool_call_id:y,content:Le});continue}const B=await k.function(P,this),I=w(this,De,"m",bv).call(this,B);if(this._addMessage({role:s,tool_call_id:y,content:I}),l)return}}}}De=new WeakSet,Ku=function(){return w(this,De,"m",co).call(this).content??null},co=function(){let t=this.messages.length;for(;t-- >0;){const n=this.messages[t];if(oo(n))return{...n,content:n.content??null,refusal:n.refusal??null}}throw new L("stream ended without producing a ChatCompletionMessage with role=assistant")},Yu=function(){var t,n;for(let r=this.messages.length-1;r>=0;r--){const s=this.messages[r];if(oo(s)&&((t=s==null?void 0:s.tool_calls)!=null&&t.length))return(n=s.tool_calls.filter(i=>i.type==="function").at(-1))==null?void 0:n.function}},Ju=function(){for(let t=this.messages.length-1;t>=0;t--){const n=this.messages[t];if(Sv(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var s;return r.role==="assistant"&&((s=r.tool_calls)==null?void 0:s.some(i=>i.type==="function"&&i.id===n.tool_call_id))}))return n.content}},qu=function(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(t.completion_tokens+=n.completion_tokens,t.prompt_tokens+=n.prompt_tokens,t.total_tokens+=n.total_tokens);return t},kv=function(t){if(t.n!=null&&t.n>1)throw new L("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},bv=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};class df extends xv{static runTools(t,n,r){const s=new df,i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(t,n,i)),s}_addMessage(t,n=!0){super._addMessage(t,n),oo(t)&&t.content&&this._emit("content",t.content)}}const Cv=1,Av=2,Ov=4,Rv=8,Tv=16,Pv=32,Dv=64,Iv=128,Nv=256,jv=Iv|Nv,Mv=Tv|Pv|jv|Dv,Lv=Cv|Av|Mv,Fv=Ov|Rv,pk=Lv|Fv,ve={STR:Cv,NUM:Av,ARR:Ov,OBJ:Rv,NULL:Tv,BOOL:Pv,NAN:Dv,INFINITY:Iv,MINUS_INFINITY:Nv,INF:jv,SPECIAL:Mv,ATOM:Lv,COLLECTION:Fv,ALL:pk};class mk extends Error{}class gk extends Error{}function vk(e,t=ve.ALL){if(typeof e!="string")throw new TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw new Error(`${e} is empty`);return yk(e.trim(),t)}const yk=(e,t)=>{const n=e.length;let r=0;const s=h=>{throw new mk(`${h} at position ${r}`)},i=h=>{throw new gk(`${h} at position ${r}`)},a=()=>(d(),r>=n&&s("Unexpected end of input"),e[r]==='"'?o():e[r]==="{"?l():e[r]==="["?u():e.substring(r,r+4)==="null"||ve.NULL&t&&n-r<4&&"null".startsWith(e.substring(r))?(r+=4,null):e.substring(r,r+4)==="true"||ve.BOOL&t&&n-r<4&&"true".startsWith(e.substring(r))?(r+=4,!0):e.substring(r,r+5)==="false"||ve.BOOL&t&&n-r<5&&"false".startsWith(e.substring(r))?(r+=5,!1):e.substring(r,r+8)==="Infinity"||ve.INFINITY&t&&n-r<8&&"Infinity".startsWith(e.substring(r))?(r+=8,1/0):e.substring(r,r+9)==="-Infinity"||ve.MINUS_INFINITY&t&&1<n-r&&n-r<9&&"-Infinity".startsWith(e.substring(r))?(r+=9,-1/0):e.substring(r,r+3)==="NaN"||ve.NAN&t&&n-r<3&&"NaN".startsWith(e.substring(r))?(r+=3,NaN):c()),o=()=>{const h=r;let m=!1;for(r++;r<n&&(e[r]!=='"'||m&&e[r-1]==="\\");)m=e[r]==="\\"?!m:!1,r++;if(e.charAt(r)=='"')try{return JSON.parse(e.substring(h,++r-Number(m)))}catch(S){i(String(S))}else if(ve.STR&t)try{return JSON.parse(e.substring(h,r-Number(m))+'"')}catch{return JSON.parse(e.substring(h,e.lastIndexOf("\\"))+'"')}s("Unterminated string literal")},l=()=>{r++,d();const h={};try{for(;e[r]!=="}";){if(d(),r>=n&&ve.OBJ&t)return h;const m=o();d(),r++;try{const S=a();Object.defineProperty(h,m,{value:S,writable:!0,enumerable:!0,configurable:!0})}catch(S){if(ve.OBJ&t)return h;throw S}d(),e[r]===","&&r++}}catch{if(ve.OBJ&t)return h;s("Expected '}' at end of object")}return r++,h},u=()=>{r++;const h=[];try{for(;e[r]!=="]";)h.push(a()),d(),e[r]===","&&r++}catch{if(ve.ARR&t)return h;s("Expected ']' at end of array")}return r++,h},c=()=>{if(r===0){e==="-"&&ve.NUM&t&&s("Not sure what '-' is");try{return JSON.parse(e)}catch(m){if(ve.NUM&t)try{return e[e.length-1]==="."?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch{}i(String(m))}}const h=r;for(e[r]==="-"&&r++;e[r]&&!",]}".includes(e[r]);)r++;r==n&&!(ve.NUM&t)&&s("Unterminated number literal");try{return JSON.parse(e.substring(h,r))}catch{e.substring(h,r)==="-"&&ve.NUM&t&&s("Not sure what '-' is");try{return JSON.parse(e.substring(h,e.lastIndexOf("e")))}catch(S){i(String(S))}}},d=()=>{for(;r<n&&` 
\r	`.includes(e[r]);)r++};return a()},_h=e=>vk(e,ve.ALL^ve.NUM);var he,zt,hr,un,Rl,Yi,Tl,Pl,Dl,Ji,Il,wh;class li extends xv{constructor(t){super(),he.add(this),zt.set(this,void 0),hr.set(this,void 0),un.set(this,void 0),U(this,zt,t),U(this,hr,[])}get currentChatCompletionSnapshot(){return w(this,un,"f")}static fromReadableStream(t){const n=new li(null);return n._run(()=>n._fromReadableStream(t)),n}static createChatCompletion(t,n,r){const s=new li(n);return s._run(()=>s._runChatCompletion(t,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createChatCompletion(t,n,r){var a;super._createChatCompletion;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),w(this,he,"m",Rl).call(this);const i=await t.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const o of i)w(this,he,"m",Tl).call(this,o);if((a=i.controller.signal)!=null&&a.aborted)throw new ft;return this._addChatCompletion(w(this,he,"m",Ji).call(this))}async _fromReadableStream(t,n){var a;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),w(this,he,"m",Rl).call(this),this._connected();const s=jt.fromReadableStream(t,this.controller);let i;for await(const o of s)i&&i!==o.id&&this._addChatCompletion(w(this,he,"m",Ji).call(this)),w(this,he,"m",Tl).call(this,o),i=o.id;if((a=s.controller.signal)!=null&&a.aborted)throw new ft;return this._addChatCompletion(w(this,he,"m",Ji).call(this))}[(zt=new WeakMap,hr=new WeakMap,un=new WeakMap,he=new WeakSet,Rl=function(){this.ended||U(this,un,void 0)},Yi=function(n){let r=w(this,hr,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},w(this,hr,"f")[n.index]=r,r)},Tl=function(n){var s,i,a,o,l,u,c,d,h,m,S,E,O,g,f;if(this.ended)return;const r=w(this,he,"m",wh).call(this,n);this._emit("chunk",n,r);for(const p of n.choices){const y=r.choices[p.index];p.delta.content!=null&&((s=y.message)==null?void 0:s.role)==="assistant"&&((i=y.message)!=null&&i.content)&&(this._emit("content",p.delta.content,y.message.content),this._emit("content.delta",{delta:p.delta.content,snapshot:y.message.content,parsed:y.message.parsed})),p.delta.refusal!=null&&((a=y.message)==null?void 0:a.role)==="assistant"&&((o=y.message)!=null&&o.refusal)&&this._emit("refusal.delta",{delta:p.delta.refusal,snapshot:y.message.refusal}),((l=p.logprobs)==null?void 0:l.content)!=null&&((u=y.message)==null?void 0:u.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(c=p.logprobs)==null?void 0:c.content,snapshot:((d=y.logprobs)==null?void 0:d.content)??[]}),((h=p.logprobs)==null?void 0:h.refusal)!=null&&((m=y.message)==null?void 0:m.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(S=p.logprobs)==null?void 0:S.refusal,snapshot:((E=y.logprobs)==null?void 0:E.refusal)??[]});const b=w(this,he,"m",Yi).call(this,y);y.finish_reason&&(w(this,he,"m",Dl).call(this,y),b.current_tool_call_index!=null&&w(this,he,"m",Pl).call(this,y,b.current_tool_call_index));for(const x of p.delta.tool_calls??[])b.current_tool_call_index!==x.index&&(w(this,he,"m",Dl).call(this,y),b.current_tool_call_index!=null&&w(this,he,"m",Pl).call(this,y,b.current_tool_call_index)),b.current_tool_call_index=x.index;for(const x of p.delta.tool_calls??[]){const k=(O=y.message.tool_calls)==null?void 0:O[x.index];k!=null&&k.type&&((k==null?void 0:k.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(g=k.function)==null?void 0:g.name,index:x.index,arguments:k.function.arguments,parsed_arguments:k.function.parsed_arguments,arguments_delta:((f=x.function)==null?void 0:f.arguments)??""}):(k==null||k.type,void 0))}}},Pl=function(n,r){var a,o,l;if(w(this,he,"m",Yi).call(this,n).done_tool_calls.has(r))return;const i=(a=n.message.tool_calls)==null?void 0:a[r];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){const u=(l=(o=w(this,zt,"f"))==null?void 0:o.tools)==null?void 0:l.find(c=>ao(c)&&c.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:r,arguments:i.function.arguments,parsed_arguments:Si(u)?u.$parseRaw(i.function.arguments):u!=null&&u.function.strict?JSON.parse(i.function.arguments):null})}else i.type},Dl=function(n){var s,i;const r=w(this,he,"m",Yi).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const a=w(this,he,"m",Il).call(this);this._emit("content.done",{content:n.message.content,parsed:a?a.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(s=n.logprobs)!=null&&s.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(i=n.logprobs)!=null&&i.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},Ji=function(){if(this.ended)throw new L("stream has ended, this shouldn't happen");const n=w(this,un,"f");if(!n)throw new L("request ended without sending any chunks");return U(this,un,void 0),U(this,hr,[]),_k(n,w(this,zt,"f"))},Il=function(){var r;const n=(r=w(this,zt,"f"))==null?void 0:r.response_format;return uf(n)?n:null},wh=function(n){var r,s,i,a;let o=w(this,un,"f");const{choices:l,...u}=n;o?Object.assign(o,u):o=U(this,un,{...u,choices:[]});for(const{delta:c,finish_reason:d,index:h,logprobs:m=null,...S}of n.choices){let E=o.choices[h];if(E||(E=o.choices[h]={finish_reason:d,index:h,message:{},logprobs:m,...S}),m)if(!E.logprobs)E.logprobs=Object.assign({},m);else{const{content:x,refusal:k,...P}=m;Object.assign(E.logprobs,P),x&&((r=E.logprobs).content??(r.content=[]),E.logprobs.content.push(...x)),k&&((s=E.logprobs).refusal??(s.refusal=[]),E.logprobs.refusal.push(...k))}if(d&&(E.finish_reason=d,w(this,zt,"f")&&_v(w(this,zt,"f")))){if(d==="length")throw new tv;if(d==="content_filter")throw new nv}if(Object.assign(E,S),!c)continue;const{content:O,refusal:g,function_call:f,role:p,tool_calls:y,...b}=c;if(Object.assign(E.message,b),g&&(E.message.refusal=(E.message.refusal||"")+g),p&&(E.message.role=p),f&&(E.message.function_call?(f.name&&(E.message.function_call.name=f.name),f.arguments&&((i=E.message.function_call).arguments??(i.arguments=""),E.message.function_call.arguments+=f.arguments)):E.message.function_call=f),O&&(E.message.content=(E.message.content||"")+O,!E.message.refusal&&w(this,he,"m",Il).call(this)&&(E.message.parsed=_h(E.message.content))),y){E.message.tool_calls||(E.message.tool_calls=[]);for(const{index:x,id:k,type:P,function:B,...I}of y){const V=(a=E.message.tool_calls)[x]??(a[x]={});Object.assign(V,I),k&&(V.id=k),P&&(V.type=P),B&&(V.function??(V.function={name:B.name??"",arguments:""})),B!=null&&B.name&&(V.function.name=B.name),B!=null&&B.arguments&&(V.function.arguments+=B.arguments,ck(w(this,zt,"f"),V)&&(V.function.parsed_arguments=_h(V.function.arguments)))}}}return o},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("chunk",s=>{const i=n.shift();i?i.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,a)=>n.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new jt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function _k(e,t){const{id:n,choices:r,created:s,model:i,system_fingerprint:a,...o}=e,l={...o,id:n,choices:r.map(({message:u,finish_reason:c,index:d,logprobs:h,...m})=>{if(!c)throw new L(`missing finish_reason for choice ${d}`);const{content:S=null,function_call:E,tool_calls:O,...g}=u,f=u.role;if(!f)throw new L(`missing role for choice ${d}`);if(E){const{arguments:p,name:y}=E;if(p==null)throw new L(`missing function_call.arguments for choice ${d}`);if(!y)throw new L(`missing function_call.name for choice ${d}`);return{...m,message:{content:S,function_call:{arguments:p,name:y},role:f,refusal:u.refusal??null},finish_reason:c,index:d,logprobs:h}}return O?{...m,index:d,finish_reason:c,logprobs:h,message:{...g,role:f,content:S,refusal:u.refusal??null,tool_calls:O.map((p,y)=>{const{function:b,type:x,id:k,...P}=p,{arguments:B,name:I,...V}=b||{};if(k==null)throw new L(`missing choices[${d}].tool_calls[${y}].id
${qi(e)}`);if(x==null)throw new L(`missing choices[${d}].tool_calls[${y}].type
${qi(e)}`);if(I==null)throw new L(`missing choices[${d}].tool_calls[${y}].function.name
${qi(e)}`);if(B==null)throw new L(`missing choices[${d}].tool_calls[${y}].function.arguments
${qi(e)}`);return{...P,id:k,type:x,function:{...V,name:I,arguments:B}}})}}:{...m,message:{...g,content:S,role:f,refusal:u.refusal??null},finish_reason:c,index:d,logprobs:h}}),created:s,model:i,object:"chat.completion",...a?{system_fingerprint:a}:{}};return ok(l,t)}function qi(e){return JSON.stringify(e)}class fo extends li{static fromReadableStream(t){const n=new fo(null);return n._run(()=>n._fromReadableStream(t)),n}static runTools(t,n,r){const s=new fo(n),i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(t,n,i)),s}}let hf=class extends ${constructor(){super(...arguments),this.messages=new yv(this._client)}create(t,n){return this._client.post("/chat/completions",{body:t,...n,stream:t.stream??!1})}retrieve(t,n){return this._client.get(R`/chat/completions/${t}`,n)}update(t,n,r){return this._client.post(R`/chat/completions/${t}`,{body:n,...r})}list(t={},n){return this._client.getAPIList("/chat/completions",de,{query:t,...n})}delete(t,n){return this._client.delete(R`/chat/completions/${t}`,n)}parse(t,n){return fk(t.tools),this._client.chat.completions.create(t,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(r=>cf(r,t))}runTools(t,n){return t.stream?fo.runTools(this._client,t,n):df.runTools(this._client,t,n)}stream(t,n){return li.createChatCompletion(this._client,t,n)}};hf.Messages=yv;class pf extends ${constructor(){super(...arguments),this.completions=new hf(this._client)}}pf.Completions=hf;const $v=Symbol("brand.privateNullableHeaders");function*wk(e){if(!e)return;if($v in e){const{values:r,nulls:s}=e;yield*r.entries();for(const i of s)yield[i,null];return}let t=!1,n;e instanceof Headers?n=e.entries():ih(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let r of n){const s=r[0];if(typeof s!="string")throw new TypeError("expected header name to be a string");const i=ih(r[1])?r[1]:[r[1]];let a=!1;for(const o of i)o!==void 0&&(t&&!a&&(a=!0,yield[s,null]),yield[s,o])}}const M=e=>{const t=new Headers,n=new Set;for(const r of e){const s=new Set;for(const[i,a]of wk(r)){const o=i.toLowerCase();s.has(o)||(t.delete(i),s.add(o)),a===null?(t.delete(i),n.add(o)):(t.append(i,a),n.delete(o))}}return{[$v]:!0,values:t,nulls:n}};class Bv extends ${create(t,n){return this._client.post("/audio/speech",{body:t,...n,headers:M([{Accept:"application/octet-stream"},n==null?void 0:n.headers]),__binaryResponse:!0})}}class Uv extends ${create(t,n){return this._client.post("/audio/transcriptions",nr({body:t,...n,stream:t.stream??!1,__metadata:{model:t.model}},this._client))}}class zv extends ${create(t,n){return this._client.post("/audio/translations",nr({body:t,...n,__metadata:{model:t.model}},this._client))}}class Ei extends ${constructor(){super(...arguments),this.transcriptions=new Uv(this._client),this.translations=new zv(this._client),this.speech=new Bv(this._client)}}Ei.Transcriptions=Uv;Ei.Translations=zv;Ei.Speech=Bv;class Vv extends ${create(t,n){return this._client.post("/batches",{body:t,...n})}retrieve(t,n){return this._client.get(R`/batches/${t}`,n)}list(t={},n){return this._client.getAPIList("/batches",de,{query:t,...n})}cancel(t,n){return this._client.post(R`/batches/${t}/cancel`,n)}}class Wv extends ${create(t,n){return this._client.post("/assistants",{body:t,...n,headers:M([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(t,n){return this._client.get(R`/assistants/${t}`,{...n,headers:M([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(t,n,r){return this._client.post(R`/assistants/${t}`,{body:n,...r,headers:M([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t={},n){return this._client.getAPIList("/assistants",de,{query:t,...n,headers:M([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}delete(t,n){return this._client.delete(R`/assistants/${t}`,{...n,headers:M([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}class Hv extends ${create(t,n){return this._client.post("/realtime/sessions",{body:t,...n,headers:M([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}class Gv extends ${create(t,n){return this._client.post("/realtime/transcription_sessions",{body:t,...n,headers:M([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}let Vo=class extends ${constructor(){super(...arguments),this.sessions=new Hv(this._client),this.transcriptionSessions=new Gv(this._client)}};Vo.Sessions=Hv;Vo.TranscriptionSessions=Gv;class Kv extends ${create(t,n,r){return this._client.post(R`/threads/${t}/messages`,{body:n,...r,headers:M([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(t,n,r){const{thread_id:s}=n;return this._client.get(R`/threads/${s}/messages/${t}`,{...r,headers:M([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(t,n,r){const{thread_id:s,...i}=n;return this._client.post(R`/threads/${s}/messages/${t}`,{body:i,...r,headers:M([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t,n={},r){return this._client.getAPIList(R`/threads/${t}/messages`,de,{query:n,...r,headers:M([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(t,n,r){const{thread_id:s}=n;return this._client.delete(R`/threads/${s}/messages/${t}`,{...r,headers:M([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}class Yv extends ${retrieve(t,n,r){const{thread_id:s,run_id:i,...a}=n;return this._client.get(R`/threads/${s}/runs/${i}/steps/${t}`,{query:a,...r,headers:M([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t,n,r){const{thread_id:s,...i}=n;return this._client.getAPIList(R`/threads/${s}/runs/${t}/steps`,de,{query:i,...r,headers:M([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}const Sk=e=>{if(typeof Buffer<"u"){const t=Buffer.from(e,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}else{const t=atob(e),n=t.length,r=new Uint8Array(n);for(let s=0;s<n;s++)r[s]=t.charCodeAt(s);return Array.from(new Float32Array(r.buffer))}};var Nl={};const pr=e=>{var t,n,r,s;if(typeof globalThis.process<"u")return((t=Nl==null?void 0:Nl[e])==null?void 0:t.trim())??void 0;if(typeof globalThis.Deno<"u")return(s=(r=(n=globalThis.Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,e))==null?void 0:s.trim()};var ke,zn,Qu,Pt,wa,vt,Vn,Nr,Fn,ho,Ge,Sa,Ea,$s,bs,xs,Sh,Eh,kh,bh,xh,Ch,Ah;class Bs extends ff{constructor(){super(...arguments),ke.add(this),Qu.set(this,[]),Pt.set(this,{}),wa.set(this,{}),vt.set(this,void 0),Vn.set(this,void 0),Nr.set(this,void 0),Fn.set(this,void 0),ho.set(this,void 0),Ge.set(this,void 0),Sa.set(this,void 0),Ea.set(this,void 0),$s.set(this,void 0)}[(Qu=new WeakMap,Pt=new WeakMap,wa=new WeakMap,vt=new WeakMap,Vn=new WeakMap,Nr=new WeakMap,Fn=new WeakMap,ho=new WeakMap,Ge=new WeakMap,Sa=new WeakMap,Ea=new WeakMap,$s=new WeakMap,ke=new WeakSet,Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("event",s=>{const i=n.shift();i?i.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,a)=>n.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){const n=new zn;return n._run(()=>n._fromReadableStream(t)),n}async _fromReadableStream(t,n){var i;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const s=jt.fromReadableStream(t,this.controller);for await(const a of s)w(this,ke,"m",bs).call(this,a);if((i=s.controller.signal)!=null&&i.aborted)throw new ft;return this._addRun(w(this,ke,"m",xs).call(this))}toReadableStream(){return new jt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,n,r,s){const i=new zn;return i._run(()=>i._runToolAssistantStream(t,n,r,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createToolAssistantStream(t,n,r,s){var l;const i=s==null?void 0:s.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const a={...r,stream:!0},o=await t.submitToolOutputs(n,a,{...s,signal:this.controller.signal});this._connected();for await(const u of o)w(this,ke,"m",bs).call(this,u);if((l=o.controller.signal)!=null&&l.aborted)throw new ft;return this._addRun(w(this,ke,"m",xs).call(this))}static createThreadAssistantStream(t,n,r){const s=new zn;return s._run(()=>s._threadAssistantStream(t,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}static createAssistantStream(t,n,r,s){const i=new zn;return i._run(()=>i._runAssistantStream(t,n,r,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return w(this,Sa,"f")}currentRun(){return w(this,Ea,"f")}currentMessageSnapshot(){return w(this,vt,"f")}currentRunStepSnapshot(){return w(this,$s,"f")}async finalRunSteps(){return await this.done(),Object.values(w(this,Pt,"f"))}async finalMessages(){return await this.done(),Object.values(w(this,wa,"f"))}async finalRun(){if(await this.done(),!w(this,Vn,"f"))throw Error("Final run was not received.");return w(this,Vn,"f")}async _createThreadAssistantStream(t,n,r){var o;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const i={...n,stream:!0},a=await t.createAndRun(i,{...r,signal:this.controller.signal});this._connected();for await(const l of a)w(this,ke,"m",bs).call(this,l);if((o=a.controller.signal)!=null&&o.aborted)throw new ft;return this._addRun(w(this,ke,"m",xs).call(this))}async _createAssistantStream(t,n,r,s){var l;const i=s==null?void 0:s.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const a={...r,stream:!0},o=await t.create(n,a,{...s,signal:this.controller.signal});this._connected();for await(const u of o)w(this,ke,"m",bs).call(this,u);if((l=o.controller.signal)!=null&&l.aborted)throw new ft;return this._addRun(w(this,ke,"m",xs).call(this))}static accumulateDelta(t,n){for(const[r,s]of Object.entries(n)){if(!t.hasOwnProperty(r)){t[r]=s;continue}let i=t[r];if(i==null){t[r]=s;continue}if(r==="index"||r==="type"){t[r]=s;continue}if(typeof i=="string"&&typeof s=="string")i+=s;else if(typeof i=="number"&&typeof s=="number")i+=s;else if(Cl(i)&&Cl(s))i=this.accumulateDelta(i,s);else if(Array.isArray(i)&&Array.isArray(s)){if(i.every(a=>typeof a=="string"||typeof a=="number")){i.push(...s);continue}for(const a of s){if(!Cl(a))throw new Error(`Expected array delta entry to be an object but got: ${a}`);const o=a.index;if(o==null)throw console.error(a),new Error("Expected array delta entry to have an `index` property");if(typeof o!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${o}`);const l=i[o];l==null?i.push(a):i[o]=this.accumulateDelta(l,a)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${s}, accValue: ${i}`);t[r]=i}return t}_addRun(t){return t}async _threadAssistantStream(t,n,r){return await this._createThreadAssistantStream(n,t,r)}async _runAssistantStream(t,n,r,s){return await this._createAssistantStream(n,t,r,s)}async _runToolAssistantStream(t,n,r,s){return await this._createToolAssistantStream(n,t,r,s)}}zn=Bs,bs=function(t){if(!this.ended)switch(U(this,Sa,t),w(this,ke,"m",kh).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":w(this,ke,"m",Ah).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":w(this,ke,"m",Eh).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":w(this,ke,"m",Sh).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},xs=function(){if(this.ended)throw new L("stream has ended, this shouldn't happen");if(!w(this,Vn,"f"))throw Error("Final run has not been received");return w(this,Vn,"f")},Sh=function(t){const[n,r]=w(this,ke,"m",xh).call(this,t,w(this,vt,"f"));U(this,vt,n),w(this,wa,"f")[n.id]=n;for(const s of r){const i=n.content[s.index];(i==null?void 0:i.type)=="text"&&this._emit("textCreated",i.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,n),t.data.delta.content)for(const s of t.data.delta.content){if(s.type=="text"&&s.text){let i=s.text,a=n.content[s.index];if(a&&a.type=="text")this._emit("textDelta",i,a.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(s.index!=w(this,Nr,"f")){if(w(this,Fn,"f"))switch(w(this,Fn,"f").type){case"text":this._emit("textDone",w(this,Fn,"f").text,w(this,vt,"f"));break;case"image_file":this._emit("imageFileDone",w(this,Fn,"f").image_file,w(this,vt,"f"));break}U(this,Nr,s.index)}U(this,Fn,n.content[s.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(w(this,Nr,"f")!==void 0){const s=t.data.content[w(this,Nr,"f")];if(s)switch(s.type){case"image_file":this._emit("imageFileDone",s.image_file,w(this,vt,"f"));break;case"text":this._emit("textDone",s.text,w(this,vt,"f"));break}}w(this,vt,"f")&&this._emit("messageDone",t.data),U(this,vt,void 0)}},Eh=function(t){const n=w(this,ke,"m",bh).call(this,t);switch(U(this,$s,n),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":const r=t.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const i of r.step_details.tool_calls)i.index==w(this,ho,"f")?this._emit("toolCallDelta",i,n.step_details.tool_calls[i.index]):(w(this,Ge,"f")&&this._emit("toolCallDone",w(this,Ge,"f")),U(this,ho,i.index),U(this,Ge,n.step_details.tool_calls[i.index]),w(this,Ge,"f")&&this._emit("toolCallCreated",w(this,Ge,"f")));this._emit("runStepDelta",t.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":U(this,$s,void 0),t.data.step_details.type=="tool_calls"&&w(this,Ge,"f")&&(this._emit("toolCallDone",w(this,Ge,"f")),U(this,Ge,void 0)),this._emit("runStepDone",t.data,n);break}},kh=function(t){w(this,Qu,"f").push(t),this._emit("event",t)},bh=function(t){switch(t.event){case"thread.run.step.created":return w(this,Pt,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let n=w(this,Pt,"f")[t.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=t.data;if(r.delta){const s=zn.accumulateDelta(n,r.delta);w(this,Pt,"f")[t.data.id]=s}return w(this,Pt,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":w(this,Pt,"f")[t.data.id]=t.data;break}if(w(this,Pt,"f")[t.data.id])return w(this,Pt,"f")[t.data.id];throw new Error("No snapshot available")},xh=function(t,n){let r=[];switch(t.event){case"thread.message.created":return[t.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let s=t.data;if(s.delta.content)for(const i of s.delta.content)if(i.index in n.content){let a=n.content[i.index];n.content[i.index]=w(this,ke,"m",Ch).call(this,i,a)}else n.content[i.index]=i,r.push(i);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},Ch=function(t,n){return zn.accumulateDelta(n,t)},Ah=function(t){switch(U(this,Ea,t.data),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":U(this,Vn,t.data),w(this,Ge,"f")&&(this._emit("toolCallDone",w(this,Ge,"f")),U(this,Ge,void 0));break}};let mf=class extends ${constructor(){super(...arguments),this.steps=new Yv(this._client)}create(t,n,r){const{include:s,...i}=n;return this._client.post(R`/threads/${t}/runs`,{query:{include:s},body:i,...r,headers:M([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers]),stream:n.stream??!1})}retrieve(t,n,r){const{thread_id:s}=n;return this._client.get(R`/threads/${s}/runs/${t}`,{...r,headers:M([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(t,n,r){const{thread_id:s,...i}=n;return this._client.post(R`/threads/${s}/runs/${t}`,{body:i,...r,headers:M([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t,n={},r){return this._client.getAPIList(R`/threads/${t}/runs`,de,{query:n,...r,headers:M([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}cancel(t,n,r){const{thread_id:s}=n;return this._client.post(R`/threads/${s}/runs/${t}/cancel`,{...r,headers:M([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(t,n,r){const s=await this.create(t,n,r);return await this.poll(s.id,{thread_id:t},r)}createAndStream(t,n,r){return Bs.createAssistantStream(t,this._client.beta.threads.runs,n,r)}async poll(t,n,r){var i;const s=M([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((i=r==null?void 0:r.pollIntervalMs)==null?void 0:i.toString())??void 0}]);for(;;){const{data:a,response:o}=await this.retrieve(t,n,{...r,headers:{...r==null?void 0:r.headers,...s}}).withResponse();switch(a.status){case"queued":case"in_progress":case"cancelling":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const u=o.headers.get("openai-poll-after-ms");if(u){const c=parseInt(u);isNaN(c)||(l=c)}}await wi(l);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return a}}}stream(t,n,r){return Bs.createAssistantStream(t,this._client.beta.threads.runs,n,r)}submitToolOutputs(t,n,r){const{thread_id:s,...i}=n;return this._client.post(R`/threads/${s}/runs/${t}/submit_tool_outputs`,{body:i,...r,headers:M([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers]),stream:n.stream??!1})}async submitToolOutputsAndPoll(t,n,r){const s=await this.submitToolOutputs(t,n,r);return await this.poll(s.id,n,r)}submitToolOutputsStream(t,n,r){return Bs.createToolAssistantStream(t,this._client.beta.threads.runs,n,r)}};mf.Steps=Yv;class Wo extends ${constructor(){super(...arguments),this.runs=new mf(this._client),this.messages=new Kv(this._client)}create(t={},n){return this._client.post("/threads",{body:t,...n,headers:M([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(t,n){return this._client.get(R`/threads/${t}`,{...n,headers:M([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(t,n,r){return this._client.post(R`/threads/${t}`,{body:n,...r,headers:M([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(t,n){return this._client.delete(R`/threads/${t}`,{...n,headers:M([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}createAndRun(t,n){return this._client.post("/threads/runs",{body:t,...n,headers:M([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers]),stream:t.stream??!1})}async createAndRunPoll(t,n){const r=await this.createAndRun(t,n);return await this.runs.poll(r.id,{thread_id:r.thread_id},n)}createAndRunStream(t,n){return Bs.createThreadAssistantStream(t,this._client.beta.threads,n)}}Wo.Runs=mf;Wo.Messages=Kv;class ki extends ${constructor(){super(...arguments),this.realtime=new Vo(this._client),this.assistants=new Wv(this._client),this.threads=new Wo(this._client)}}ki.Realtime=Vo;ki.Assistants=Wv;ki.Threads=Wo;class Jv extends ${create(t,n){return this._client.post("/completions",{body:t,...n,stream:t.stream??!1})}}class qv extends ${retrieve(t,n,r){const{container_id:s}=n;return this._client.get(R`/containers/${s}/files/${t}/content`,{...r,headers:M([{Accept:"application/binary"},r==null?void 0:r.headers]),__binaryResponse:!0})}}let gf=class extends ${constructor(){super(...arguments),this.content=new qv(this._client)}create(t,n,r){return this._client.post(R`/containers/${t}/files`,nr({body:n,...r},this._client))}retrieve(t,n,r){const{container_id:s}=n;return this._client.get(R`/containers/${s}/files/${t}`,r)}list(t,n={},r){return this._client.getAPIList(R`/containers/${t}/files`,de,{query:n,...r})}delete(t,n,r){const{container_id:s}=n;return this._client.delete(R`/containers/${s}/files/${t}`,{...r,headers:M([{Accept:"*/*"},r==null?void 0:r.headers])})}};gf.Content=qv;class vf extends ${constructor(){super(...arguments),this.files=new gf(this._client)}create(t,n){return this._client.post("/containers",{body:t,...n})}retrieve(t,n){return this._client.get(R`/containers/${t}`,n)}list(t={},n){return this._client.getAPIList("/containers",de,{query:t,...n})}delete(t,n){return this._client.delete(R`/containers/${t}`,{...n,headers:M([{Accept:"*/*"},n==null?void 0:n.headers])})}}vf.Files=gf;class Qv extends ${create(t,n,r){const{include:s,...i}=n;return this._client.post(R`/conversations/${t}/items`,{query:{include:s},body:i,...r})}retrieve(t,n,r){const{conversation_id:s,...i}=n;return this._client.get(R`/conversations/${s}/items/${t}`,{query:i,...r})}list(t,n={},r){return this._client.getAPIList(R`/conversations/${t}/items`,XE,{query:n,...r})}delete(t,n,r){const{conversation_id:s}=n;return this._client.delete(R`/conversations/${s}/items/${t}`,r)}}class yf extends ${constructor(){super(...arguments),this.items=new Qv(this._client)}create(t,n){return this._client.post("/conversations",{body:t,...n})}retrieve(t,n){return this._client.get(R`/conversations/${t}`,n)}update(t,n,r){return this._client.post(R`/conversations/${t}`,{body:n,...r})}delete(t,n){return this._client.delete(R`/conversations/${t}`,n)}}yf.Items=Qv;class Xv extends ${create(t,n){const r=!!t.encoding_format;let s=r?t.encoding_format:"base64";r&&Ee(this._client).debug("embeddings/user defined encoding_format:",t.encoding_format);const i=this._client.post("/embeddings",{body:{...t,encoding_format:s},...n});return r?i:(Ee(this._client).debug("embeddings/decoding base64 embeddings from base64"),i._thenUnwrap(a=>(a&&a.data&&a.data.forEach(o=>{const l=o.embedding;o.embedding=Sk(l)}),a)))}}class Zv extends ${retrieve(t,n,r){const{eval_id:s,run_id:i}=n;return this._client.get(R`/evals/${s}/runs/${i}/output_items/${t}`,r)}list(t,n,r){const{eval_id:s,...i}=n;return this._client.getAPIList(R`/evals/${s}/runs/${t}/output_items`,de,{query:i,...r})}}class _f extends ${constructor(){super(...arguments),this.outputItems=new Zv(this._client)}create(t,n,r){return this._client.post(R`/evals/${t}/runs`,{body:n,...r})}retrieve(t,n,r){const{eval_id:s}=n;return this._client.get(R`/evals/${s}/runs/${t}`,r)}list(t,n={},r){return this._client.getAPIList(R`/evals/${t}/runs`,de,{query:n,...r})}delete(t,n,r){const{eval_id:s}=n;return this._client.delete(R`/evals/${s}/runs/${t}`,r)}cancel(t,n,r){const{eval_id:s}=n;return this._client.post(R`/evals/${s}/runs/${t}`,r)}}_f.OutputItems=Zv;class wf extends ${constructor(){super(...arguments),this.runs=new _f(this._client)}create(t,n){return this._client.post("/evals",{body:t,...n})}retrieve(t,n){return this._client.get(R`/evals/${t}`,n)}update(t,n,r){return this._client.post(R`/evals/${t}`,{body:n,...r})}list(t={},n){return this._client.getAPIList("/evals",de,{query:t,...n})}delete(t,n){return this._client.delete(R`/evals/${t}`,n)}}wf.Runs=_f;let ey=class extends ${create(t,n){return this._client.post("/files",nr({body:t,...n},this._client))}retrieve(t,n){return this._client.get(R`/files/${t}`,n)}list(t={},n){return this._client.getAPIList("/files",de,{query:t,...n})}delete(t,n){return this._client.delete(R`/files/${t}`,n)}content(t,n){return this._client.get(R`/files/${t}/content`,{...n,headers:M([{Accept:"application/binary"},n==null?void 0:n.headers]),__binaryResponse:!0})}async waitForProcessing(t,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const s=new Set(["processed","error","deleted"]),i=Date.now();let a=await this.retrieve(t);for(;!a.status||!s.has(a.status);)if(await wi(n),a=await this.retrieve(t),Date.now()-i>r)throw new af({message:`Giving up on waiting for file ${t} to finish processing after ${r} milliseconds.`});return a}};class ty extends ${}let ny=class extends ${run(t,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:t,...n})}validate(t,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:t,...n})}};class Sf extends ${constructor(){super(...arguments),this.graders=new ny(this._client)}}Sf.Graders=ny;class ry extends ${create(t,n,r){return this._client.getAPIList(R`/fine_tuning/checkpoints/${t}/permissions`,zo,{body:n,method:"post",...r})}retrieve(t,n={},r){return this._client.get(R`/fine_tuning/checkpoints/${t}/permissions`,{query:n,...r})}delete(t,n,r){const{fine_tuned_model_checkpoint:s}=n;return this._client.delete(R`/fine_tuning/checkpoints/${s}/permissions/${t}`,r)}}let Ef=class extends ${constructor(){super(...arguments),this.permissions=new ry(this._client)}};Ef.Permissions=ry;class sy extends ${list(t,n={},r){return this._client.getAPIList(R`/fine_tuning/jobs/${t}/checkpoints`,de,{query:n,...r})}}class kf extends ${constructor(){super(...arguments),this.checkpoints=new sy(this._client)}create(t,n){return this._client.post("/fine_tuning/jobs",{body:t,...n})}retrieve(t,n){return this._client.get(R`/fine_tuning/jobs/${t}`,n)}list(t={},n){return this._client.getAPIList("/fine_tuning/jobs",de,{query:t,...n})}cancel(t,n){return this._client.post(R`/fine_tuning/jobs/${t}/cancel`,n)}listEvents(t,n={},r){return this._client.getAPIList(R`/fine_tuning/jobs/${t}/events`,de,{query:n,...r})}pause(t,n){return this._client.post(R`/fine_tuning/jobs/${t}/pause`,n)}resume(t,n){return this._client.post(R`/fine_tuning/jobs/${t}/resume`,n)}}kf.Checkpoints=sy;class ns extends ${constructor(){super(...arguments),this.methods=new ty(this._client),this.jobs=new kf(this._client),this.checkpoints=new Ef(this._client),this.alpha=new Sf(this._client)}}ns.Methods=ty;ns.Jobs=kf;ns.Checkpoints=Ef;ns.Alpha=Sf;class iy extends ${}class bf extends ${constructor(){super(...arguments),this.graderModels=new iy(this._client)}}bf.GraderModels=iy;class ay extends ${createVariation(t,n){return this._client.post("/images/variations",nr({body:t,...n},this._client))}edit(t,n){return this._client.post("/images/edits",nr({body:t,...n,stream:t.stream??!1},this._client))}generate(t,n){return this._client.post("/images/generations",{body:t,...n,stream:t.stream??!1})}}class oy extends ${retrieve(t,n){return this._client.get(R`/models/${t}`,n)}list(t){return this._client.getAPIList("/models",zo,t)}delete(t,n){return this._client.delete(R`/models/${t}`,n)}}class ly extends ${create(t,n){return this._client.post("/moderations",{body:t,...n})}}class uy extends ${create(t,n){return this._client.post("/realtime/client_secrets",{body:t,...n})}}class xf extends ${constructor(){super(...arguments),this.clientSecrets=new uy(this._client)}}xf.ClientSecrets=uy;function Ek(e,t){return!t||!bk(t)?{...e,output_parsed:null,output:e.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(r=>({...r,parsed:null}))}:n)}:cy(e,t)}function cy(e,t){const n=e.output.map(s=>{if(s.type==="function_call")return{...s,parsed_arguments:Ak(t,s)};if(s.type==="message"){const i=s.content.map(a=>a.type==="output_text"?{...a,parsed:kk(t,a.text)}:a);return{...s,content:i}}return s}),r=Object.assign({},e,{output:n});return Object.getOwnPropertyDescriptor(e,"output_text")||Xu(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const s of r.output)if(s.type==="message"){for(const i of s.content)if(i.type==="output_text"&&i.parsed!==null)return i.parsed}return null}}),r}function kk(e,t){var n,r,s,i;return((r=(n=e.text)==null?void 0:n.format)==null?void 0:r.type)!=="json_schema"?null:"$parseRaw"in((s=e.text)==null?void 0:s.format)?((i=e.text)==null?void 0:i.format).$parseRaw(t):JSON.parse(t)}function bk(e){var t;return!!uf((t=e.text)==null?void 0:t.format)}function xk(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function Ck(e,t){return e.find(n=>n.type==="function"&&n.name===t)}function Ak(e,t){const n=Ck(e.tools??[],t.name);return{...t,...t,parsed_arguments:xk(n)?n.$parseRaw(t.arguments):n!=null&&n.strict?JSON.parse(t.arguments):null}}function Xu(e){const t=[];for(const n of e.output)if(n.type==="message")for(const r of n.content)r.type==="output_text"&&t.push(r.text);e.output_text=t.join("")}var mr,Qi,cn,Xi,Oh,Rh,Th,Ph;class Cf extends ff{constructor(t){super(),mr.add(this),Qi.set(this,void 0),cn.set(this,void 0),Xi.set(this,void 0),U(this,Qi,t)}static createResponse(t,n,r){const s=new Cf(n);return s._run(()=>s._createOrRetrieveResponse(t,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createOrRetrieveResponse(t,n,r){var o;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),w(this,mr,"m",Oh).call(this);let i,a=null;"response_id"in n?(i=await t.responses.retrieve(n.response_id,{stream:!0},{...r,signal:this.controller.signal,stream:!0}),a=n.starting_after??null):i=await t.responses.create({...n,stream:!0},{...r,signal:this.controller.signal}),this._connected();for await(const l of i)w(this,mr,"m",Rh).call(this,l,a);if((o=i.controller.signal)!=null&&o.aborted)throw new ft;return w(this,mr,"m",Th).call(this)}[(Qi=new WeakMap,cn=new WeakMap,Xi=new WeakMap,mr=new WeakSet,Oh=function(){this.ended||U(this,cn,void 0)},Rh=function(n,r){if(this.ended)return;const s=(a,o)=>{(r==null||o.sequence_number>r)&&this._emit(a,o)},i=w(this,mr,"m",Ph).call(this,n);switch(s("event",n),n.type){case"response.output_text.delta":{const a=i.output[n.output_index];if(!a)throw new L(`missing output at index ${n.output_index}`);if(a.type==="message"){const o=a.content[n.content_index];if(!o)throw new L(`missing content at index ${n.content_index}`);if(o.type!=="output_text")throw new L(`expected content to be 'output_text', got ${o.type}`);s("response.output_text.delta",{...n,snapshot:o.text})}break}case"response.function_call_arguments.delta":{const a=i.output[n.output_index];if(!a)throw new L(`missing output at index ${n.output_index}`);a.type==="function_call"&&s("response.function_call_arguments.delta",{...n,snapshot:a.arguments});break}default:s(n.type,n);break}},Th=function(){if(this.ended)throw new L("stream has ended, this shouldn't happen");const n=w(this,cn,"f");if(!n)throw new L("request ended without sending any events");U(this,cn,void 0);const r=Ok(n,w(this,Qi,"f"));return U(this,Xi,r),r},Ph=function(n){let r=w(this,cn,"f");if(!r){if(n.type!=="response.created")throw new L(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return r=U(this,cn,n.response),r}switch(n.type){case"response.output_item.added":{r.output.push(n.item);break}case"response.content_part.added":{const s=r.output[n.output_index];if(!s)throw new L(`missing output at index ${n.output_index}`);s.type==="message"&&s.content.push(n.part);break}case"response.output_text.delta":{const s=r.output[n.output_index];if(!s)throw new L(`missing output at index ${n.output_index}`);if(s.type==="message"){const i=s.content[n.content_index];if(!i)throw new L(`missing content at index ${n.content_index}`);if(i.type!=="output_text")throw new L(`expected content to be 'output_text', got ${i.type}`);i.text+=n.delta}break}case"response.function_call_arguments.delta":{const s=r.output[n.output_index];if(!s)throw new L(`missing output at index ${n.output_index}`);s.type==="function_call"&&(s.arguments+=n.delta);break}case"response.completed":{U(this,cn,n.response);break}}return r},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("event",s=>{const i=n.shift();i?i.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,a)=>n.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const t=w(this,Xi,"f");if(!t)throw new L("stream ended without producing a ChatCompletion");return t}}function Ok(e,t){return Ek(e,t)}class fy extends ${list(t,n={},r){return this._client.getAPIList(R`/responses/${t}/input_items`,de,{query:n,...r})}}class Af extends ${constructor(){super(...arguments),this.inputItems=new fy(this._client)}create(t,n){return this._client.post("/responses",{body:t,...n,stream:t.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&Xu(r),r))}retrieve(t,n={},r){return this._client.get(R`/responses/${t}`,{query:n,...r,stream:(n==null?void 0:n.stream)??!1})._thenUnwrap(s=>("object"in s&&s.object==="response"&&Xu(s),s))}delete(t,n){return this._client.delete(R`/responses/${t}`,{...n,headers:M([{Accept:"*/*"},n==null?void 0:n.headers])})}parse(t,n){return this._client.responses.create(t,n)._thenUnwrap(r=>cy(r,t))}stream(t,n){return Cf.createResponse(this._client,t,n)}cancel(t,n){return this._client.post(R`/responses/${t}/cancel`,n)}}Af.InputItems=fy;class dy extends ${create(t,n,r){return this._client.post(R`/uploads/${t}/parts`,nr({body:n,...r},this._client))}}class Of extends ${constructor(){super(...arguments),this.parts=new dy(this._client)}create(t,n){return this._client.post("/uploads",{body:t,...n})}cancel(t,n){return this._client.post(R`/uploads/${t}/cancel`,n)}complete(t,n,r){return this._client.post(R`/uploads/${t}/complete`,{body:n,...r})}}Of.Parts=dy;const Rk=async e=>{const t=await Promise.allSettled(e),n=t.filter(s=>s.status==="rejected");if(n.length){for(const s of n)console.error(s.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const s of t)s.status==="fulfilled"&&r.push(s.value);return r};class hy extends ${create(t,n,r){return this._client.post(R`/vector_stores/${t}/file_batches`,{body:n,...r,headers:M([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(t,n,r){const{vector_store_id:s}=n;return this._client.get(R`/vector_stores/${s}/file_batches/${t}`,{...r,headers:M([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}cancel(t,n,r){const{vector_store_id:s}=n;return this._client.post(R`/vector_stores/${s}/file_batches/${t}/cancel`,{...r,headers:M([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(t,n,r){const s=await this.create(t,n);return await this.poll(t,s.id,r)}listFiles(t,n,r){const{vector_store_id:s,...i}=n;return this._client.getAPIList(R`/vector_stores/${s}/file_batches/${t}/files`,de,{query:i,...r,headers:M([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async poll(t,n,r){var i;const s=M([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((i=r==null?void 0:r.pollIntervalMs)==null?void 0:i.toString())??void 0}]);for(;;){const{data:a,response:o}=await this.retrieve(n,{vector_store_id:t},{...r,headers:s}).withResponse();switch(a.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const u=o.headers.get("openai-poll-after-ms");if(u){const c=parseInt(u);isNaN(c)||(l=c)}}await wi(l);break;case"failed":case"cancelled":case"completed":return a}}}async uploadAndPoll(t,{files:n,fileIds:r=[]},s){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=(s==null?void 0:s.maxConcurrency)??5,a=Math.min(i,n.length),o=this._client,l=n.values(),u=[...r];async function c(h){for(let m of h){const S=await o.files.create({file:m,purpose:"assistants"},s);u.push(S.id)}}const d=Array(a).fill(l).map(c);return await Rk(d),await this.createAndPoll(t,{file_ids:u})}}class py extends ${create(t,n,r){return this._client.post(R`/vector_stores/${t}/files`,{body:n,...r,headers:M([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(t,n,r){const{vector_store_id:s}=n;return this._client.get(R`/vector_stores/${s}/files/${t}`,{...r,headers:M([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(t,n,r){const{vector_store_id:s,...i}=n;return this._client.post(R`/vector_stores/${s}/files/${t}`,{body:i,...r,headers:M([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t,n={},r){return this._client.getAPIList(R`/vector_stores/${t}/files`,de,{query:n,...r,headers:M([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(t,n,r){const{vector_store_id:s}=n;return this._client.delete(R`/vector_stores/${s}/files/${t}`,{...r,headers:M([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(t,n,r){const s=await this.create(t,n,r);return await this.poll(t,s.id,r)}async poll(t,n,r){var i;const s=M([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((i=r==null?void 0:r.pollIntervalMs)==null?void 0:i.toString())??void 0}]);for(;;){const a=await this.retrieve(n,{vector_store_id:t},{...r,headers:s}).withResponse(),o=a.data;switch(o.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const u=a.response.headers.get("openai-poll-after-ms");if(u){const c=parseInt(u);isNaN(c)||(l=c)}}await wi(l);break;case"failed":case"completed":return o}}}async upload(t,n,r){const s=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(t,{file_id:s.id},r)}async uploadAndPoll(t,n,r){const s=await this.upload(t,n,r);return await this.poll(t,s.id,r)}content(t,n,r){const{vector_store_id:s}=n;return this._client.getAPIList(R`/vector_stores/${s}/files/${t}/content`,zo,{...r,headers:M([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}class Ho extends ${constructor(){super(...arguments),this.files=new py(this._client),this.fileBatches=new hy(this._client)}create(t,n){return this._client.post("/vector_stores",{body:t,...n,headers:M([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(t,n){return this._client.get(R`/vector_stores/${t}`,{...n,headers:M([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(t,n,r){return this._client.post(R`/vector_stores/${t}`,{body:n,...r,headers:M([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t={},n){return this._client.getAPIList("/vector_stores",de,{query:t,...n,headers:M([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}delete(t,n){return this._client.delete(R`/vector_stores/${t}`,{...n,headers:M([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}search(t,n,r){return this._client.getAPIList(R`/vector_stores/${t}/search`,zo,{body:n,method:"post",...r,headers:M([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}Ho.Files=py;Ho.FileBatches=hy;var yr,my,ka;class gy extends ${constructor(){super(...arguments),yr.add(this)}async unwrap(t,n,r=this._client.webhookSecret,s=300){return await this.verifySignature(t,n,r,s),JSON.parse(t)}async verifySignature(t,n,r=this._client.webhookSecret,s=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");w(this,yr,"m",my).call(this,r);const i=M([n]).values,a=w(this,yr,"m",ka).call(this,i,"webhook-signature"),o=w(this,yr,"m",ka).call(this,i,"webhook-timestamp"),l=w(this,yr,"m",ka).call(this,i,"webhook-id"),u=parseInt(o,10);if(isNaN(u))throw new vs("Invalid webhook timestamp format");const c=Math.floor(Date.now()/1e3);if(c-u>s)throw new vs("Webhook timestamp is too old");if(u>c+s)throw new vs("Webhook timestamp is too new");const d=a.split(" ").map(E=>E.startsWith("v1,")?E.substring(3):E),h=r.startsWith("whsec_")?Buffer.from(r.replace("whsec_",""),"base64"):Buffer.from(r,"utf-8"),m=l?`${l}.${o}.${t}`:`${o}.${t}`,S=await crypto.subtle.importKey("raw",h,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const E of d)try{const O=Buffer.from(E,"base64");if(await crypto.subtle.verify("HMAC",S,O,new TextEncoder().encode(m)))return}catch{continue}throw new vs("The given webhook signature does not match the expected signature")}}yr=new WeakSet,my=function(t){if(typeof t!="string"||t.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},ka=function(t,n){if(!t)throw new Error("Headers are required");const r=t.get(n);if(r==null)throw new Error(`Missing required header: ${n}`);return r};var Zu,Rf,ba,vy;class W{constructor({baseURL:t=pr("OPENAI_BASE_URL"),apiKey:n=pr("OPENAI_API_KEY"),organization:r=pr("OPENAI_ORG_ID")??null,project:s=pr("OPENAI_PROJECT_ID")??null,webhookSecret:i=pr("OPENAI_WEBHOOK_SECRET")??null,...a}={}){if(Zu.add(this),ba.set(this,void 0),this.completions=new Jv(this),this.chat=new pf(this),this.embeddings=new Xv(this),this.files=new ey(this),this.images=new ay(this),this.audio=new Ei(this),this.moderations=new ly(this),this.models=new oy(this),this.fineTuning=new ns(this),this.graders=new bf(this),this.vectorStores=new Ho(this),this.webhooks=new gy(this),this.beta=new ki(this),this.batches=new Vv(this),this.uploads=new Of(this),this.responses=new Af(this),this.realtime=new xf(this),this.conversations=new yf(this),this.evals=new wf(this),this.containers=new vf(this),n===void 0)throw new L("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const o={apiKey:n,organization:r,project:s,webhookSecret:i,...a,baseURL:t||"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&RE())throw new L(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=o.baseURL,this.timeout=o.timeout??Rf.DEFAULT_TIMEOUT,this.logger=o.logger??console;const l="warn";this.logLevel=l,this.logLevel=mh(o.logLevel,"ClientOptions.logLevel",this)??mh(pr("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??l,this.fetchOptions=o.fetchOptions,this.maxRetries=o.maxRetries??2,this.fetch=o.fetch??NE(),U(this,ba,ME),this._options=o,this.apiKey=typeof n=="string"?n:"Missing Key",this.organization=r,this.project=s,this.webhookSecret=i}withOptions(t){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...t})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){}async authHeaders(t){return M([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(t){return zE(t,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${gr}`}defaultIdempotencyKey(){return`stainless-node-retry-${Gg()}`}makeStatusError(t,n,r,s){return Ae.generate(t,n,r,s)}async _callApiKey(){const t=this._options.apiKey;if(typeof t!="function")return!1;let n;try{n=await t()}catch(r){throw r instanceof L?r:new L(`Failed to get token from 'apiKey' function: ${r.message}`,{cause:r})}if(typeof n!="string"||!n)throw new L(`Expected 'apiKey' function argument to return a string but it returned ${n}`);return this.apiKey=n,!0}buildURL(t,n,r){const s=!w(this,Zu,"m",vy).call(this)&&r||this.baseURL,i=bE(t)?new URL(t):new URL(s+(s.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),a=this.defaultQuery();return xE(a)||(n={...a,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(i.search=this.stringifyQuery(n)),i.toString()}async prepareOptions(t){await this._callApiKey()}async prepareRequest(t,{url:n,options:r}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(s=>({method:t,path:n,...s})))}request(t,n=null){return new Uo(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,r){var g,f;const s=await t,i=s.maxRetries??this.maxRetries;n==null&&(n=i),await this.prepareOptions(s);const{req:a,url:o,timeout:l}=await this.buildRequest(s,{retryCount:i-n});await this.prepareRequest(a,{url:o,options:s});const u="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),c=r===void 0?"":`, retryOf: ${r}`,d=Date.now();if(Ee(this).debug(`[${u}] sending request`,Ln({retryOfRequestLogID:r,method:s.method,url:o,options:s,headers:a.headers})),(g=s.signal)!=null&&g.aborted)throw new ft;const h=new AbortController,m=await this.fetchWithTimeout(o,a,l,h).catch(zu),S=Date.now();if(m instanceof globalThis.Error){const p=`retrying, ${n} attempts remaining`;if((f=s.signal)!=null&&f.aborted)throw new ft;const y=Uu(m)||/timed? ?out/i.test(String(m)+("cause"in m?String(m.cause):""));if(n)return Ee(this).info(`[${u}] connection ${y?"timed out":"failed"} - ${p}`),Ee(this).debug(`[${u}] connection ${y?"timed out":"failed"} (${p})`,Ln({retryOfRequestLogID:r,url:o,durationMs:S-d,message:m.message})),this.retryRequest(s,n,r??u);throw Ee(this).info(`[${u}] connection ${y?"timed out":"failed"} - error; no more retries left`),Ee(this).debug(`[${u}] connection ${y?"timed out":"failed"} (error; no more retries left)`,Ln({retryOfRequestLogID:r,url:o,durationMs:S-d,message:m.message})),y?new af:new $o({cause:m})}const E=[...m.headers.entries()].filter(([p])=>p==="x-request-id").map(([p,y])=>", "+p+": "+JSON.stringify(y)).join(""),O=`[${u}${c}${E}] ${a.method} ${o} ${m.ok?"succeeded":"failed"} with status ${m.status} in ${S-d}ms`;if(!m.ok){const p=await this.shouldRetry(m);if(n&&p){const B=`retrying, ${n} attempts remaining`;return await jE(m.body),Ee(this).info(`${O} - ${B}`),Ee(this).debug(`[${u}] response error (${B})`,Ln({retryOfRequestLogID:r,url:m.url,status:m.status,headers:m.headers,durationMs:S-d})),this.retryRequest(s,n,r??u,m.headers)}const y=p?"error; no more retries left":"error; not retryable";Ee(this).info(`${O} - ${y}`);const b=await m.text().catch(B=>zu(B).message),x=OE(b),k=x?void 0:b;throw Ee(this).debug(`[${u}] response error (${y})`,Ln({retryOfRequestLogID:r,url:m.url,status:m.status,headers:m.headers,message:k,durationMs:Date.now()-d})),this.makeStatusError(m.status,x,k,m.headers)}return Ee(this).info(O),Ee(this).debug(`[${u}] response start`,Ln({retryOfRequestLogID:r,url:m.url,status:m.status,headers:m.headers,durationMs:S-d})),{response:m,options:s,controller:h,requestLogID:u,retryOfRequestLogID:r,startTime:d}}getAPIList(t,n,r){return this.requestAPIList(n,{method:"get",path:t,...r})}requestAPIList(t,n){const r=this.makeRequest(n,null,void 0);return new QE(this,r,t)}async fetchWithTimeout(t,n,r,s){const{signal:i,method:a,...o}=n||{};i&&i.addEventListener("abort",()=>s.abort());const l=setTimeout(()=>s.abort(),r),u=globalThis.ReadableStream&&o.body instanceof globalThis.ReadableStream||typeof o.body=="object"&&o.body!==null&&Symbol.asyncIterator in o.body,c={signal:s.signal,...u?{duplex:"half"}:{},method:"GET",...o};a&&(c.method=a.toUpperCase());try{return await this.fetch.call(void 0,t,c)}finally{clearTimeout(l)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r,s){let i;const a=s==null?void 0:s.get("retry-after-ms");if(a){const l=parseFloat(a);Number.isNaN(l)||(i=l)}const o=s==null?void 0:s.get("retry-after");if(o&&!i){const l=parseFloat(o);Number.isNaN(l)?i=Date.parse(o)-Date.now():i=l*1e3}if(!(i&&0<=i&&i<60*1e3)){const l=t.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(n,l)}return await wi(i),this.makeRequest(t,n-1,r)}calculateDefaultRetryTimeoutMillis(t,n){const i=n-t,a=Math.min(.5*Math.pow(2,i),8),o=1-Math.random()*.25;return a*o*1e3}async buildRequest(t,{retryCount:n=0}={}){const r={...t},{method:s,path:i,query:a,defaultBaseURL:o}=r,l=this.buildURL(i,a,o);"timeout"in r&&AE("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const{bodyHeaders:u,body:c}=this.buildBody({options:r}),d=await this.buildHeaders({options:t,method:s,bodyHeaders:u,retryCount:n});return{req:{method:s,headers:d,...r.signal&&{signal:r.signal},...globalThis.ReadableStream&&c instanceof globalThis.ReadableStream&&{duplex:"half"},...c&&{body:c},...this.fetchOptions??{},...r.fetchOptions??{}},url:l,timeout:r.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:r,retryCount:s}){let i={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=t.idempotencyKey);const a=M([i,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(s),...t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{},...IE(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(t),this._options.defaultHeaders,r,t.headers]);return this.validateHeaders(a),a.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const r=M([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&r.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:iv(t)}:w(this,ba,"f").call(this,{body:t,headers:r})}}Rf=W,ba=new WeakMap,Zu=new WeakSet,vy=function(){return this.baseURL!=="https://api.openai.com/v1"};W.OpenAI=Rf;W.DEFAULT_TIMEOUT=6e5;W.OpenAIError=L;W.APIError=Ae;W.APIConnectionError=$o;W.APIConnectionTimeoutError=af;W.APIUserAbortError=ft;W.NotFoundError=qg;W.ConflictError=Qg;W.RateLimitError=Zg;W.BadRequestError=Kg;W.AuthenticationError=Yg;W.InternalServerError=ev;W.PermissionDeniedError=Jg;W.UnprocessableEntityError=Xg;W.InvalidWebhookSignatureError=vs;W.toFile=sk;W.Completions=Jv;W.Chat=pf;W.Embeddings=Xv;W.Files=ey;W.Images=ay;W.Audio=Ei;W.Moderations=ly;W.Models=oy;W.FineTuning=ns;W.Graders=bf;W.VectorStores=Ho;W.Webhooks=gy;W.Beta=ki;W.Batches=Vv;W.Uploads=Of;W.Responses=Af;W.Realtime=xf;W.Conversations=yf;W.Evals=wf;W.Containers=vf;const Tk=e=>{if(e.length===0)return"None";const t=[];return e.forEach(n=>{n.keyEvents&&Array.isArray(n.keyEvents)&&n.keyEvents.forEach(r=>{t.push(`${r.title} (${r.shortDescription})`)}),n.minorEvents&&Array.isArray(n.minorEvents)&&n.minorEvents.forEach(r=>{t.push(`${r.title} (${r.shortDescription})`)}),t.push(`Events in ${n.city} (already covered by ${n.title})`)}),t.join(", ")},Pk=(e,t)=>{const n=Object.entries(e.userPreferences.interestTypes).filter(([c,d])=>d.isEnabled).map(([c,d])=>c).join(", "),r=e.userPreferences.musicProfile||"No music preferences specified",s=e.userPreferences.freeTextInterests||"No additional interests specified",i=Tk(t),a=new Date(e.dateRange.startDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),o=new Date(e.dateRange.endDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),l=`From ${a} to ${o}`,u=`User taste profile (provided by the user):
1. Interested in: ${n}
2. Music profile: ${r}
3. Free text: ${s}
4. Excluded events: ${i}
Date range:
${l}`;return console.log(" [USER_PROMPT] Generated user prompt:",u),u},Dk=()=>`You are a specialist in cultural travel curation. Your mission is to generate engaging and structured Trip Bundle suggestions focused on helping users experience multiple noteworthy events in a single 48 day European city trip. Users are not seeking generic itineraries (e.g., '5 days in Paris'), but rather trips built around their passionssuch as concerts, sports, art, design, culinary activities, or local culturewith several events that together create an extraordinary, memorable journey.


Begin with a concise checklist (37 bullets) of what you will do; keep items conceptual, not implementation-level.


## Input Requirements
Expect the user to provide:
1. 'Interested in': A list of the following possible themes: concerts, sports, art, design, culinary, local events)
2. Music taste profile: Free-text (drawn from Spotify data or self-description)
3. Free text: Optional extra context (e.g., style, vibe, constraints, mood)
4. Date range: The window for potential trip suggestions


## Core Task & Constraints
- Generate 3 Trip Bundles, each within one European city, lasting 48 days.
- Each bundle must feature at least 2 major anchor events of one of the following types: concerts, sports, art and design, culinary, or local culture. Events can be music concerts, soccer matches, festivals, exhibition openings, design weeks, etc. Anchor events must be annual, one-time, or specialnot standard attractions like 'guided museum tours.'
- Optionally, add up to 2 minor/local events (e.g., neighborhood fairs, pop-up shows, markets, small exhibits, local design events).
- Match all events to the user's listed interests and music profile.
- Focus on events that would typically occur within the user's specified date range. For future dates, suggest events based on annual patterns and typical scheduling.
- Do not include the same artist (musician, performer, or visual artist) in more than one Trip Bundle, regardless of event type.
- If creating hypothetical or typical annual events, ensure they align with the user's interests and the specified timeframe.
- Trip Bundles should maximize relevance and appeal, ordered according to user interests and music taste.
- For each event, anchor or minor, include a link to the official event website when possible.


## Output Format (Strict)
Respond solely with JSON containing actual trip data, not schema definitions. 

**IMPORTANT: Use ISO date strings (YYYY-MM-DD format) for all startDate and endDate fields, NOT timestamps.**

Use this exact format:

{
  "bundles": [
    {
      "imageUrl": "https://source.unsplash.com/800x600/?berlin-electronic-music",
      "title": "Berlin: Electronic Underground & Contemporary Art",
      "description": "Dive into Berlin's legendary electronic scene while exploring cutting-edge art galleries and design spaces.",
      "city": "Berlin, Germany",
      "dateRange": {
        "startDate": "2024-11-01",
        "endDate": "2024-11-07"
      },
      "keyEvents": [
        {
          "title": "Berlin Atonal Festival",
          "fullDescription": "A cutting-edge festival showcasing experimental electronic music and audiovisual performances in industrial venues across Berlin.",
          "shortDescription": "Experimental electronic music festival in industrial Berlin venues.",
          "interestType": "concerts",
          "dateRange": {
            "startDate": "2024-11-01",
            "endDate": "2024-11-02"
          },
          "eventWebsite": "https://berlinatonal.com"
        }
      ],
      "minorEvents": []
    }
  ]
}


- Always aim to create 3 compelling Trip Bundles unless the user's criteria are extremely restrictive. Be creative with annual events, festivals, and cultural happenings that align with their interests.
- If no bundles fit the user's criteria, return: { "bundles": [] }
- All fields must be included unless specifically optional. Arrays must be present and empty if no elements (do not omit or set to null).


After constructing each Trip Bundle, briefly validate that all constraints are met (anchor event types, date range, interest alignment, not sold out, and that no artist/performer/exhibitor appears in more than one bundle). Proceed or adjust if criteria are not satisfied.


## Style Guidance
- Be concise, well-structured, and evocative.
- Showcase variety in each bundle's experiences.
- Never include filler, explanations, or extra output outside the JSON response.
- Prioritize vivid, enticing trip titles and compelling descriptions.`,Ik=new W({apiKey:"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",dangerouslyAllowBrowser:!0}),Nk=e=>{console.log(" [AI_PARSER] Parsing AI JSON response..."),console.log(" [AI_PARSER] Raw response length:",e.length);try{let t=e.trim();t.startsWith("```json")?t=t.replace(/^```json\s*/,"").replace(/\s*```$/,""):t.startsWith("```")&&(t=t.replace(/^```\s*/,"").replace(/\s*```$/,""));const n=JSON.parse(t);if(!n.bundles||!Array.isArray(n.bundles))throw new Error("Invalid response structure: missing or invalid bundles array");return console.log(` [AI_PARSER] Successfully parsed ${n.bundles.length} bundles from JSON`),n.bundles.forEach((r,s)=>{console.log(` [AI_PARSER] Bundle ${s+1}: ${r.title} (${r.city})`)}),n}catch(t){throw console.error(" [AI_PARSER] Failed to parse JSON response:",t),console.error(" [AI_PARSER] Raw response that failed:",e.substring(0,500)+"..."),new Error(`Failed to parse AI response as JSON: ${t instanceof Error?t.message:"Unknown error"}`)}},jk=async e=>{var t,n,r;console.log(" [REAL_AI] Calling OpenAI GPT-5-mini...");try{const s=Dk();console.log(" [REAL_AI] Sending request to OpenAI..."),console.log(" [REAL_AI] Model: gpt-5-mini"),console.log(" [REAL_AI] System prompt length:",s.length),console.log(" [REAL_AI] User prompt length:",e.length);const i=await Ik.chat.completions.create({model:"gpt-5-mini",messages:[{role:"system",content:s},{role:"user",content:e}],max_completion_tokens:16e3,response_format:{type:"json_object"}}),a=(n=(t=i.choices[0])==null?void 0:t.message)==null?void 0:n.content;if(!a)throw console.error(" [REAL_AI] Empty response from OpenAI"),new Error("No response content from OpenAI");console.log(" [REAL_AI] Received response from OpenAI"),console.log(" [REAL_AI] Response length:",a.length),console.log(" [REAL_AI] Tokens used:",((r=i.usage)==null?void 0:r.total_tokens)||"unknown");const o=Nk(a);if(o.bundles.length===0)throw console.warn(" [REAL_AI] No bundles were returned from AI response"),new Error("AI returned empty bundles array");return console.log(` [REAL_AI] Successfully generated ${o.bundles.length} trip bundles`),o}catch(s){throw console.error(" [REAL_AI] Error calling OpenAI:",s),s}},yy=async(e,t=!0,n=[])=>{console.log(" Generating trip bundles..."),console.log(" Mode:",t?"Mock AI":"Real AI"),console.log(" User preferences:",Object.keys(e.userPreferences.interestTypes).filter(s=>e.userPreferences.interestTypes[s].isEnabled)),console.log(" Date range:",`${e.dateRange.startDate} to ${e.dateRange.endDate}`),console.log(" Existing bundles to filter:",n.map(s=>s.title));const r=Pk(e,n);if(console.log(" Generated user prompt for AI"),t){console.log(" Simulating AI processing time (5 seconds)..."),await new Promise(a=>setTimeout(a,5e3)),console.log(" Calling Mock AI Service...");const s=await EE(r,n);console.log(` Mock AI generated ${s.length} new trip bundles`);const i={bundles:s};return console.log(" GPTResponse:",JSON.stringify(i,null,2)),i}else{console.log(" Calling Real AI Service...");const{bundles:s}=await jk(r);console.log(` Real AI generated ${s.length} new trip bundles`);const i={bundles:s};return console.log(" GPTResponse:",JSON.stringify(i,null,2)),i}},Mk=()=>{console.log(" Initializing app from storage...");const e=Vg(),t=Wg(),n=mE(),r=rf();N.setUserPreferences(e),t&&N.setDateRange(t),N.setPromptsUsage(r),N.setCurrentScreen(n?"bundles":"firstTime"),console.log(" App initialized",{fteCompleted:n,promptsUsage:r})},Tf=async(e,t,n=!0,r=[])=>{if(!ma()){console.warn(" Daily prompt limit reached");return}console.log(" Starting bundle generation...",{preferences:e,dateRange:t,isMock:n}),N.setCurrentScreen("thinking"),N.setLoading(!0);try{const i=await yy({userPreferences:e,dateRange:t},n,r),a=Bg();N.setPromptsUsage(a),N.setBundles(i.bundles),N.setCurrentScreen("bundles"),console.log(" Bundles generated successfully",{bundleCount:i.bundles.length,newUsage:a})}catch(s){console.error(" Error generating bundles:",s),N.setCurrentScreen("bundles")}finally{N.setLoading(!1)}},Lk=async(e,t,n=!0)=>{console.log(" Completing first-time setup...",{preferences:e,dateRange:t}),Ls(e),so(t),gE(),N.setUserPreferences(e),N.setDateRange(t),await Tf(e,t,n)},Fk=async(e,t,n=!0)=>{console.log(" Updating preferences...",{preferences:e,dateRange:t}),Ls(e),so(t),N.setUserPreferences(e),N.setDateRange(t),await Tf(e,t,n)},ds=e=>{console.log(" Navigating to screen:",e),N.setCurrentScreen(e)},Dh=e=>{console.log(" Selecting bundle:",e==null?void 0:e.title),N.setSelectedBundle(e),e&&N.setCurrentScreen("bundlePage")},$k=()=>{console.log(" Resetting all local storage..."),localStorage.clear(),pE(),vE(),N.resetAll(),console.log(" Local storage reset complete - returning to first-time experience")},Bk=async(e=!0)=>{if(!N.canLoadMore){console.warn(" Cannot load more bundles - limit reached or no API calls remaining");return}if(!N.userPreferences||!N.dateRange){console.warn(" Cannot load more bundles - no user preferences or date range");return}console.log(" Loading more bundles...",{currentCount:N.bundlesLoaded,maxBundles:N.maxBundles}),N.setLoading(!0);try{const t=N.bundles,n={userPreferences:N.userPreferences,dateRange:N.dateRange},r=await yy(n,e,t),s=Bg();N.setPromptsUsage(s),N.addBundles(r.bundles),console.log(" More bundles loaded successfully",{newBundles:r.bundles.length,totalBundles:N.bundles.length,newUsage:s})}catch(t){console.error(" Error loading more bundles:",t)}finally{N.setLoading(!1)}},Uk=async(e=!0)=>{if(!N.userPreferences||!N.dateRange){console.warn(" Cannot generate new bundles - no user preferences or date range");return}console.log(" Generating new bundles from stored preferences..."),await Tf(N.userPreferences,N.dateRange,e)},Ih=()=>{const e=new Date,t=new Date;return t.setMonth(t.getMonth()+4),{startDate:e.toISOString().split("T")[0],endDate:t.toISOString().split("T")[0]}},Zi=!1;console.log(" [APP] AI Mode:","REAL (Costs Money)");console.log(" [APP] VITE_MOCK env var:",void 0);const zk=oE(()=>{Z.useEffect(()=>{Mk()},[]);const e=async(h,m)=>{await Lk(h,m,Zi)},t=h=>{Dh(h)},n=()=>{ds("bundles"),Dh(null)},r=()=>{ds("preferences")},s=async(h,m)=>{await Fk(h,m,Zi)},i=()=>{ds("bundles")},a=()=>{ds("development")},o=()=>{ds("bundles")},l=()=>{$k()},u=async()=>{await Bk(Zi)},c=async()=>{await Uk(Zi)},d=()=>{switch(N.currentScreen){case"firstTime":return _.jsx(xl,{initialPreferences:N.userPreferences||oi(),initialDateRange:N.dateRange||Ih(),promptsUsage:N.promptsUsage,onSave:e,onCancel:()=>{},isFTEMode:!0});case"thinking":return _.jsx(cE,{});case"bundles":return _.jsx(fE,{bundles:N.bundles,promptsUsage:N.promptsUsage,onBundleSelect:t,onOpenPreferences:r,onOpenDevelopment:a,onLoadMore:u,onGenerateNew:c,canLoadMore:N.canLoadMore,hasUserData:N.hasCompletedSetup,isLoading:N.isLoading});case"bundlePage":return N.selectedBundle?_.jsx(dE,{bundle:N.selectedBundle,onBack:n}):null;case"preferences":return N.userPreferences&&N.dateRange?_.jsx(xl,{initialPreferences:N.userPreferences,initialDateRange:N.dateRange,promptsUsage:N.promptsUsage,onSave:s,onCancel:i}):null;case"development":return _.jsx(wE,{promptsUsage:N.promptsUsage,onClose:o,onResetLocalStorage:l});default:return _.jsx(xl,{initialPreferences:N.userPreferences||oi(),initialDateRange:N.dateRange||Ih(),promptsUsage:N.promptsUsage,onSave:e,onCancel:()=>{},isFTEMode:!0})}};return _.jsx("div",{className:"app",children:d()})});Ml.createRoot(document.getElementById("root")).render(_.jsx(jl.StrictMode,{children:_.jsx(zk,{})}));
