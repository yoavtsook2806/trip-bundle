var vy=Object.defineProperty;var yy=(e,t,n)=>t in e?vy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var we=(e,t,n)=>yy(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function _y(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Dh={exports:{}},po={},Ih={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ci=Symbol.for("react.element"),wy=Symbol.for("react.portal"),Sy=Symbol.for("react.fragment"),Ey=Symbol.for("react.strict_mode"),by=Symbol.for("react.profiler"),ky=Symbol.for("react.provider"),xy=Symbol.for("react.context"),Cy=Symbol.for("react.forward_ref"),Ay=Symbol.for("react.suspense"),Oy=Symbol.for("react.memo"),Ry=Symbol.for("react.lazy"),Tf=Symbol.iterator;function Ty(e){return e===null||typeof e!="object"?null:(e=Tf&&e[Tf]||e["@@iterator"],typeof e=="function"?e:null)}var Nh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Mh=Object.assign,jh={};function Xr(e,t,n){this.props=e,this.context=t,this.refs=jh,this.updater=n||Nh}Xr.prototype.isReactComponent={};Xr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Lh(){}Lh.prototype=Xr.prototype;function tc(e,t,n){this.props=e,this.context=t,this.refs=jh,this.updater=n||Nh}var nc=tc.prototype=new Lh;nc.constructor=tc;Mh(nc,Xr.prototype);nc.isPureReactComponent=!0;var Pf=Array.isArray,Fh=Object.prototype.hasOwnProperty,rc={current:null},$h={key:!0,ref:!0,__self:!0,__source:!0};function Bh(e,t,n){var r,s={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Fh.call(t,r)&&!$h.hasOwnProperty(r)&&(s[r]=t[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:ci,type:e,key:i,ref:a,props:s,_owner:rc.current}}function Py(e,t){return{$$typeof:ci,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function sc(e){return typeof e=="object"&&e!==null&&e.$$typeof===ci}function Dy(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Df=/\/+/g;function Go(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Dy(""+e.key):t.toString(36)}function ea(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ci:case wy:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+Go(a,0):r,Pf(s)?(n="",e!=null&&(n=e.replace(Df,"$&/")+"/"),ea(s,t,n,"",function(u){return u})):s!=null&&(sc(s)&&(s=Py(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Df,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",Pf(e))for(var o=0;o<e.length;o++){i=e[o];var l=r+Go(i,o);a+=ea(i,t,n,l,s)}else if(l=Ty(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=r+Go(i,o++),a+=ea(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Ci(e,t,n){if(e==null)return e;var r=[],s=0;return ea(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Iy(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Me={current:null},ta={transition:null},Ny={ReactCurrentDispatcher:Me,ReactCurrentBatchConfig:ta,ReactCurrentOwner:rc};function Uh(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:Ci,forEach:function(e,t,n){Ci(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ci(e,function(){t++}),t},toArray:function(e){return Ci(e,function(t){return t})||[]},only:function(e){if(!sc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};G.Component=Xr;G.Fragment=Sy;G.Profiler=by;G.PureComponent=tc;G.StrictMode=Ey;G.Suspense=Ay;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ny;G.act=Uh;G.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Mh({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=rc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)Fh.call(t,l)&&!$h.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:ci,type:e.type,key:s,ref:i,props:r,_owner:a}};G.createContext=function(e){return e={$$typeof:xy,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ky,_context:e},e.Consumer=e};G.createElement=Bh;G.createFactory=function(e){var t=Bh.bind(null,e);return t.type=e,t};G.createRef=function(){return{current:null}};G.forwardRef=function(e){return{$$typeof:Cy,render:e}};G.isValidElement=sc;G.lazy=function(e){return{$$typeof:Ry,_payload:{_status:-1,_result:e},_init:Iy}};G.memo=function(e,t){return{$$typeof:Oy,type:e,compare:t===void 0?null:t}};G.startTransition=function(e){var t=ta.transition;ta.transition={};try{e()}finally{ta.transition=t}};G.unstable_act=Uh;G.useCallback=function(e,t){return Me.current.useCallback(e,t)};G.useContext=function(e){return Me.current.useContext(e)};G.useDebugValue=function(){};G.useDeferredValue=function(e){return Me.current.useDeferredValue(e)};G.useEffect=function(e,t){return Me.current.useEffect(e,t)};G.useId=function(){return Me.current.useId()};G.useImperativeHandle=function(e,t,n){return Me.current.useImperativeHandle(e,t,n)};G.useInsertionEffect=function(e,t){return Me.current.useInsertionEffect(e,t)};G.useLayoutEffect=function(e,t){return Me.current.useLayoutEffect(e,t)};G.useMemo=function(e,t){return Me.current.useMemo(e,t)};G.useReducer=function(e,t,n){return Me.current.useReducer(e,t,n)};G.useRef=function(e){return Me.current.useRef(e)};G.useState=function(e){return Me.current.useState(e)};G.useSyncExternalStore=function(e,t,n){return Me.current.useSyncExternalStore(e,t,n)};G.useTransition=function(){return Me.current.useTransition()};G.version="18.3.1";Ih.exports=G;var re=Ih.exports;const jl=_y(re);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var My=re,jy=Symbol.for("react.element"),Ly=Symbol.for("react.fragment"),Fy=Object.prototype.hasOwnProperty,$y=My.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,By={key:!0,ref:!0,__self:!0,__source:!0};function zh(e,t,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Fy.call(t,r)&&!By.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:jy,type:e,key:i,ref:a,props:s,_owner:$y.current}}po.Fragment=Ly;po.jsx=zh;po.jsxs=zh;Dh.exports=po;var E=Dh.exports,Ll={},Vh={exports:{}},tt={},Wh={exports:{}},Hh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(x,P){var D=x.length;x.push(P);e:for(;0<D;){var Y=D-1>>>1,Q=x[Y];if(0<s(Q,P))x[Y]=P,x[D]=Q,D=Y;else break e}}function n(x){return x.length===0?null:x[0]}function r(x){if(x.length===0)return null;var P=x[0],D=x.pop();if(D!==P){x[0]=D;e:for(var Y=0,Q=x.length,He=Q>>>1;Y<He;){var st=2*(Y+1)-1,un=x[st],Rt=st+1,xi=x[Rt];if(0>s(un,D))Rt<Q&&0>s(xi,un)?(x[Y]=xi,x[Rt]=D,Y=Rt):(x[Y]=un,x[st]=D,Y=st);else if(Rt<Q&&0>s(xi,D))x[Y]=xi,x[Rt]=D,Y=Rt;else break e}}return P}function s(x,P){var D=x.sortIndex-P.sortIndex;return D!==0?D:x.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,d=null,h=3,g=!1,_=!1,S=!1,O=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(x){for(var P=n(u);P!==null;){if(P.callback===null)r(u);else if(P.startTime<=x)r(u),P.sortIndex=P.expirationTime,t(l,P);else break;P=n(u)}}function v(x){if(S=!1,p(x),!_)if(n(l)!==null)_=!0,cr(k);else{var P=n(u);P!==null&&V(v,P.startTime-x)}}function k(x,P){_=!1,S&&(S=!1,m(I),I=-1),g=!0;var D=h;try{for(p(P),d=n(l);d!==null&&(!(d.expirationTime>P)||x&&!W());){var Y=d.callback;if(typeof Y=="function"){d.callback=null,h=d.priorityLevel;var Q=Y(d.expirationTime<=P);P=e.unstable_now(),typeof Q=="function"?d.callback=Q:d===n(l)&&r(l),p(P)}else r(l);d=n(l)}if(d!==null)var He=!0;else{var st=n(u);st!==null&&V(v,st.startTime-P),He=!1}return He}finally{d=null,h=D,g=!1}}var C=!1,b=null,I=-1,B=5,M=-1;function W(){return!(e.unstable_now()-M<B)}function Le(){if(b!==null){var x=e.unstable_now();M=x;var P=!0;try{P=b(!0,x)}finally{P?Fe():(C=!1,b=null)}}else C=!1}var Fe;if(typeof f=="function")Fe=function(){f(Le)};else if(typeof MessageChannel<"u"){var Mn=new MessageChannel,ln=Mn.port2;Mn.port1.onmessage=Le,Fe=function(){ln.postMessage(null)}}else Fe=function(){O(Le,0)};function cr(x){b=x,C||(C=!0,Fe())}function V(x,P){I=O(function(){x(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(x){x.callback=null},e.unstable_continueExecution=function(){_||g||(_=!0,cr(k))},e.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<x?Math.floor(1e3/x):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(x){switch(h){case 1:case 2:case 3:var P=3;break;default:P=h}var D=h;h=P;try{return x()}finally{h=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(x,P){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var D=h;h=x;try{return P()}finally{h=D}},e.unstable_scheduleCallback=function(x,P,D){var Y=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?Y+D:Y):D=Y,x){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=D+Q,x={id:c++,callback:P,priorityLevel:x,startTime:D,expirationTime:Q,sortIndex:-1},D>Y?(x.sortIndex=D,t(u,x),n(l)===null&&x===n(u)&&(S?(m(I),I=-1):S=!0,V(v,D-Y))):(x.sortIndex=Q,t(l,x),_||g||(_=!0,cr(k))),x},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(x){var P=h;return function(){var D=h;h=P;try{return x.apply(this,arguments)}finally{h=D}}}})(Hh);Wh.exports=Hh;var Uy=Wh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zy=re,et=Uy;function A(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gh=new Set,zs={};function sr(e,t){zr(e,t),zr(e+"Capture",t)}function zr(e,t){for(zs[e]=t,e=0;e<t.length;e++)Gh.add(t[e])}var en=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fl=Object.prototype.hasOwnProperty,Vy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,If={},Nf={};function Wy(e){return Fl.call(Nf,e)?!0:Fl.call(If,e)?!1:Vy.test(e)?Nf[e]=!0:(If[e]=!0,!1)}function Hy(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Gy(e,t,n,r){if(t===null||typeof t>"u"||Hy(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function je(e,t,n,r,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ce[e]=new je(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ce[t]=new je(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ce[e]=new je(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ce[e]=new je(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ce[e]=new je(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ce[e]=new je(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ce[e]=new je(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ce[e]=new je(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ce[e]=new je(e,5,!1,e.toLowerCase(),null,!1,!1)});var ic=/[\-:]([a-z])/g;function ac(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ic,ac);Ce[t]=new je(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ic,ac);Ce[t]=new je(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ic,ac);Ce[t]=new je(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ce[e]=new je(e,1,!1,e.toLowerCase(),null,!1,!1)});Ce.xlinkHref=new je("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ce[e]=new je(e,1,!1,e.toLowerCase(),null,!0,!0)});function oc(e,t,n,r){var s=Ce.hasOwnProperty(t)?Ce[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Gy(t,n,s,r)&&(n=null),r||s===null?Wy(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var on=zy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ai=Symbol.for("react.element"),wr=Symbol.for("react.portal"),Sr=Symbol.for("react.fragment"),lc=Symbol.for("react.strict_mode"),$l=Symbol.for("react.profiler"),Yh=Symbol.for("react.provider"),Kh=Symbol.for("react.context"),uc=Symbol.for("react.forward_ref"),Bl=Symbol.for("react.suspense"),Ul=Symbol.for("react.suspense_list"),cc=Symbol.for("react.memo"),hn=Symbol.for("react.lazy"),Jh=Symbol.for("react.offscreen"),Mf=Symbol.iterator;function ss(e){return e===null||typeof e!="object"?null:(e=Mf&&e[Mf]||e["@@iterator"],typeof e=="function"?e:null)}var oe=Object.assign,Yo;function ps(e){if(Yo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Yo=t&&t[1]||""}return`
`+Yo+e}var Ko=!1;function Jo(e,t){if(!e||Ko)return"";Ko=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{Ko=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ps(e):""}function Yy(e){switch(e.tag){case 5:return ps(e.type);case 16:return ps("Lazy");case 13:return ps("Suspense");case 19:return ps("SuspenseList");case 0:case 2:case 15:return e=Jo(e.type,!1),e;case 11:return e=Jo(e.type.render,!1),e;case 1:return e=Jo(e.type,!0),e;default:return""}}function zl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Sr:return"Fragment";case wr:return"Portal";case $l:return"Profiler";case lc:return"StrictMode";case Bl:return"Suspense";case Ul:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Kh:return(e.displayName||"Context")+".Consumer";case Yh:return(e._context.displayName||"Context")+".Provider";case uc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case cc:return t=e.displayName||null,t!==null?t:zl(e.type)||"Memo";case hn:t=e._payload,e=e._init;try{return zl(e(t))}catch{}}return null}function Ky(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zl(t);case 8:return t===lc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function On(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Jy(e){var t=qh(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Oi(e){e._valueTracker||(e._valueTracker=Jy(e))}function Qh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=qh(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function xa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Vl(e,t){var n=t.checked;return oe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function jf(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=On(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Xh(e,t){t=t.checked,t!=null&&oc(e,"checked",t,!1)}function Wl(e,t){Xh(e,t);var n=On(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Hl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Hl(e,t.type,On(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Lf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Hl(e,t,n){(t!=="number"||xa(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ms=Array.isArray;function jr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+On(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Gl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(A(91));return oe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ff(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(A(92));if(ms(n)){if(1<n.length)throw Error(A(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:On(n)}}function Zh(e,t){var n=On(t.value),r=On(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function $f(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ep(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ep(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ri,tp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ri=Ri||document.createElement("div"),Ri.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ri.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Vs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var As={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qy=["Webkit","ms","Moz","O"];Object.keys(As).forEach(function(e){qy.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),As[t]=As[e]})});function np(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||As.hasOwnProperty(e)&&As[e]?(""+t).trim():t+"px"}function rp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=np(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Qy=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kl(e,t){if(t){if(Qy[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(A(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(A(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(A(61))}if(t.style!=null&&typeof t.style!="object")throw Error(A(62))}}function Jl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ql=null;function fc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ql=null,Lr=null,Fr=null;function Bf(e){if(e=hi(e)){if(typeof Ql!="function")throw Error(A(280));var t=e.stateNode;t&&(t=_o(t),Ql(e.stateNode,e.type,t))}}function sp(e){Lr?Fr?Fr.push(e):Fr=[e]:Lr=e}function ip(){if(Lr){var e=Lr,t=Fr;if(Fr=Lr=null,Bf(e),t)for(e=0;e<t.length;e++)Bf(t[e])}}function ap(e,t){return e(t)}function op(){}var qo=!1;function lp(e,t,n){if(qo)return e(t,n);qo=!0;try{return ap(e,t,n)}finally{qo=!1,(Lr!==null||Fr!==null)&&(op(),ip())}}function Ws(e,t){var n=e.stateNode;if(n===null)return null;var r=_o(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(A(231,t,typeof n));return n}var Xl=!1;if(en)try{var is={};Object.defineProperty(is,"passive",{get:function(){Xl=!0}}),window.addEventListener("test",is,is),window.removeEventListener("test",is,is)}catch{Xl=!1}function Xy(e,t,n,r,s,i,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Os=!1,Ca=null,Aa=!1,Zl=null,Zy={onError:function(e){Os=!0,Ca=e}};function e0(e,t,n,r,s,i,a,o,l){Os=!1,Ca=null,Xy.apply(Zy,arguments)}function t0(e,t,n,r,s,i,a,o,l){if(e0.apply(this,arguments),Os){if(Os){var u=Ca;Os=!1,Ca=null}else throw Error(A(198));Aa||(Aa=!0,Zl=u)}}function ir(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function up(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Uf(e){if(ir(e)!==e)throw Error(A(188))}function n0(e){var t=e.alternate;if(!t){if(t=ir(e),t===null)throw Error(A(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Uf(s),e;if(i===r)return Uf(s),t;i=i.sibling}throw Error(A(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a)throw Error(A(189))}}if(n.alternate!==r)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?e:t}function cp(e){return e=n0(e),e!==null?fp(e):null}function fp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=fp(e);if(t!==null)return t;e=e.sibling}return null}var dp=et.unstable_scheduleCallback,zf=et.unstable_cancelCallback,r0=et.unstable_shouldYield,s0=et.unstable_requestPaint,ue=et.unstable_now,i0=et.unstable_getCurrentPriorityLevel,dc=et.unstable_ImmediatePriority,hp=et.unstable_UserBlockingPriority,Oa=et.unstable_NormalPriority,a0=et.unstable_LowPriority,pp=et.unstable_IdlePriority,mo=null,Ft=null;function o0(e){if(Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(mo,e,void 0,(e.current.flags&128)===128)}catch{}}var St=Math.clz32?Math.clz32:c0,l0=Math.log,u0=Math.LN2;function c0(e){return e>>>=0,e===0?32:31-(l0(e)/u0|0)|0}var Ti=64,Pi=4194304;function gs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ra(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~s;o!==0?r=gs(o):(i&=a,i!==0&&(r=gs(i)))}else a=n&~s,a!==0?r=gs(a):i!==0&&(r=gs(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-St(t),s=1<<n,r|=e[n],t&=~s;return r}function f0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function d0(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-St(i),o=1<<a,l=s[a];l===-1?(!(o&n)||o&r)&&(s[a]=f0(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function eu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function mp(){var e=Ti;return Ti<<=1,!(Ti&4194240)&&(Ti=64),e}function Qo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function fi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-St(t),e[t]=n}function h0(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-St(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function hc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-St(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var X=0;function gp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var vp,pc,yp,_p,wp,tu=!1,Di=[],wn=null,Sn=null,En=null,Hs=new Map,Gs=new Map,mn=[],p0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vf(e,t){switch(e){case"focusin":case"focusout":wn=null;break;case"dragenter":case"dragleave":Sn=null;break;case"mouseover":case"mouseout":En=null;break;case"pointerover":case"pointerout":Hs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gs.delete(t.pointerId)}}function as(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=hi(t),t!==null&&pc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function m0(e,t,n,r,s){switch(t){case"focusin":return wn=as(wn,e,t,n,r,s),!0;case"dragenter":return Sn=as(Sn,e,t,n,r,s),!0;case"mouseover":return En=as(En,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Hs.set(i,as(Hs.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Gs.set(i,as(Gs.get(i)||null,e,t,n,r,s)),!0}return!1}function Sp(e){var t=Bn(e.target);if(t!==null){var n=ir(t);if(n!==null){if(t=n.tag,t===13){if(t=up(n),t!==null){e.blockedOn=t,wp(e.priority,function(){yp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function na(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=nu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ql=r,n.target.dispatchEvent(r),ql=null}else return t=hi(n),t!==null&&pc(t),e.blockedOn=n,!1;t.shift()}return!0}function Wf(e,t,n){na(e)&&n.delete(t)}function g0(){tu=!1,wn!==null&&na(wn)&&(wn=null),Sn!==null&&na(Sn)&&(Sn=null),En!==null&&na(En)&&(En=null),Hs.forEach(Wf),Gs.forEach(Wf)}function os(e,t){e.blockedOn===t&&(e.blockedOn=null,tu||(tu=!0,et.unstable_scheduleCallback(et.unstable_NormalPriority,g0)))}function Ys(e){function t(s){return os(s,e)}if(0<Di.length){os(Di[0],e);for(var n=1;n<Di.length;n++){var r=Di[n];r.blockedOn===e&&(r.blockedOn=null)}}for(wn!==null&&os(wn,e),Sn!==null&&os(Sn,e),En!==null&&os(En,e),Hs.forEach(t),Gs.forEach(t),n=0;n<mn.length;n++)r=mn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<mn.length&&(n=mn[0],n.blockedOn===null);)Sp(n),n.blockedOn===null&&mn.shift()}var $r=on.ReactCurrentBatchConfig,Ta=!0;function v0(e,t,n,r){var s=X,i=$r.transition;$r.transition=null;try{X=1,mc(e,t,n,r)}finally{X=s,$r.transition=i}}function y0(e,t,n,r){var s=X,i=$r.transition;$r.transition=null;try{X=4,mc(e,t,n,r)}finally{X=s,$r.transition=i}}function mc(e,t,n,r){if(Ta){var s=nu(e,t,n,r);if(s===null)ol(e,t,r,Pa,n),Vf(e,r);else if(m0(s,e,t,n,r))r.stopPropagation();else if(Vf(e,r),t&4&&-1<p0.indexOf(e)){for(;s!==null;){var i=hi(s);if(i!==null&&vp(i),i=nu(e,t,n,r),i===null&&ol(e,t,r,Pa,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ol(e,t,r,null,n)}}var Pa=null;function nu(e,t,n,r){if(Pa=null,e=fc(r),e=Bn(e),e!==null)if(t=ir(e),t===null)e=null;else if(n=t.tag,n===13){if(e=up(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Pa=e,null}function Ep(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(i0()){case dc:return 1;case hp:return 4;case Oa:case a0:return 16;case pp:return 536870912;default:return 16}default:return 16}}var vn=null,gc=null,ra=null;function bp(){if(ra)return ra;var e,t=gc,n=t.length,r,s="value"in vn?vn.value:vn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[i-r];r++);return ra=s.slice(e,1<r?1-r:void 0)}function sa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ii(){return!0}function Hf(){return!1}function nt(e){function t(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ii:Hf,this.isPropagationStopped=Hf,this}return oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ii)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ii)},persist:function(){},isPersistent:Ii}),t}var Zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vc=nt(Zr),di=oe({},Zr,{view:0,detail:0}),_0=nt(di),Xo,Zo,ls,go=oe({},di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ls&&(ls&&e.type==="mousemove"?(Xo=e.screenX-ls.screenX,Zo=e.screenY-ls.screenY):Zo=Xo=0,ls=e),Xo)},movementY:function(e){return"movementY"in e?e.movementY:Zo}}),Gf=nt(go),w0=oe({},go,{dataTransfer:0}),S0=nt(w0),E0=oe({},di,{relatedTarget:0}),el=nt(E0),b0=oe({},Zr,{animationName:0,elapsedTime:0,pseudoElement:0}),k0=nt(b0),x0=oe({},Zr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),C0=nt(x0),A0=oe({},Zr,{data:0}),Yf=nt(A0),O0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},R0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},T0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function P0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=T0[e])?!!t[e]:!1}function yc(){return P0}var D0=oe({},di,{key:function(e){if(e.key){var t=O0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=sa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?R0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yc,charCode:function(e){return e.type==="keypress"?sa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?sa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),I0=nt(D0),N0=oe({},go,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kf=nt(N0),M0=oe({},di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yc}),j0=nt(M0),L0=oe({},Zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),F0=nt(L0),$0=oe({},go,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B0=nt($0),U0=[9,13,27,32],_c=en&&"CompositionEvent"in window,Rs=null;en&&"documentMode"in document&&(Rs=document.documentMode);var z0=en&&"TextEvent"in window&&!Rs,kp=en&&(!_c||Rs&&8<Rs&&11>=Rs),Jf=" ",qf=!1;function xp(e,t){switch(e){case"keyup":return U0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Er=!1;function V0(e,t){switch(e){case"compositionend":return Cp(t);case"keypress":return t.which!==32?null:(qf=!0,Jf);case"textInput":return e=t.data,e===Jf&&qf?null:e;default:return null}}function W0(e,t){if(Er)return e==="compositionend"||!_c&&xp(e,t)?(e=bp(),ra=gc=vn=null,Er=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kp&&t.locale!=="ko"?null:t.data;default:return null}}var H0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!H0[e.type]:t==="textarea"}function Ap(e,t,n,r){sp(r),t=Da(t,"onChange"),0<t.length&&(n=new vc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ts=null,Ks=null;function G0(e){Fp(e,0)}function vo(e){var t=xr(e);if(Qh(t))return e}function Y0(e,t){if(e==="change")return t}var Op=!1;if(en){var tl;if(en){var nl="oninput"in document;if(!nl){var Xf=document.createElement("div");Xf.setAttribute("oninput","return;"),nl=typeof Xf.oninput=="function"}tl=nl}else tl=!1;Op=tl&&(!document.documentMode||9<document.documentMode)}function Zf(){Ts&&(Ts.detachEvent("onpropertychange",Rp),Ks=Ts=null)}function Rp(e){if(e.propertyName==="value"&&vo(Ks)){var t=[];Ap(t,Ks,e,fc(e)),lp(G0,t)}}function K0(e,t,n){e==="focusin"?(Zf(),Ts=t,Ks=n,Ts.attachEvent("onpropertychange",Rp)):e==="focusout"&&Zf()}function J0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vo(Ks)}function q0(e,t){if(e==="click")return vo(t)}function Q0(e,t){if(e==="input"||e==="change")return vo(t)}function X0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xt=typeof Object.is=="function"?Object.is:X0;function Js(e,t){if(xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Fl.call(t,s)||!xt(e[s],t[s]))return!1}return!0}function ed(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function td(e,t){var n=ed(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ed(n)}}function Tp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Tp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Pp(){for(var e=window,t=xa();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=xa(e.document)}return t}function wc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Z0(e){var t=Pp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Tp(n.ownerDocument.documentElement,n)){if(r!==null&&wc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=td(n,i);var a=td(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var e_=en&&"documentMode"in document&&11>=document.documentMode,br=null,ru=null,Ps=null,su=!1;function nd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;su||br==null||br!==xa(r)||(r=br,"selectionStart"in r&&wc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ps&&Js(Ps,r)||(Ps=r,r=Da(ru,"onSelect"),0<r.length&&(t=new vc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}function Ni(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:Ni("Animation","AnimationEnd"),animationiteration:Ni("Animation","AnimationIteration"),animationstart:Ni("Animation","AnimationStart"),transitionend:Ni("Transition","TransitionEnd")},rl={},Dp={};en&&(Dp=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);function yo(e){if(rl[e])return rl[e];if(!kr[e])return e;var t=kr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Dp)return rl[e]=t[n];return e}var Ip=yo("animationend"),Np=yo("animationiteration"),Mp=yo("animationstart"),jp=yo("transitionend"),Lp=new Map,rd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tn(e,t){Lp.set(e,t),sr(t,[e])}for(var sl=0;sl<rd.length;sl++){var il=rd[sl],t_=il.toLowerCase(),n_=il[0].toUpperCase()+il.slice(1);Tn(t_,"on"+n_)}Tn(Ip,"onAnimationEnd");Tn(Np,"onAnimationIteration");Tn(Mp,"onAnimationStart");Tn("dblclick","onDoubleClick");Tn("focusin","onFocus");Tn("focusout","onBlur");Tn(jp,"onTransitionEnd");zr("onMouseEnter",["mouseout","mouseover"]);zr("onMouseLeave",["mouseout","mouseover"]);zr("onPointerEnter",["pointerout","pointerover"]);zr("onPointerLeave",["pointerout","pointerover"]);sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sr("onBeforeInput",["compositionend","keypress","textInput","paste"]);sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r_=new Set("cancel close invalid load scroll toggle".split(" ").concat(vs));function sd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,t0(r,t,void 0,e),e.currentTarget=null}function Fp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;sd(s,o,u),i=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;sd(s,o,u),i=l}}}if(Aa)throw e=Zl,Aa=!1,Zl=null,e}function te(e,t){var n=t[uu];n===void 0&&(n=t[uu]=new Set);var r=e+"__bubble";n.has(r)||($p(t,e,2,!1),n.add(r))}function al(e,t,n){var r=0;t&&(r|=4),$p(n,e,r,t)}var Mi="_reactListening"+Math.random().toString(36).slice(2);function qs(e){if(!e[Mi]){e[Mi]=!0,Gh.forEach(function(n){n!=="selectionchange"&&(r_.has(n)||al(n,!1,e),al(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Mi]||(t[Mi]=!0,al("selectionchange",!1,t))}}function $p(e,t,n,r){switch(Ep(t)){case 1:var s=v0;break;case 4:s=y0;break;default:s=mc}n=s.bind(null,t,n,e),s=void 0,!Xl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function ol(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=Bn(o),a===null)return;if(l=a.tag,l===5||l===6){r=i=a;continue e}o=o.parentNode}}r=r.return}lp(function(){var u=i,c=fc(n),d=[];e:{var h=Lp.get(e);if(h!==void 0){var g=vc,_=e;switch(e){case"keypress":if(sa(n)===0)break e;case"keydown":case"keyup":g=I0;break;case"focusin":_="focus",g=el;break;case"focusout":_="blur",g=el;break;case"beforeblur":case"afterblur":g=el;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Gf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=S0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=j0;break;case Ip:case Np:case Mp:g=k0;break;case jp:g=F0;break;case"scroll":g=_0;break;case"wheel":g=B0;break;case"copy":case"cut":case"paste":g=C0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Kf}var S=(t&4)!==0,O=!S&&e==="scroll",m=S?h!==null?h+"Capture":null:h;S=[];for(var f=u,p;f!==null;){p=f;var v=p.stateNode;if(p.tag===5&&v!==null&&(p=v,m!==null&&(v=Ws(f,m),v!=null&&S.push(Qs(f,v,p)))),O)break;f=f.return}0<S.length&&(h=new g(h,_,null,n,c),d.push({event:h,listeners:S}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&n!==ql&&(_=n.relatedTarget||n.fromElement)&&(Bn(_)||_[tn]))break e;if((g||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=u,_=_?Bn(_):null,_!==null&&(O=ir(_),_!==O||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=u),g!==_)){if(S=Gf,v="onMouseLeave",m="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(S=Kf,v="onPointerLeave",m="onPointerEnter",f="pointer"),O=g==null?h:xr(g),p=_==null?h:xr(_),h=new S(v,f+"leave",g,n,c),h.target=O,h.relatedTarget=p,v=null,Bn(c)===u&&(S=new S(m,f+"enter",_,n,c),S.target=p,S.relatedTarget=O,v=S),O=v,g&&_)t:{for(S=g,m=_,f=0,p=S;p;p=fr(p))f++;for(p=0,v=m;v;v=fr(v))p++;for(;0<f-p;)S=fr(S),f--;for(;0<p-f;)m=fr(m),p--;for(;f--;){if(S===m||m!==null&&S===m.alternate)break t;S=fr(S),m=fr(m)}S=null}else S=null;g!==null&&id(d,h,g,S,!1),_!==null&&O!==null&&id(d,O,_,S,!0)}}e:{if(h=u?xr(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var k=Y0;else if(Qf(h))if(Op)k=Q0;else{k=J0;var C=K0}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=q0);if(k&&(k=k(e,u))){Ap(d,k,n,c);break e}C&&C(e,h,u),e==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&Hl(h,"number",h.value)}switch(C=u?xr(u):window,e){case"focusin":(Qf(C)||C.contentEditable==="true")&&(br=C,ru=u,Ps=null);break;case"focusout":Ps=ru=br=null;break;case"mousedown":su=!0;break;case"contextmenu":case"mouseup":case"dragend":su=!1,nd(d,n,c);break;case"selectionchange":if(e_)break;case"keydown":case"keyup":nd(d,n,c)}var b;if(_c)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Er?xp(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(kp&&n.locale!=="ko"&&(Er||I!=="onCompositionStart"?I==="onCompositionEnd"&&Er&&(b=bp()):(vn=c,gc="value"in vn?vn.value:vn.textContent,Er=!0)),C=Da(u,I),0<C.length&&(I=new Yf(I,e,null,n,c),d.push({event:I,listeners:C}),b?I.data=b:(b=Cp(n),b!==null&&(I.data=b)))),(b=z0?V0(e,n):W0(e,n))&&(u=Da(u,"onBeforeInput"),0<u.length&&(c=new Yf("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=b))}Fp(d,t)})}function Qs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Da(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ws(e,n),i!=null&&r.unshift(Qs(e,i,s)),i=Ws(e,t),i!=null&&r.push(Qs(e,i,s))),e=e.return}return r}function fr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function id(e,t,n,r,s){for(var i=t._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,s?(l=Ws(n,i),l!=null&&a.unshift(Qs(n,l,o))):s||(l=Ws(n,i),l!=null&&a.push(Qs(n,l,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var s_=/\r\n?/g,i_=/\u0000|\uFFFD/g;function ad(e){return(typeof e=="string"?e:""+e).replace(s_,`
`).replace(i_,"")}function ji(e,t,n){if(t=ad(t),ad(e)!==t&&n)throw Error(A(425))}function Ia(){}var iu=null,au=null;function ou(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lu=typeof setTimeout=="function"?setTimeout:void 0,a_=typeof clearTimeout=="function"?clearTimeout:void 0,od=typeof Promise=="function"?Promise:void 0,o_=typeof queueMicrotask=="function"?queueMicrotask:typeof od<"u"?function(e){return od.resolve(null).then(e).catch(l_)}:lu;function l_(e){setTimeout(function(){throw e})}function ll(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Ys(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ys(t)}function bn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ld(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var es=Math.random().toString(36).slice(2),Nt="__reactFiber$"+es,Xs="__reactProps$"+es,tn="__reactContainer$"+es,uu="__reactEvents$"+es,u_="__reactListeners$"+es,c_="__reactHandles$"+es;function Bn(e){var t=e[Nt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[tn]||n[Nt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ld(e);e!==null;){if(n=e[Nt])return n;e=ld(e)}return t}e=n,n=e.parentNode}return null}function hi(e){return e=e[Nt]||e[tn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function xr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(A(33))}function _o(e){return e[Xs]||null}var cu=[],Cr=-1;function Pn(e){return{current:e}}function ne(e){0>Cr||(e.current=cu[Cr],cu[Cr]=null,Cr--)}function Z(e,t){Cr++,cu[Cr]=e.current,e.current=t}var Rn={},Pe=Pn(Rn),ze=Pn(!1),Kn=Rn;function Vr(e,t){var n=e.type.contextTypes;if(!n)return Rn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ve(e){return e=e.childContextTypes,e!=null}function Na(){ne(ze),ne(Pe)}function ud(e,t,n){if(Pe.current!==Rn)throw Error(A(168));Z(Pe,t),Z(ze,n)}function Bp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(A(108,Ky(e)||"Unknown",s));return oe({},n,r)}function Ma(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Rn,Kn=Pe.current,Z(Pe,e),Z(ze,ze.current),!0}function cd(e,t,n){var r=e.stateNode;if(!r)throw Error(A(169));n?(e=Bp(e,t,Kn),r.__reactInternalMemoizedMergedChildContext=e,ne(ze),ne(Pe),Z(Pe,e)):ne(ze),Z(ze,n)}var Gt=null,wo=!1,ul=!1;function Up(e){Gt===null?Gt=[e]:Gt.push(e)}function f_(e){wo=!0,Up(e)}function Dn(){if(!ul&&Gt!==null){ul=!0;var e=0,t=X;try{var n=Gt;for(X=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Gt=null,wo=!1}catch(s){throw Gt!==null&&(Gt=Gt.slice(e+1)),dp(dc,Dn),s}finally{X=t,ul=!1}}return null}var Ar=[],Or=0,ja=null,La=0,it=[],at=0,Jn=null,Jt=1,qt="";function jn(e,t){Ar[Or++]=La,Ar[Or++]=ja,ja=e,La=t}function zp(e,t,n){it[at++]=Jt,it[at++]=qt,it[at++]=Jn,Jn=e;var r=Jt;e=qt;var s=32-St(r)-1;r&=~(1<<s),n+=1;var i=32-St(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Jt=1<<32-St(t)+s|n<<s|r,qt=i+e}else Jt=1<<i|n<<s|r,qt=e}function Sc(e){e.return!==null&&(jn(e,1),zp(e,1,0))}function Ec(e){for(;e===ja;)ja=Ar[--Or],Ar[Or]=null,La=Ar[--Or],Ar[Or]=null;for(;e===Jn;)Jn=it[--at],it[at]=null,qt=it[--at],it[at]=null,Jt=it[--at],it[at]=null}var Ze=null,Xe=null,se=!1,wt=null;function Vp(e,t){var n=ut(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function fd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ze=e,Xe=bn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ze=e,Xe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Jn!==null?{id:Jt,overflow:qt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ut(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ze=e,Xe=null,!0):!1;default:return!1}}function fu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function du(e){if(se){var t=Xe;if(t){var n=t;if(!fd(e,t)){if(fu(e))throw Error(A(418));t=bn(n.nextSibling);var r=Ze;t&&fd(e,t)?Vp(r,n):(e.flags=e.flags&-4097|2,se=!1,Ze=e)}}else{if(fu(e))throw Error(A(418));e.flags=e.flags&-4097|2,se=!1,Ze=e}}}function dd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ze=e}function Li(e){if(e!==Ze)return!1;if(!se)return dd(e),se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ou(e.type,e.memoizedProps)),t&&(t=Xe)){if(fu(e))throw Wp(),Error(A(418));for(;t;)Vp(e,t),t=bn(t.nextSibling)}if(dd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Xe=bn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Xe=null}}else Xe=Ze?bn(e.stateNode.nextSibling):null;return!0}function Wp(){for(var e=Xe;e;)e=bn(e.nextSibling)}function Wr(){Xe=Ze=null,se=!1}function bc(e){wt===null?wt=[e]:wt.push(e)}var d_=on.ReactCurrentBatchConfig;function us(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(A(309));var r=n.stateNode}if(!r)throw Error(A(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(A(284));if(!n._owner)throw Error(A(290,e))}return e}function Fi(e,t){throw e=Object.prototype.toString.call(t),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function hd(e){var t=e._init;return t(e._payload)}function Hp(e){function t(m,f){if(e){var p=m.deletions;p===null?(m.deletions=[f],m.flags|=16):p.push(f)}}function n(m,f){if(!e)return null;for(;f!==null;)t(m,f),f=f.sibling;return null}function r(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function s(m,f){return m=An(m,f),m.index=0,m.sibling=null,m}function i(m,f,p){return m.index=p,e?(p=m.alternate,p!==null?(p=p.index,p<f?(m.flags|=2,f):p):(m.flags|=2,f)):(m.flags|=1048576,f)}function a(m){return e&&m.alternate===null&&(m.flags|=2),m}function o(m,f,p,v){return f===null||f.tag!==6?(f=gl(p,m.mode,v),f.return=m,f):(f=s(f,p),f.return=m,f)}function l(m,f,p,v){var k=p.type;return k===Sr?c(m,f,p.props.children,v,p.key):f!==null&&(f.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===hn&&hd(k)===f.type)?(v=s(f,p.props),v.ref=us(m,f,p),v.return=m,v):(v=fa(p.type,p.key,p.props,null,m.mode,v),v.ref=us(m,f,p),v.return=m,v)}function u(m,f,p,v){return f===null||f.tag!==4||f.stateNode.containerInfo!==p.containerInfo||f.stateNode.implementation!==p.implementation?(f=vl(p,m.mode,v),f.return=m,f):(f=s(f,p.children||[]),f.return=m,f)}function c(m,f,p,v,k){return f===null||f.tag!==7?(f=Gn(p,m.mode,v,k),f.return=m,f):(f=s(f,p),f.return=m,f)}function d(m,f,p){if(typeof f=="string"&&f!==""||typeof f=="number")return f=gl(""+f,m.mode,p),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Ai:return p=fa(f.type,f.key,f.props,null,m.mode,p),p.ref=us(m,null,f),p.return=m,p;case wr:return f=vl(f,m.mode,p),f.return=m,f;case hn:var v=f._init;return d(m,v(f._payload),p)}if(ms(f)||ss(f))return f=Gn(f,m.mode,p,null),f.return=m,f;Fi(m,f)}return null}function h(m,f,p,v){var k=f!==null?f.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return k!==null?null:o(m,f,""+p,v);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ai:return p.key===k?l(m,f,p,v):null;case wr:return p.key===k?u(m,f,p,v):null;case hn:return k=p._init,h(m,f,k(p._payload),v)}if(ms(p)||ss(p))return k!==null?null:c(m,f,p,v,null);Fi(m,p)}return null}function g(m,f,p,v,k){if(typeof v=="string"&&v!==""||typeof v=="number")return m=m.get(p)||null,o(f,m,""+v,k);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ai:return m=m.get(v.key===null?p:v.key)||null,l(f,m,v,k);case wr:return m=m.get(v.key===null?p:v.key)||null,u(f,m,v,k);case hn:var C=v._init;return g(m,f,p,C(v._payload),k)}if(ms(v)||ss(v))return m=m.get(p)||null,c(f,m,v,k,null);Fi(f,v)}return null}function _(m,f,p,v){for(var k=null,C=null,b=f,I=f=0,B=null;b!==null&&I<p.length;I++){b.index>I?(B=b,b=null):B=b.sibling;var M=h(m,b,p[I],v);if(M===null){b===null&&(b=B);break}e&&b&&M.alternate===null&&t(m,b),f=i(M,f,I),C===null?k=M:C.sibling=M,C=M,b=B}if(I===p.length)return n(m,b),se&&jn(m,I),k;if(b===null){for(;I<p.length;I++)b=d(m,p[I],v),b!==null&&(f=i(b,f,I),C===null?k=b:C.sibling=b,C=b);return se&&jn(m,I),k}for(b=r(m,b);I<p.length;I++)B=g(b,m,I,p[I],v),B!==null&&(e&&B.alternate!==null&&b.delete(B.key===null?I:B.key),f=i(B,f,I),C===null?k=B:C.sibling=B,C=B);return e&&b.forEach(function(W){return t(m,W)}),se&&jn(m,I),k}function S(m,f,p,v){var k=ss(p);if(typeof k!="function")throw Error(A(150));if(p=k.call(p),p==null)throw Error(A(151));for(var C=k=null,b=f,I=f=0,B=null,M=p.next();b!==null&&!M.done;I++,M=p.next()){b.index>I?(B=b,b=null):B=b.sibling;var W=h(m,b,M.value,v);if(W===null){b===null&&(b=B);break}e&&b&&W.alternate===null&&t(m,b),f=i(W,f,I),C===null?k=W:C.sibling=W,C=W,b=B}if(M.done)return n(m,b),se&&jn(m,I),k;if(b===null){for(;!M.done;I++,M=p.next())M=d(m,M.value,v),M!==null&&(f=i(M,f,I),C===null?k=M:C.sibling=M,C=M);return se&&jn(m,I),k}for(b=r(m,b);!M.done;I++,M=p.next())M=g(b,m,I,M.value,v),M!==null&&(e&&M.alternate!==null&&b.delete(M.key===null?I:M.key),f=i(M,f,I),C===null?k=M:C.sibling=M,C=M);return e&&b.forEach(function(Le){return t(m,Le)}),se&&jn(m,I),k}function O(m,f,p,v){if(typeof p=="object"&&p!==null&&p.type===Sr&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Ai:e:{for(var k=p.key,C=f;C!==null;){if(C.key===k){if(k=p.type,k===Sr){if(C.tag===7){n(m,C.sibling),f=s(C,p.props.children),f.return=m,m=f;break e}}else if(C.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===hn&&hd(k)===C.type){n(m,C.sibling),f=s(C,p.props),f.ref=us(m,C,p),f.return=m,m=f;break e}n(m,C);break}else t(m,C);C=C.sibling}p.type===Sr?(f=Gn(p.props.children,m.mode,v,p.key),f.return=m,m=f):(v=fa(p.type,p.key,p.props,null,m.mode,v),v.ref=us(m,f,p),v.return=m,m=v)}return a(m);case wr:e:{for(C=p.key;f!==null;){if(f.key===C)if(f.tag===4&&f.stateNode.containerInfo===p.containerInfo&&f.stateNode.implementation===p.implementation){n(m,f.sibling),f=s(f,p.children||[]),f.return=m,m=f;break e}else{n(m,f);break}else t(m,f);f=f.sibling}f=vl(p,m.mode,v),f.return=m,m=f}return a(m);case hn:return C=p._init,O(m,f,C(p._payload),v)}if(ms(p))return _(m,f,p,v);if(ss(p))return S(m,f,p,v);Fi(m,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,f!==null&&f.tag===6?(n(m,f.sibling),f=s(f,p),f.return=m,m=f):(n(m,f),f=gl(p,m.mode,v),f.return=m,m=f),a(m)):n(m,f)}return O}var Hr=Hp(!0),Gp=Hp(!1),Fa=Pn(null),$a=null,Rr=null,kc=null;function xc(){kc=Rr=$a=null}function Cc(e){var t=Fa.current;ne(Fa),e._currentValue=t}function hu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Br(e,t){$a=e,kc=Rr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ue=!0),e.firstContext=null)}function pt(e){var t=e._currentValue;if(kc!==e)if(e={context:e,memoizedValue:t,next:null},Rr===null){if($a===null)throw Error(A(308));Rr=e,$a.dependencies={lanes:0,firstContext:e}}else Rr=Rr.next=e;return t}var Un=null;function Ac(e){Un===null?Un=[e]:Un.push(e)}function Yp(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Ac(t)):(n.next=s.next,s.next=n),t.interleaved=n,nn(e,r)}function nn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var pn=!1;function Oc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function kn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,K&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,nn(e,n)}return s=r.interleaved,s===null?(t.next=t,Ac(r)):(t.next=s.next,s.next=t),r.interleaved=t,nn(e,n)}function ia(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,hc(e,n)}}function pd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ba(e,t,n,r){var s=e.updateQueue;pn=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?i=u:a.next=u,a=l;var c=e.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;a=0,c=u=l=null,o=i;do{var h=o.lane,g=o.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var _=e,S=o;switch(h=t,g=n,S.tag){case 1:if(_=S.payload,typeof _=="function"){d=_.call(g,d,h);break e}d=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=S.payload,h=typeof _=="function"?_.call(g,d,h):_,h==null)break e;d=oe({},d,h);break e;case 2:pn=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[o]:h.push(o))}else g={eventTime:g,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=g,l=d):c=c.next=g,a|=h;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;h=o,o=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(c===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Qn|=a,e.lanes=a,e.memoizedState=d}}function md(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(A(191,s));s.call(r)}}}var pi={},$t=Pn(pi),Zs=Pn(pi),ei=Pn(pi);function zn(e){if(e===pi)throw Error(A(174));return e}function Rc(e,t){switch(Z(ei,t),Z(Zs,e),Z($t,pi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Yl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Yl(t,e)}ne($t),Z($t,t)}function Gr(){ne($t),ne(Zs),ne(ei)}function Jp(e){zn(ei.current);var t=zn($t.current),n=Yl(t,e.type);t!==n&&(Z(Zs,e),Z($t,n))}function Tc(e){Zs.current===e&&(ne($t),ne(Zs))}var ie=Pn(0);function Ua(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cl=[];function Pc(){for(var e=0;e<cl.length;e++)cl[e]._workInProgressVersionPrimary=null;cl.length=0}var aa=on.ReactCurrentDispatcher,fl=on.ReactCurrentBatchConfig,qn=0,ae=null,pe=null,ye=null,za=!1,Ds=!1,ti=0,h_=0;function Oe(){throw Error(A(321))}function Dc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xt(e[n],t[n]))return!1;return!0}function Ic(e,t,n,r,s,i){if(qn=i,ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,aa.current=e===null||e.memoizedState===null?v_:y_,e=n(r,s),Ds){i=0;do{if(Ds=!1,ti=0,25<=i)throw Error(A(301));i+=1,ye=pe=null,t.updateQueue=null,aa.current=__,e=n(r,s)}while(Ds)}if(aa.current=Va,t=pe!==null&&pe.next!==null,qn=0,ye=pe=ae=null,za=!1,t)throw Error(A(300));return e}function Nc(){var e=ti!==0;return ti=0,e}function Dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?ae.memoizedState=ye=e:ye=ye.next=e,ye}function mt(){if(pe===null){var e=ae.alternate;e=e!==null?e.memoizedState:null}else e=pe.next;var t=ye===null?ae.memoizedState:ye.next;if(t!==null)ye=t,pe=e;else{if(e===null)throw Error(A(310));pe=e,e={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},ye===null?ae.memoizedState=ye=e:ye=ye.next=e}return ye}function ni(e,t){return typeof t=="function"?t(e):t}function dl(e){var t=mt(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var r=pe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=a=null,l=null,u=i;do{var c=u.lane;if((qn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,a=r):l=l.next=d,ae.lanes|=c,Qn|=c}u=u.next}while(u!==null&&u!==i);l===null?a=r:l.next=o,xt(r,t.memoizedState)||(Ue=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ae.lanes|=i,Qn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function hl(e){var t=mt(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);xt(i,t.memoizedState)||(Ue=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function qp(){}function Qp(e,t){var n=ae,r=mt(),s=t(),i=!xt(r.memoizedState,s);if(i&&(r.memoizedState=s,Ue=!0),r=r.queue,Mc(em.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ye!==null&&ye.memoizedState.tag&1){if(n.flags|=2048,ri(9,Zp.bind(null,n,r,s,t),void 0,null),_e===null)throw Error(A(349));qn&30||Xp(n,t,s)}return s}function Xp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Zp(e,t,n,r){t.value=n,t.getSnapshot=r,tm(t)&&nm(e)}function em(e,t,n){return n(function(){tm(t)&&nm(e)})}function tm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xt(e,n)}catch{return!0}}function nm(e){var t=nn(e,1);t!==null&&Et(t,e,1,-1)}function gd(e){var t=Dt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:e},t.queue=e,e=e.dispatch=g_.bind(null,ae,e),[t.memoizedState,e]}function ri(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function rm(){return mt().memoizedState}function oa(e,t,n,r){var s=Dt();ae.flags|=e,s.memoizedState=ri(1|t,n,void 0,r===void 0?null:r)}function So(e,t,n,r){var s=mt();r=r===void 0?null:r;var i=void 0;if(pe!==null){var a=pe.memoizedState;if(i=a.destroy,r!==null&&Dc(r,a.deps)){s.memoizedState=ri(t,n,i,r);return}}ae.flags|=e,s.memoizedState=ri(1|t,n,i,r)}function vd(e,t){return oa(8390656,8,e,t)}function Mc(e,t){return So(2048,8,e,t)}function sm(e,t){return So(4,2,e,t)}function im(e,t){return So(4,4,e,t)}function am(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function om(e,t,n){return n=n!=null?n.concat([e]):null,So(4,4,am.bind(null,t,e),n)}function jc(){}function lm(e,t){var n=mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Dc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function um(e,t){var n=mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Dc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function cm(e,t,n){return qn&21?(xt(n,t)||(n=mp(),ae.lanes|=n,Qn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ue=!0),e.memoizedState=n)}function p_(e,t){var n=X;X=n!==0&&4>n?n:4,e(!0);var r=fl.transition;fl.transition={};try{e(!1),t()}finally{X=n,fl.transition=r}}function fm(){return mt().memoizedState}function m_(e,t,n){var r=Cn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},dm(e))hm(t,n);else if(n=Yp(e,t,n,r),n!==null){var s=Ne();Et(n,e,r,s),pm(n,t,r)}}function g_(e,t,n){var r=Cn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(dm(e))hm(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,xt(o,a)){var l=t.interleaved;l===null?(s.next=s,Ac(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=Yp(e,t,s,r),n!==null&&(s=Ne(),Et(n,e,r,s),pm(n,t,r))}}function dm(e){var t=e.alternate;return e===ae||t!==null&&t===ae}function hm(e,t){Ds=za=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function pm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,hc(e,n)}}var Va={readContext:pt,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useInsertionEffect:Oe,useLayoutEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useMutableSource:Oe,useSyncExternalStore:Oe,useId:Oe,unstable_isNewReconciler:!1},v_={readContext:pt,useCallback:function(e,t){return Dt().memoizedState=[e,t===void 0?null:t],e},useContext:pt,useEffect:vd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,oa(4194308,4,am.bind(null,t,e),n)},useLayoutEffect:function(e,t){return oa(4194308,4,e,t)},useInsertionEffect:function(e,t){return oa(4,2,e,t)},useMemo:function(e,t){var n=Dt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Dt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=m_.bind(null,ae,e),[r.memoizedState,e]},useRef:function(e){var t=Dt();return e={current:e},t.memoizedState=e},useState:gd,useDebugValue:jc,useDeferredValue:function(e){return Dt().memoizedState=e},useTransition:function(){var e=gd(!1),t=e[0];return e=p_.bind(null,e[1]),Dt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ae,s=Dt();if(se){if(n===void 0)throw Error(A(407));n=n()}else{if(n=t(),_e===null)throw Error(A(349));qn&30||Xp(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,vd(em.bind(null,r,i,e),[e]),r.flags|=2048,ri(9,Zp.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Dt(),t=_e.identifierPrefix;if(se){var n=qt,r=Jt;n=(r&~(1<<32-St(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ti++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=h_++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},y_={readContext:pt,useCallback:lm,useContext:pt,useEffect:Mc,useImperativeHandle:om,useInsertionEffect:sm,useLayoutEffect:im,useMemo:um,useReducer:dl,useRef:rm,useState:function(){return dl(ni)},useDebugValue:jc,useDeferredValue:function(e){var t=mt();return cm(t,pe.memoizedState,e)},useTransition:function(){var e=dl(ni)[0],t=mt().memoizedState;return[e,t]},useMutableSource:qp,useSyncExternalStore:Qp,useId:fm,unstable_isNewReconciler:!1},__={readContext:pt,useCallback:lm,useContext:pt,useEffect:Mc,useImperativeHandle:om,useInsertionEffect:sm,useLayoutEffect:im,useMemo:um,useReducer:hl,useRef:rm,useState:function(){return hl(ni)},useDebugValue:jc,useDeferredValue:function(e){var t=mt();return pe===null?t.memoizedState=e:cm(t,pe.memoizedState,e)},useTransition:function(){var e=hl(ni)[0],t=mt().memoizedState;return[e,t]},useMutableSource:qp,useSyncExternalStore:Qp,useId:fm,unstable_isNewReconciler:!1};function vt(e,t){if(e&&e.defaultProps){t=oe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function pu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:oe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Eo={isMounted:function(e){return(e=e._reactInternals)?ir(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ne(),s=Cn(e),i=Qt(r,s);i.payload=t,n!=null&&(i.callback=n),t=kn(e,i,s),t!==null&&(Et(t,e,s,r),ia(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ne(),s=Cn(e),i=Qt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=kn(e,i,s),t!==null&&(Et(t,e,s,r),ia(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ne(),r=Cn(e),s=Qt(n,r);s.tag=2,t!=null&&(s.callback=t),t=kn(e,s,r),t!==null&&(Et(t,e,r,n),ia(t,e,r))}};function yd(e,t,n,r,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!Js(n,r)||!Js(s,i):!0}function mm(e,t,n){var r=!1,s=Rn,i=t.contextType;return typeof i=="object"&&i!==null?i=pt(i):(s=Ve(t)?Kn:Pe.current,r=t.contextTypes,i=(r=r!=null)?Vr(e,s):Rn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Eo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function _d(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Eo.enqueueReplaceState(t,t.state,null)}function mu(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Oc(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=pt(i):(i=Ve(t)?Kn:Pe.current,s.context=Vr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(pu(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Eo.enqueueReplaceState(s,s.state,null),Ba(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Yr(e,t){try{var n="",r=t;do n+=Yy(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function pl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function gu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var w_=typeof WeakMap=="function"?WeakMap:Map;function gm(e,t,n){n=Qt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ha||(Ha=!0,Cu=r),gu(e,t)},n}function vm(e,t,n){n=Qt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){gu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){gu(e,t),typeof r!="function"&&(xn===null?xn=new Set([this]):xn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function wd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new w_;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=N_.bind(null,e,t,n),t.then(e,e))}function Sd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ed(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Qt(-1,1),t.tag=2,kn(n,t,1))),n.lanes|=1),e)}var S_=on.ReactCurrentOwner,Ue=!1;function Ie(e,t,n,r){t.child=e===null?Gp(t,null,n,r):Hr(t,e.child,n,r)}function bd(e,t,n,r,s){n=n.render;var i=t.ref;return Br(t,s),r=Ic(e,t,n,r,i,s),n=Nc(),e!==null&&!Ue?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,rn(e,t,s)):(se&&n&&Sc(t),t.flags|=1,Ie(e,t,r,s),t.child)}function kd(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Wc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,ym(e,t,i,r,s)):(e=fa(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Js,n(a,r)&&e.ref===t.ref)return rn(e,t,s)}return t.flags|=1,e=An(i,r),e.ref=t.ref,e.return=t,t.child=e}function ym(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Js(i,r)&&e.ref===t.ref)if(Ue=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Ue=!0);else return t.lanes=e.lanes,rn(e,t,s)}return vu(e,t,n,r,s)}function _m(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Z(Pr,Je),Je|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Z(Pr,Je),Je|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Z(Pr,Je),Je|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Z(Pr,Je),Je|=r;return Ie(e,t,s,n),t.child}function wm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function vu(e,t,n,r,s){var i=Ve(n)?Kn:Pe.current;return i=Vr(t,i),Br(t,s),n=Ic(e,t,n,r,i,s),r=Nc(),e!==null&&!Ue?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,rn(e,t,s)):(se&&r&&Sc(t),t.flags|=1,Ie(e,t,n,s),t.child)}function xd(e,t,n,r,s){if(Ve(n)){var i=!0;Ma(t)}else i=!1;if(Br(t,s),t.stateNode===null)la(e,t),mm(t,n,r),mu(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=pt(u):(u=Ve(n)?Kn:Pe.current,u=Vr(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&_d(t,a,r,u),pn=!1;var h=t.memoizedState;a.state=h,Ba(t,r,a,s),l=t.memoizedState,o!==r||h!==l||ze.current||pn?(typeof c=="function"&&(pu(t,n,c,r),l=t.memoizedState),(o=pn||yd(t,n,o,r,h,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Kp(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:vt(t.type,o),a.props=u,d=t.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=pt(l):(l=Ve(n)?Kn:Pe.current,l=Vr(t,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||h!==l)&&_d(t,a,r,l),pn=!1,h=t.memoizedState,a.state=h,Ba(t,r,a,s);var _=t.memoizedState;o!==d||h!==_||ze.current||pn?(typeof g=="function"&&(pu(t,n,g,r),_=t.memoizedState),(u=pn||yd(t,n,u,r,h,_,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,_,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,_,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=_),a.props=r,a.state=_,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return yu(e,t,n,r,i,s)}function yu(e,t,n,r,s,i){wm(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&cd(t,n,!1),rn(e,t,i);r=t.stateNode,S_.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Hr(t,e.child,null,i),t.child=Hr(t,null,o,i)):Ie(e,t,o,i),t.memoizedState=r.state,s&&cd(t,n,!0),t.child}function Sm(e){var t=e.stateNode;t.pendingContext?ud(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ud(e,t.context,!1),Rc(e,t.containerInfo)}function Cd(e,t,n,r,s){return Wr(),bc(s),t.flags|=256,Ie(e,t,n,r),t.child}var _u={dehydrated:null,treeContext:null,retryLane:0};function wu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Em(e,t,n){var r=t.pendingProps,s=ie.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Z(ie,s&1),e===null)return du(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=xo(a,r,0,null),e=Gn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=wu(n),t.memoizedState=_u,e):Lc(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return E_(e,t,a,r,o,s,n);if(i){i=r.fallback,a=t.mode,s=e.child,o=s.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=An(s,l),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=An(o,i):(i=Gn(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?wu(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=_u,r}return i=e.child,e=i.sibling,r=An(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Lc(e,t){return t=xo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function $i(e,t,n,r){return r!==null&&bc(r),Hr(t,e.child,null,n),e=Lc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function E_(e,t,n,r,s,i,a){if(n)return t.flags&256?(t.flags&=-257,r=pl(Error(A(422))),$i(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=xo({mode:"visible",children:r.children},s,0,null),i=Gn(i,s,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Hr(t,e.child,null,a),t.child.memoizedState=wu(a),t.memoizedState=_u,i);if(!(t.mode&1))return $i(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(A(419)),r=pl(i,r,void 0),$i(e,t,a,r)}if(o=(a&e.childLanes)!==0,Ue||o){if(r=_e,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,nn(e,s),Et(r,e,s,-1))}return Vc(),r=pl(Error(A(421))),$i(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=M_.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Xe=bn(s.nextSibling),Ze=t,se=!0,wt=null,e!==null&&(it[at++]=Jt,it[at++]=qt,it[at++]=Jn,Jt=e.id,qt=e.overflow,Jn=t),t=Lc(t,r.children),t.flags|=4096,t)}function Ad(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),hu(e.return,t,n)}function ml(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function bm(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Ie(e,t,r.children,n),r=ie.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ad(e,n,t);else if(e.tag===19)Ad(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Z(ie,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ua(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),ml(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ua(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}ml(t,!0,n,null,i);break;case"together":ml(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function la(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function rn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Qn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(A(153));if(t.child!==null){for(e=t.child,n=An(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=An(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function b_(e,t,n){switch(t.tag){case 3:Sm(t),Wr();break;case 5:Jp(t);break;case 1:Ve(t.type)&&Ma(t);break;case 4:Rc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Z(Fa,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Z(ie,ie.current&1),t.flags|=128,null):n&t.child.childLanes?Em(e,t,n):(Z(ie,ie.current&1),e=rn(e,t,n),e!==null?e.sibling:null);Z(ie,ie.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return bm(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Z(ie,ie.current),r)break;return null;case 22:case 23:return t.lanes=0,_m(e,t,n)}return rn(e,t,n)}var km,Su,xm,Cm;km=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Su=function(){};xm=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,zn($t.current);var i=null;switch(n){case"input":s=Vl(e,s),r=Vl(e,r),i=[];break;case"select":s=oe({},s,{value:void 0}),r=oe({},r,{value:void 0}),i=[];break;case"textarea":s=Gl(e,s),r=Gl(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ia)}Kl(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(zs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(o=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(zs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&te("scroll",e),i||o===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Cm=function(e,t,n,r){n!==r&&(t.flags|=4)};function cs(e,t){if(!se)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Re(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function k_(e,t,n){var r=t.pendingProps;switch(Ec(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(t),null;case 1:return Ve(t.type)&&Na(),Re(t),null;case 3:return r=t.stateNode,Gr(),ne(ze),ne(Pe),Pc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Li(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,wt!==null&&(Ru(wt),wt=null))),Su(e,t),Re(t),null;case 5:Tc(t);var s=zn(ei.current);if(n=t.type,e!==null&&t.stateNode!=null)xm(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(A(166));return Re(t),null}if(e=zn($t.current),Li(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Nt]=t,r[Xs]=i,e=(t.mode&1)!==0,n){case"dialog":te("cancel",r),te("close",r);break;case"iframe":case"object":case"embed":te("load",r);break;case"video":case"audio":for(s=0;s<vs.length;s++)te(vs[s],r);break;case"source":te("error",r);break;case"img":case"image":case"link":te("error",r),te("load",r);break;case"details":te("toggle",r);break;case"input":jf(r,i),te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},te("invalid",r);break;case"textarea":Ff(r,i),te("invalid",r)}Kl(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&ji(r.textContent,o,e),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&ji(r.textContent,o,e),s=["children",""+o]):zs.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&te("scroll",r)}switch(n){case"input":Oi(r),Lf(r,i,!0);break;case"textarea":Oi(r),$f(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ia)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ep(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Nt]=t,e[Xs]=r,km(e,t,!1,!1),t.stateNode=e;e:{switch(a=Jl(n,r),n){case"dialog":te("cancel",e),te("close",e),s=r;break;case"iframe":case"object":case"embed":te("load",e),s=r;break;case"video":case"audio":for(s=0;s<vs.length;s++)te(vs[s],e);s=r;break;case"source":te("error",e),s=r;break;case"img":case"image":case"link":te("error",e),te("load",e),s=r;break;case"details":te("toggle",e),s=r;break;case"input":jf(e,r),s=Vl(e,r),te("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=oe({},r,{value:void 0}),te("invalid",e);break;case"textarea":Ff(e,r),s=Gl(e,r),te("invalid",e);break;default:s=r}Kl(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?rp(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&tp(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Vs(e,l):typeof l=="number"&&Vs(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(zs.hasOwnProperty(i)?l!=null&&i==="onScroll"&&te("scroll",e):l!=null&&oc(e,i,l,a))}switch(n){case"input":Oi(e),Lf(e,r,!1);break;case"textarea":Oi(e),$f(e);break;case"option":r.value!=null&&e.setAttribute("value",""+On(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?jr(e,!!r.multiple,i,!1):r.defaultValue!=null&&jr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ia)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Re(t),null;case 6:if(e&&t.stateNode!=null)Cm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(A(166));if(n=zn(ei.current),zn($t.current),Li(t)){if(r=t.stateNode,n=t.memoizedProps,r[Nt]=t,(i=r.nodeValue!==n)&&(e=Ze,e!==null))switch(e.tag){case 3:ji(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ji(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Nt]=t,t.stateNode=r}return Re(t),null;case 13:if(ne(ie),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(se&&Xe!==null&&t.mode&1&&!(t.flags&128))Wp(),Wr(),t.flags|=98560,i=!1;else if(i=Li(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(A(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(A(317));i[Nt]=t}else Wr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Re(t),i=!1}else wt!==null&&(Ru(wt),wt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ie.current&1?me===0&&(me=3):Vc())),t.updateQueue!==null&&(t.flags|=4),Re(t),null);case 4:return Gr(),Su(e,t),e===null&&qs(t.stateNode.containerInfo),Re(t),null;case 10:return Cc(t.type._context),Re(t),null;case 17:return Ve(t.type)&&Na(),Re(t),null;case 19:if(ne(ie),i=t.memoizedState,i===null)return Re(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)cs(i,!1);else{if(me!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Ua(e),a!==null){for(t.flags|=128,cs(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Z(ie,ie.current&1|2),t.child}e=e.sibling}i.tail!==null&&ue()>Kr&&(t.flags|=128,r=!0,cs(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ua(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),cs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!se)return Re(t),null}else 2*ue()-i.renderingStartTime>Kr&&n!==1073741824&&(t.flags|=128,r=!0,cs(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ue(),t.sibling=null,n=ie.current,Z(ie,r?n&1|2:n&1),t):(Re(t),null);case 22:case 23:return zc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Je&1073741824&&(Re(t),t.subtreeFlags&6&&(t.flags|=8192)):Re(t),null;case 24:return null;case 25:return null}throw Error(A(156,t.tag))}function x_(e,t){switch(Ec(t),t.tag){case 1:return Ve(t.type)&&Na(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Gr(),ne(ze),ne(Pe),Pc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Tc(t),null;case 13:if(ne(ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(A(340));Wr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ne(ie),null;case 4:return Gr(),null;case 10:return Cc(t.type._context),null;case 22:case 23:return zc(),null;case 24:return null;default:return null}}var Bi=!1,Te=!1,C_=typeof WeakSet=="function"?WeakSet:Set,N=null;function Tr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){le(e,t,r)}else n.current=null}function Eu(e,t,n){try{n()}catch(r){le(e,t,r)}}var Od=!1;function A_(e,t){if(iu=Ta,e=Pp(),wc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var g;d!==n||s!==0&&d.nodeType!==3||(o=a+s),d!==i||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(g=d.firstChild)!==null;)h=d,d=g;for(;;){if(d===e)break t;if(h===n&&++u===s&&(o=a),h===i&&++c===r&&(l=a),(g=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=g}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(au={focusedElem:e,selectionRange:n},Ta=!1,N=t;N!==null;)if(t=N,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,N=e;else for(;N!==null;){t=N;try{var _=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var S=_.memoizedProps,O=_.memoizedState,m=t.stateNode,f=m.getSnapshotBeforeUpdate(t.elementType===t.type?S:vt(t.type,S),O);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(v){le(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,N=e;break}N=t.return}return _=Od,Od=!1,_}function Is(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Eu(t,n,i)}s=s.next}while(s!==r)}}function bo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function bu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Am(e){var t=e.alternate;t!==null&&(e.alternate=null,Am(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Nt],delete t[Xs],delete t[uu],delete t[u_],delete t[c_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Om(e){return e.tag===5||e.tag===3||e.tag===4}function Rd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Om(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ku(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ia));else if(r!==4&&(e=e.child,e!==null))for(ku(e,t,n),e=e.sibling;e!==null;)ku(e,t,n),e=e.sibling}function xu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(xu(e,t,n),e=e.sibling;e!==null;)xu(e,t,n),e=e.sibling}var Se=null,_t=!1;function cn(e,t,n){for(n=n.child;n!==null;)Rm(e,t,n),n=n.sibling}function Rm(e,t,n){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(mo,n)}catch{}switch(n.tag){case 5:Te||Tr(n,t);case 6:var r=Se,s=_t;Se=null,cn(e,t,n),Se=r,_t=s,Se!==null&&(_t?(e=Se,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Se.removeChild(n.stateNode));break;case 18:Se!==null&&(_t?(e=Se,n=n.stateNode,e.nodeType===8?ll(e.parentNode,n):e.nodeType===1&&ll(e,n),Ys(e)):ll(Se,n.stateNode));break;case 4:r=Se,s=_t,Se=n.stateNode.containerInfo,_t=!0,cn(e,t,n),Se=r,_t=s;break;case 0:case 11:case 14:case 15:if(!Te&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Eu(n,t,a),s=s.next}while(s!==r)}cn(e,t,n);break;case 1:if(!Te&&(Tr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){le(n,t,o)}cn(e,t,n);break;case 21:cn(e,t,n);break;case 22:n.mode&1?(Te=(r=Te)||n.memoizedState!==null,cn(e,t,n),Te=r):cn(e,t,n);break;default:cn(e,t,n)}}function Td(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new C_),t.forEach(function(r){var s=j_.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function gt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Se=o.stateNode,_t=!1;break e;case 3:Se=o.stateNode.containerInfo,_t=!0;break e;case 4:Se=o.stateNode.containerInfo,_t=!0;break e}o=o.return}if(Se===null)throw Error(A(160));Rm(i,a,s),Se=null,_t=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){le(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Tm(t,e),t=t.sibling}function Tm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gt(t,e),Tt(e),r&4){try{Is(3,e,e.return),bo(3,e)}catch(S){le(e,e.return,S)}try{Is(5,e,e.return)}catch(S){le(e,e.return,S)}}break;case 1:gt(t,e),Tt(e),r&512&&n!==null&&Tr(n,n.return);break;case 5:if(gt(t,e),Tt(e),r&512&&n!==null&&Tr(n,n.return),e.flags&32){var s=e.stateNode;try{Vs(s,"")}catch(S){le(e,e.return,S)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Xh(s,i),Jl(o,a);var u=Jl(o,i);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?rp(s,d):c==="dangerouslySetInnerHTML"?tp(s,d):c==="children"?Vs(s,d):oc(s,c,d,u)}switch(o){case"input":Wl(s,i);break;case"textarea":Zh(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?jr(s,!!i.multiple,g,!1):h!==!!i.multiple&&(i.defaultValue!=null?jr(s,!!i.multiple,i.defaultValue,!0):jr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Xs]=i}catch(S){le(e,e.return,S)}}break;case 6:if(gt(t,e),Tt(e),r&4){if(e.stateNode===null)throw Error(A(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(S){le(e,e.return,S)}}break;case 3:if(gt(t,e),Tt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ys(t.containerInfo)}catch(S){le(e,e.return,S)}break;case 4:gt(t,e),Tt(e);break;case 13:gt(t,e),Tt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Bc=ue())),r&4&&Td(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Te=(u=Te)||c,gt(t,e),Te=u):gt(t,e),Tt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(N=e,c=e.child;c!==null;){for(d=N=c;N!==null;){switch(h=N,g=h.child,h.tag){case 0:case 11:case 14:case 15:Is(4,h,h.return);break;case 1:Tr(h,h.return);var _=h.stateNode;if(typeof _.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,_.props=t.memoizedProps,_.state=t.memoizedState,_.componentWillUnmount()}catch(S){le(r,n,S)}}break;case 5:Tr(h,h.return);break;case 22:if(h.memoizedState!==null){Dd(d);continue}}g!==null?(g.return=h,N=g):Dd(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=np("display",a))}catch(S){le(e,e.return,S)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(S){le(e,e.return,S)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gt(t,e),Tt(e),r&4&&Td(e);break;case 21:break;default:gt(t,e),Tt(e)}}function Tt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Om(n)){var r=n;break e}n=n.return}throw Error(A(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Vs(s,""),r.flags&=-33);var i=Rd(e);xu(e,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,o=Rd(e);ku(e,o,a);break;default:throw Error(A(161))}}catch(l){le(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function O_(e,t,n){N=e,Pm(e)}function Pm(e,t,n){for(var r=(e.mode&1)!==0;N!==null;){var s=N,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||Bi;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||Te;o=Bi;var u=Te;if(Bi=a,(Te=l)&&!u)for(N=s;N!==null;)a=N,l=a.child,a.tag===22&&a.memoizedState!==null?Id(s):l!==null?(l.return=a,N=l):Id(s);for(;i!==null;)N=i,Pm(i),i=i.sibling;N=s,Bi=o,Te=u}Pd(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,N=i):Pd(e)}}function Pd(e){for(;N!==null;){var t=N;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Te||bo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Te)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:vt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&md(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}md(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Ys(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}Te||t.flags&512&&bu(t)}catch(h){le(t,t.return,h)}}if(t===e){N=null;break}if(n=t.sibling,n!==null){n.return=t.return,N=n;break}N=t.return}}function Dd(e){for(;N!==null;){var t=N;if(t===e){N=null;break}var n=t.sibling;if(n!==null){n.return=t.return,N=n;break}N=t.return}}function Id(e){for(;N!==null;){var t=N;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{bo(4,t)}catch(l){le(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){le(t,s,l)}}var i=t.return;try{bu(t)}catch(l){le(t,i,l)}break;case 5:var a=t.return;try{bu(t)}catch(l){le(t,a,l)}}}catch(l){le(t,t.return,l)}if(t===e){N=null;break}var o=t.sibling;if(o!==null){o.return=t.return,N=o;break}N=t.return}}var R_=Math.ceil,Wa=on.ReactCurrentDispatcher,Fc=on.ReactCurrentOwner,ht=on.ReactCurrentBatchConfig,K=0,_e=null,ce=null,xe=0,Je=0,Pr=Pn(0),me=0,si=null,Qn=0,ko=0,$c=0,Ns=null,Be=null,Bc=0,Kr=1/0,Ht=null,Ha=!1,Cu=null,xn=null,Ui=!1,yn=null,Ga=0,Ms=0,Au=null,ua=-1,ca=0;function Ne(){return K&6?ue():ua!==-1?ua:ua=ue()}function Cn(e){return e.mode&1?K&2&&xe!==0?xe&-xe:d_.transition!==null?(ca===0&&(ca=mp()),ca):(e=X,e!==0||(e=window.event,e=e===void 0?16:Ep(e.type)),e):1}function Et(e,t,n,r){if(50<Ms)throw Ms=0,Au=null,Error(A(185));fi(e,n,r),(!(K&2)||e!==_e)&&(e===_e&&(!(K&2)&&(ko|=n),me===4&&gn(e,xe)),We(e,r),n===1&&K===0&&!(t.mode&1)&&(Kr=ue()+500,wo&&Dn()))}function We(e,t){var n=e.callbackNode;d0(e,t);var r=Ra(e,e===_e?xe:0);if(r===0)n!==null&&zf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&zf(n),t===1)e.tag===0?f_(Nd.bind(null,e)):Up(Nd.bind(null,e)),o_(function(){!(K&6)&&Dn()}),n=null;else{switch(gp(r)){case 1:n=dc;break;case 4:n=hp;break;case 16:n=Oa;break;case 536870912:n=pp;break;default:n=Oa}n=$m(n,Dm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Dm(e,t){if(ua=-1,ca=0,K&6)throw Error(A(327));var n=e.callbackNode;if(Ur()&&e.callbackNode!==n)return null;var r=Ra(e,e===_e?xe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ya(e,r);else{t=r;var s=K;K|=2;var i=Nm();(_e!==e||xe!==t)&&(Ht=null,Kr=ue()+500,Hn(e,t));do try{D_();break}catch(o){Im(e,o)}while(!0);xc(),Wa.current=i,K=s,ce!==null?t=0:(_e=null,xe=0,t=me)}if(t!==0){if(t===2&&(s=eu(e),s!==0&&(r=s,t=Ou(e,s))),t===1)throw n=si,Hn(e,0),gn(e,r),We(e,ue()),n;if(t===6)gn(e,r);else{if(s=e.current.alternate,!(r&30)&&!T_(s)&&(t=Ya(e,r),t===2&&(i=eu(e),i!==0&&(r=i,t=Ou(e,i))),t===1))throw n=si,Hn(e,0),gn(e,r),We(e,ue()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(A(345));case 2:Ln(e,Be,Ht);break;case 3:if(gn(e,r),(r&130023424)===r&&(t=Bc+500-ue(),10<t)){if(Ra(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ne(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=lu(Ln.bind(null,e,Be,Ht),t);break}Ln(e,Be,Ht);break;case 4:if(gn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-St(r);i=1<<a,a=t[a],a>s&&(s=a),r&=~i}if(r=s,r=ue()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*R_(r/1960))-r,10<r){e.timeoutHandle=lu(Ln.bind(null,e,Be,Ht),r);break}Ln(e,Be,Ht);break;case 5:Ln(e,Be,Ht);break;default:throw Error(A(329))}}}return We(e,ue()),e.callbackNode===n?Dm.bind(null,e):null}function Ou(e,t){var n=Ns;return e.current.memoizedState.isDehydrated&&(Hn(e,t).flags|=256),e=Ya(e,t),e!==2&&(t=Be,Be=n,t!==null&&Ru(t)),e}function Ru(e){Be===null?Be=e:Be.push.apply(Be,e)}function T_(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!xt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gn(e,t){for(t&=~$c,t&=~ko,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-St(t),r=1<<n;e[n]=-1,t&=~r}}function Nd(e){if(K&6)throw Error(A(327));Ur();var t=Ra(e,0);if(!(t&1))return We(e,ue()),null;var n=Ya(e,t);if(e.tag!==0&&n===2){var r=eu(e);r!==0&&(t=r,n=Ou(e,r))}if(n===1)throw n=si,Hn(e,0),gn(e,t),We(e,ue()),n;if(n===6)throw Error(A(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ln(e,Be,Ht),We(e,ue()),null}function Uc(e,t){var n=K;K|=1;try{return e(t)}finally{K=n,K===0&&(Kr=ue()+500,wo&&Dn())}}function Xn(e){yn!==null&&yn.tag===0&&!(K&6)&&Ur();var t=K;K|=1;var n=ht.transition,r=X;try{if(ht.transition=null,X=1,e)return e()}finally{X=r,ht.transition=n,K=t,!(K&6)&&Dn()}}function zc(){Je=Pr.current,ne(Pr)}function Hn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,a_(n)),ce!==null)for(n=ce.return;n!==null;){var r=n;switch(Ec(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Na();break;case 3:Gr(),ne(ze),ne(Pe),Pc();break;case 5:Tc(r);break;case 4:Gr();break;case 13:ne(ie);break;case 19:ne(ie);break;case 10:Cc(r.type._context);break;case 22:case 23:zc()}n=n.return}if(_e=e,ce=e=An(e.current,null),xe=Je=t,me=0,si=null,$c=ko=Qn=0,Be=Ns=null,Un!==null){for(t=0;t<Un.length;t++)if(n=Un[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Un=null}return e}function Im(e,t){do{var n=ce;try{if(xc(),aa.current=Va,za){for(var r=ae.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}za=!1}if(qn=0,ye=pe=ae=null,Ds=!1,ti=0,Fc.current=null,n===null||n.return===null){me=1,si=t,ce=null;break}e:{var i=e,a=n.return,o=n,l=t;if(t=xe,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=Sd(a);if(g!==null){g.flags&=-257,Ed(g,a,o,i,t),g.mode&1&&wd(i,u,t),t=g,l=u;var _=t.updateQueue;if(_===null){var S=new Set;S.add(l),t.updateQueue=S}else _.add(l);break e}else{if(!(t&1)){wd(i,u,t),Vc();break e}l=Error(A(426))}}else if(se&&o.mode&1){var O=Sd(a);if(O!==null){!(O.flags&65536)&&(O.flags|=256),Ed(O,a,o,i,t),bc(Yr(l,o));break e}}i=l=Yr(l,o),me!==4&&(me=2),Ns===null?Ns=[i]:Ns.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=gm(i,l,t);pd(i,m);break e;case 1:o=l;var f=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(xn===null||!xn.has(p)))){i.flags|=65536,t&=-t,i.lanes|=t;var v=vm(i,o,t);pd(i,v);break e}}i=i.return}while(i!==null)}jm(n)}catch(k){t=k,ce===n&&n!==null&&(ce=n=n.return);continue}break}while(!0)}function Nm(){var e=Wa.current;return Wa.current=Va,e===null?Va:e}function Vc(){(me===0||me===3||me===2)&&(me=4),_e===null||!(Qn&268435455)&&!(ko&268435455)||gn(_e,xe)}function Ya(e,t){var n=K;K|=2;var r=Nm();(_e!==e||xe!==t)&&(Ht=null,Hn(e,t));do try{P_();break}catch(s){Im(e,s)}while(!0);if(xc(),K=n,Wa.current=r,ce!==null)throw Error(A(261));return _e=null,xe=0,me}function P_(){for(;ce!==null;)Mm(ce)}function D_(){for(;ce!==null&&!r0();)Mm(ce)}function Mm(e){var t=Fm(e.alternate,e,Je);e.memoizedProps=e.pendingProps,t===null?jm(e):ce=t,Fc.current=null}function jm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=x_(n,t),n!==null){n.flags&=32767,ce=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{me=6,ce=null;return}}else if(n=k_(n,t,Je),n!==null){ce=n;return}if(t=t.sibling,t!==null){ce=t;return}ce=t=e}while(t!==null);me===0&&(me=5)}function Ln(e,t,n){var r=X,s=ht.transition;try{ht.transition=null,X=1,I_(e,t,n,r)}finally{ht.transition=s,X=r}return null}function I_(e,t,n,r){do Ur();while(yn!==null);if(K&6)throw Error(A(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(A(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(h0(e,i),e===_e&&(ce=_e=null,xe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ui||(Ui=!0,$m(Oa,function(){return Ur(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ht.transition,ht.transition=null;var a=X;X=1;var o=K;K|=4,Fc.current=null,A_(e,n),Tm(n,e),Z0(au),Ta=!!iu,au=iu=null,e.current=n,O_(n),s0(),K=o,X=a,ht.transition=i}else e.current=n;if(Ui&&(Ui=!1,yn=e,Ga=s),i=e.pendingLanes,i===0&&(xn=null),o0(n.stateNode),We(e,ue()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ha)throw Ha=!1,e=Cu,Cu=null,e;return Ga&1&&e.tag!==0&&Ur(),i=e.pendingLanes,i&1?e===Au?Ms++:(Ms=0,Au=e):Ms=0,Dn(),null}function Ur(){if(yn!==null){var e=gp(Ga),t=ht.transition,n=X;try{if(ht.transition=null,X=16>e?16:e,yn===null)var r=!1;else{if(e=yn,yn=null,Ga=0,K&6)throw Error(A(331));var s=K;for(K|=4,N=e.current;N!==null;){var i=N,a=i.child;if(N.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(N=u;N!==null;){var c=N;switch(c.tag){case 0:case 11:case 15:Is(8,c,i)}var d=c.child;if(d!==null)d.return=c,N=d;else for(;N!==null;){c=N;var h=c.sibling,g=c.return;if(Am(c),c===u){N=null;break}if(h!==null){h.return=g,N=h;break}N=g}}}var _=i.alternate;if(_!==null){var S=_.child;if(S!==null){_.child=null;do{var O=S.sibling;S.sibling=null,S=O}while(S!==null)}}N=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,N=a;else e:for(;N!==null;){if(i=N,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Is(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,N=m;break e}N=i.return}}var f=e.current;for(N=f;N!==null;){a=N;var p=a.child;if(a.subtreeFlags&2064&&p!==null)p.return=a,N=p;else e:for(a=f;N!==null;){if(o=N,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:bo(9,o)}}catch(k){le(o,o.return,k)}if(o===a){N=null;break e}var v=o.sibling;if(v!==null){v.return=o.return,N=v;break e}N=o.return}}if(K=s,Dn(),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(mo,e)}catch{}r=!0}return r}finally{X=n,ht.transition=t}}return!1}function Md(e,t,n){t=Yr(n,t),t=gm(e,t,1),e=kn(e,t,1),t=Ne(),e!==null&&(fi(e,1,t),We(e,t))}function le(e,t,n){if(e.tag===3)Md(e,e,n);else for(;t!==null;){if(t.tag===3){Md(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xn===null||!xn.has(r))){e=Yr(n,e),e=vm(t,e,1),t=kn(t,e,1),e=Ne(),t!==null&&(fi(t,1,e),We(t,e));break}}t=t.return}}function N_(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ne(),e.pingedLanes|=e.suspendedLanes&n,_e===e&&(xe&n)===n&&(me===4||me===3&&(xe&130023424)===xe&&500>ue()-Bc?Hn(e,0):$c|=n),We(e,t)}function Lm(e,t){t===0&&(e.mode&1?(t=Pi,Pi<<=1,!(Pi&130023424)&&(Pi=4194304)):t=1);var n=Ne();e=nn(e,t),e!==null&&(fi(e,t,n),We(e,n))}function M_(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Lm(e,n)}function j_(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(A(314))}r!==null&&r.delete(t),Lm(e,n)}var Fm;Fm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ze.current)Ue=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ue=!1,b_(e,t,n);Ue=!!(e.flags&131072)}else Ue=!1,se&&t.flags&1048576&&zp(t,La,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;la(e,t),e=t.pendingProps;var s=Vr(t,Pe.current);Br(t,n),s=Ic(null,t,r,e,s,n);var i=Nc();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ve(r)?(i=!0,Ma(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Oc(t),s.updater=Eo,t.stateNode=s,s._reactInternals=t,mu(t,r,e,n),t=yu(null,t,r,!0,i,n)):(t.tag=0,se&&i&&Sc(t),Ie(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(la(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=F_(r),e=vt(r,e),s){case 0:t=vu(null,t,r,e,n);break e;case 1:t=xd(null,t,r,e,n);break e;case 11:t=bd(null,t,r,e,n);break e;case 14:t=kd(null,t,r,vt(r.type,e),n);break e}throw Error(A(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:vt(r,s),vu(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:vt(r,s),xd(e,t,r,s,n);case 3:e:{if(Sm(t),e===null)throw Error(A(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Kp(e,t),Ba(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Yr(Error(A(423)),t),t=Cd(e,t,r,n,s);break e}else if(r!==s){s=Yr(Error(A(424)),t),t=Cd(e,t,r,n,s);break e}else for(Xe=bn(t.stateNode.containerInfo.firstChild),Ze=t,se=!0,wt=null,n=Gp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wr(),r===s){t=rn(e,t,n);break e}Ie(e,t,r,n)}t=t.child}return t;case 5:return Jp(t),e===null&&du(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,ou(r,s)?a=null:i!==null&&ou(r,i)&&(t.flags|=32),wm(e,t),Ie(e,t,a,n),t.child;case 6:return e===null&&du(t),null;case 13:return Em(e,t,n);case 4:return Rc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Hr(t,null,r,n):Ie(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:vt(r,s),bd(e,t,r,s,n);case 7:return Ie(e,t,t.pendingProps,n),t.child;case 8:return Ie(e,t,t.pendingProps.children,n),t.child;case 12:return Ie(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,Z(Fa,r._currentValue),r._currentValue=a,i!==null)if(xt(i.value,a)){if(i.children===s.children&&!ze.current){t=rn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Qt(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),hu(i.return,n,t),o.lanes|=n;break}l=l.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(A(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),hu(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Ie(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Br(t,n),s=pt(s),r=r(s),t.flags|=1,Ie(e,t,r,n),t.child;case 14:return r=t.type,s=vt(r,t.pendingProps),s=vt(r.type,s),kd(e,t,r,s,n);case 15:return ym(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:vt(r,s),la(e,t),t.tag=1,Ve(r)?(e=!0,Ma(t)):e=!1,Br(t,n),mm(t,r,s),mu(t,r,s,n),yu(null,t,r,!0,e,n);case 19:return bm(e,t,n);case 22:return _m(e,t,n)}throw Error(A(156,t.tag))};function $m(e,t){return dp(e,t)}function L_(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ut(e,t,n,r){return new L_(e,t,n,r)}function Wc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function F_(e){if(typeof e=="function")return Wc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===uc)return 11;if(e===cc)return 14}return 2}function An(e,t){var n=e.alternate;return n===null?(n=ut(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function fa(e,t,n,r,s,i){var a=2;if(r=e,typeof e=="function")Wc(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Sr:return Gn(n.children,s,i,t);case lc:a=8,s|=8;break;case $l:return e=ut(12,n,t,s|2),e.elementType=$l,e.lanes=i,e;case Bl:return e=ut(13,n,t,s),e.elementType=Bl,e.lanes=i,e;case Ul:return e=ut(19,n,t,s),e.elementType=Ul,e.lanes=i,e;case Jh:return xo(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Yh:a=10;break e;case Kh:a=9;break e;case uc:a=11;break e;case cc:a=14;break e;case hn:a=16,r=null;break e}throw Error(A(130,e==null?e:typeof e,""))}return t=ut(a,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Gn(e,t,n,r){return e=ut(7,e,r,t),e.lanes=n,e}function xo(e,t,n,r){return e=ut(22,e,r,t),e.elementType=Jh,e.lanes=n,e.stateNode={isHidden:!1},e}function gl(e,t,n){return e=ut(6,e,null,t),e.lanes=n,e}function vl(e,t,n){return t=ut(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $_(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qo(0),this.expirationTimes=Qo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qo(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Hc(e,t,n,r,s,i,a,o,l){return e=new $_(e,t,n,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ut(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oc(i),e}function B_(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Bm(e){if(!e)return Rn;e=e._reactInternals;e:{if(ir(e)!==e||e.tag!==1)throw Error(A(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ve(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(A(171))}if(e.tag===1){var n=e.type;if(Ve(n))return Bp(e,n,t)}return t}function Um(e,t,n,r,s,i,a,o,l){return e=Hc(n,r,!0,e,s,i,a,o,l),e.context=Bm(null),n=e.current,r=Ne(),s=Cn(n),i=Qt(r,s),i.callback=t??null,kn(n,i,s),e.current.lanes=s,fi(e,s,r),We(e,r),e}function Co(e,t,n,r){var s=t.current,i=Ne(),a=Cn(s);return n=Bm(n),t.context===null?t.context=n:t.pendingContext=n,t=Qt(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=kn(s,t,a),e!==null&&(Et(e,s,a,i),ia(e,s,a)),a}function Ka(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function jd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Gc(e,t){jd(e,t),(e=e.alternate)&&jd(e,t)}function U_(){return null}var zm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}Ao.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(A(409));Co(e,t,null,null)};Ao.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xn(function(){Co(null,e,null,null)}),t[tn]=null}};function Ao(e){this._internalRoot=e}Ao.prototype.unstable_scheduleHydration=function(e){if(e){var t=_p();e={blockedOn:null,target:e,priority:t};for(var n=0;n<mn.length&&t!==0&&t<mn[n].priority;n++);mn.splice(n,0,e),n===0&&Sp(e)}};function Kc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Oo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ld(){}function z_(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Ka(a);i.call(u)}}var a=Um(t,r,e,0,null,!1,!1,"",Ld);return e._reactRootContainer=a,e[tn]=a.current,qs(e.nodeType===8?e.parentNode:e),Xn(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var u=Ka(l);o.call(u)}}var l=Hc(e,0,!1,null,null,!1,!1,"",Ld);return e._reactRootContainer=l,e[tn]=l.current,qs(e.nodeType===8?e.parentNode:e),Xn(function(){Co(t,l,n,r)}),l}function Ro(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=Ka(a);o.call(l)}}Co(t,a,e,s)}else a=z_(n,t,e,s,r);return Ka(a)}vp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=gs(t.pendingLanes);n!==0&&(hc(t,n|1),We(t,ue()),!(K&6)&&(Kr=ue()+500,Dn()))}break;case 13:Xn(function(){var r=nn(e,1);if(r!==null){var s=Ne();Et(r,e,1,s)}}),Gc(e,1)}};pc=function(e){if(e.tag===13){var t=nn(e,134217728);if(t!==null){var n=Ne();Et(t,e,134217728,n)}Gc(e,134217728)}};yp=function(e){if(e.tag===13){var t=Cn(e),n=nn(e,t);if(n!==null){var r=Ne();Et(n,e,t,r)}Gc(e,t)}};_p=function(){return X};wp=function(e,t){var n=X;try{return X=e,t()}finally{X=n}};Ql=function(e,t,n){switch(t){case"input":if(Wl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=_o(r);if(!s)throw Error(A(90));Qh(r),Wl(r,s)}}}break;case"textarea":Zh(e,n);break;case"select":t=n.value,t!=null&&jr(e,!!n.multiple,t,!1)}};ap=Uc;op=Xn;var V_={usingClientEntryPoint:!1,Events:[hi,xr,_o,sp,ip,Uc]},fs={findFiberByHostInstance:Bn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},W_={bundleType:fs.bundleType,version:fs.version,rendererPackageName:fs.rendererPackageName,rendererConfig:fs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:on.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=cp(e),e===null?null:e.stateNode},findFiberByHostInstance:fs.findFiberByHostInstance||U_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zi.isDisabled&&zi.supportsFiber)try{mo=zi.inject(W_),Ft=zi}catch{}}tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V_;tt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kc(t))throw Error(A(200));return B_(e,t,null,n)};tt.createRoot=function(e,t){if(!Kc(e))throw Error(A(299));var n=!1,r="",s=zm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Hc(e,1,!1,null,null,n,!1,r,s),e[tn]=t.current,qs(e.nodeType===8?e.parentNode:e),new Yc(t)};tt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=cp(t),e=e===null?null:e.stateNode,e};tt.flushSync=function(e){return Xn(e)};tt.hydrate=function(e,t,n){if(!Oo(t))throw Error(A(200));return Ro(null,e,t,!0,n)};tt.hydrateRoot=function(e,t,n){if(!Kc(e))throw Error(A(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=zm;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Um(t,null,e,1,n??null,s,!1,i,a),e[tn]=t.current,qs(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ao(t)};tt.render=function(e,t,n){if(!Oo(t))throw Error(A(200));return Ro(null,e,t,!1,n)};tt.unmountComponentAtNode=function(e){if(!Oo(e))throw Error(A(40));return e._reactRootContainer?(Xn(function(){Ro(null,null,e,!1,function(){e._reactRootContainer=null,e[tn]=null})}),!0):!1};tt.unstable_batchedUpdates=Uc;tt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Oo(n))throw Error(A(200));if(e==null||e._reactInternals===void 0)throw Error(A(38));return Ro(e,t,n,!1,r)};tt.version="18.3.1-next-f1338f8080-20240426";function Vm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Vm)}catch(e){console.error(e)}}Vm(),Vh.exports=tt;var Wm=Vh.exports,Fd=Wm;Ll.createRoot=Fd.createRoot,Ll.hydrateRoot=Fd.hydrateRoot;function J(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error(typeof e=="number"?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var H_={};function To(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:H_}var Hm=Object.assign,Ja=Object.getOwnPropertyDescriptor,Bt=Object.defineProperty,Po=Object.prototype,Tu=[];Object.freeze(Tu);var Gm={};Object.freeze(Gm);var G_=typeof Proxy<"u",Y_=Object.toString();function Ym(){G_||J("Proxy not available")}function Km(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var Dr=function(){};function Ct(e){return typeof e=="function"}function Zn(e){var t=typeof e;switch(t){case"string":case"symbol":case"number":return!0}return!1}function Do(e){return e!==null&&typeof e=="object"}function sn(e){if(!Do(e))return!1;var t=Object.getPrototypeOf(e);if(t==null)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n.toString()===Y_}function Jm(e){var t=e==null?void 0:e.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function mi(e,t,n){Bt(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function qm(e,t,n){Bt(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function ar(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(r){return Do(r)&&r[n]===!0}}function ts(e){return e!=null&&Object.prototype.toString.call(e)==="[object Map]"}function K_(e){var t=Object.getPrototypeOf(e),n=Object.getPrototypeOf(t),r=Object.getPrototypeOf(n);return r===null}function Yt(e){return e!=null&&Object.prototype.toString.call(e)==="[object Set]"}var Qm=typeof Object.getOwnPropertySymbols<"u";function J_(e){var t=Object.keys(e);if(!Qm)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(r){return Po.propertyIsEnumerable.call(e,r)})):t}var Jr=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Qm?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function Xm(e){return e===null?null:typeof e=="object"?""+e:e}function Xt(e,t){return Po.hasOwnProperty.call(e,t)}var q_=Object.getOwnPropertyDescriptors||function(t){var n={};return Jr(t).forEach(function(r){n[r]=Ja(t,r)}),n};function qe(e,t){return!!(e&t)}function Qe(e,t,n){return n?e|=t:e&=~t,e}function $d(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Q_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Z_(r.key),r)}}function ns(e,t,n){return t&&Q_(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ir(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=ew(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function er(){return er=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},er.apply(null,arguments)}function Zm(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Pu(e,t)}function Pu(e,t){return Pu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Pu(e,t)}function X_(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Z_(e){var t=X_(e,"string");return typeof t=="symbol"?t:t+""}function ew(e,t){if(e){if(typeof e=="string")return $d(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$d(e,t):void 0}}var jt=Symbol("mobx-stored-annotations");function Ut(e){function t(n,r){if(vi(r))return e.decorate_20223_(n,r);gi(n,r,e)}return Object.assign(t,e)}function gi(e,t,n){Xt(e,jt)||mi(e,jt,er({},e[jt])),ow(n)||(e[jt][t]=n)}function tw(e){return Xt(e,jt)||mi(e,jt,er({},e[jt])),e[jt]}function vi(e){return typeof e=="object"&&typeof e.kind=="string"}var z=Symbol("mobx administration"),In=function(){function e(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=q.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.reportObserved=function(){return mg(this)},t.reportChanged=function(){ct(),gg(this),ft()},t.toString=function(){return this.name_},ns(e,[{key:"isBeingObserved",get:function(){return qe(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=Qe(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return qe(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=Qe(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return qe(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Qe(this.flags_,e.diffValueMask_,r===1)}}])}();In.isBeingObservedMask_=1;In.isPendingUnobservationMask_=2;In.diffValueMask_=4;var Jc=ar("Atom",In);function eg(e,t,n){t===void 0&&(t=Dr),n===void 0&&(n=Dr);var r=new In(e);return t!==Dr&&fS(r,t),n!==Dr&&Sg(r,n),r}function nw(e,t){return Ng(e,t)}function rw(e,t){return Object.is?Object.is(e,t):e===t?e!==0||1/e===1/t:e!==e&&t!==t}var qa={structural:nw,default:rw};function tr(e,t,n){return Cg(e)?e:Array.isArray(e)?ke.array(e,{name:n}):sn(e)?ke.object(e,void 0,{name:n}):ts(e)?ke.map(e,{name:n}):Yt(e)?ke.set(e,{name:n}):typeof e=="function"&&!ai(e)&&!oi(e)?Jm(e)?qr(e):ii(n,e):e}function sw(e,t,n){if(e==null||Fo(e)||Lo(e)||lr(e)||Mt(e))return e;if(Array.isArray(e))return ke.array(e,{name:n,deep:!1});if(sn(e))return ke.object(e,void 0,{name:n,deep:!1});if(ts(e))return ke.map(e,{name:n,deep:!1});if(Yt(e))return ke.set(e,{name:n,deep:!1})}function Io(e){return e}function iw(e,t){return Ng(e,t)?t:e}var aw="override";function ow(e){return e.annotationType_===aw}function yi(e,t){return{annotationType_:e,options_:t,make_:lw,extend_:uw,decorate_20223_:cw}}function lw(e,t,n,r){var s;if((s=this.options_)!=null&&s.bound)return this.extend_(e,t,n,!1)===null?0:1;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if(ai(n.value))return 1;var i=tg(e,this,t,n,!1);return Bt(r,t,i),2}function uw(e,t,n,r){var s=tg(e,this,t,n);return e.defineProperty_(t,s,r)}function cw(e,t){var n=t.kind,r=t.name,s=t.addInitializer,i=this,a=function(u){var c,d,h,g;return nr((c=(d=i.options_)==null?void 0:d.name)!=null?c:r.toString(),u,(h=(g=i.options_)==null?void 0:g.autoAction)!=null?h:!1)};if(n=="field")return function(l){var u,c=l;return ai(c)||(c=a(c)),(u=i.options_)!=null&&u.bound&&(c=c.bind(this),c.isMobxAction=!0),c};if(n=="method"){var o;return ai(e)||(e=a(e)),(o=this.options_)!=null&&o.bound&&s(function(){var l=this,u=l[r].bind(l);u.isMobxAction=!0,l[r]=u}),e}J("Cannot apply '"+i.annotationType_+"' to '"+String(r)+"' (kind: "+n+"):"+(`
'`+i.annotationType_+"' can only be used on properties with a function value."))}function fw(e,t,n,r){t.annotationType_,r.value}function tg(e,t,n,r,s){var i,a,o,l,u,c,d;s===void 0&&(s=T.safeDescriptors),fw(e,t,n,r);var h=r.value;if((i=t.options_)!=null&&i.bound){var g;h=h.bind((g=e.proxy_)!=null?g:e.target_)}return{value:nr((a=(o=t.options_)==null?void 0:o.name)!=null?a:n.toString(),h,(l=(u=t.options_)==null?void 0:u.autoAction)!=null?l:!1,(c=t.options_)!=null&&c.bound?(d=e.proxy_)!=null?d:e.target_:void 0),configurable:s?e.isPlainObject_:!0,enumerable:!1,writable:!s}}function ng(e,t){return{annotationType_:e,options_:t,make_:dw,extend_:hw,decorate_20223_:pw}}function dw(e,t,n,r){var s;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if((s=this.options_)!=null&&s.bound&&(!Xt(e.target_,t)||!oi(e.target_[t]))&&this.extend_(e,t,n,!1)===null)return 0;if(oi(n.value))return 1;var i=rg(e,this,t,n,!1,!1);return Bt(r,t,i),2}function hw(e,t,n,r){var s,i=rg(e,this,t,n,(s=this.options_)==null?void 0:s.bound);return e.defineProperty_(t,i,r)}function pw(e,t){var n,r=t.name,s=t.addInitializer;return oi(e)||(e=qr(e)),(n=this.options_)!=null&&n.bound&&s(function(){var i=this,a=i[r].bind(i);a.isMobXFlow=!0,i[r]=a}),e}function mw(e,t,n,r){t.annotationType_,r.value}function rg(e,t,n,r,s,i){i===void 0&&(i=T.safeDescriptors),mw(e,t,n,r);var a=r.value;if(oi(a)||(a=qr(a)),s){var o;a=a.bind((o=e.proxy_)!=null?o:e.target_),a.isMobXFlow=!0}return{value:a,configurable:i?e.isPlainObject_:!0,enumerable:!1,writable:!i}}function qc(e,t){return{annotationType_:e,options_:t,make_:gw,extend_:vw,decorate_20223_:yw}}function gw(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function vw(e,t,n,r){return _w(e,this,t,n),e.defineComputedProperty_(t,er({},this.options_,{get:n.get,set:n.set}),r)}function yw(e,t){var n=this,r=t.name,s=t.addInitializer;return s(function(){var i=ur(this)[z],a=er({},n.options_,{get:e,context:this});a.name||(a.name="ObservableObject."+r.toString()),i.values_.set(r,new At(a))}),function(){return this[z].getObservablePropValue_(r)}}function _w(e,t,n,r){t.annotationType_,r.get}function No(e,t){return{annotationType_:e,options_:t,make_:ww,extend_:Sw,decorate_20223_:Ew}}function ww(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function Sw(e,t,n,r){var s,i;return bw(e,this),e.defineObservableProperty_(t,n.value,(s=(i=this.options_)==null?void 0:i.enhancer)!=null?s:tr,r)}function Ew(e,t){var n=this,r=t.kind,s=t.name,i=new WeakSet;function a(o,l){var u,c,d=ur(o)[z],h=new Yn(l,(u=(c=n.options_)==null?void 0:c.enhancer)!=null?u:tr,"ObservableObject."+s.toString(),!1);d.values_.set(s,h),i.add(o)}if(r=="accessor")return{get:function(){return i.has(this)||a(this,e.get.call(this)),this[z].getObservablePropValue_(s)},set:function(l){return i.has(this)||a(this,l),this[z].setObservablePropValue_(s,l)},init:function(l){return i.has(this)||a(this,l),l}}}function bw(e,t,n,r){t.annotationType_}var kw="true",xw=sg();function sg(e){return{annotationType_:kw,options_:e,make_:Cw,extend_:Aw,decorate_20223_:Ow}}function Cw(e,t,n,r){var s,i;if(n.get)return Mo.make_(e,t,n,r);if(n.set){var a=nr(t.toString(),n.set);return r===e.target_?e.defineProperty_(t,{configurable:T.safeDescriptors?e.isPlainObject_:!0,set:a})===null?0:2:(Bt(r,t,{configurable:!0,set:a}),2)}if(r!==e.target_&&typeof n.value=="function"){var o;if(Jm(n.value)){var l,u=(l=this.options_)!=null&&l.autoBind?qr.bound:qr;return u.make_(e,t,n,r)}var c=(o=this.options_)!=null&&o.autoBind?ii.bound:ii;return c.make_(e,t,n,r)}var d=((s=this.options_)==null?void 0:s.deep)===!1?ke.ref:ke;if(typeof n.value=="function"&&(i=this.options_)!=null&&i.autoBind){var h;n.value=n.value.bind((h=e.proxy_)!=null?h:e.target_)}return d.make_(e,t,n,r)}function Aw(e,t,n,r){var s,i;if(n.get)return Mo.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:T.safeDescriptors?e.isPlainObject_:!0,set:nr(t.toString(),n.set)},r);if(typeof n.value=="function"&&(s=this.options_)!=null&&s.autoBind){var a;n.value=n.value.bind((a=e.proxy_)!=null?a:e.target_)}var o=((i=this.options_)==null?void 0:i.deep)===!1?ke.ref:ke;return o.extend_(e,t,n,r)}function Ow(e,t){J("'"+this.annotationType_+"' cannot be used as a decorator")}var Rw="observable",Tw="observable.ref",Pw="observable.shallow",Dw="observable.struct",ig={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(ig);function Vi(e){return e||ig}var Du=No(Rw),Iw=No(Tw,{enhancer:Io}),Nw=No(Pw,{enhancer:sw}),Mw=No(Dw,{enhancer:iw}),ag=Ut(Du);function Wi(e){return e.deep===!0?tr:e.deep===!1?Io:Lw(e.defaultDecorator)}function jw(e){var t;return e?(t=e.defaultDecorator)!=null?t:sg(e):void 0}function Lw(e){var t,n;return e&&(t=(n=e.options_)==null?void 0:n.enhancer)!=null?t:tr}function og(e,t,n){if(vi(t))return Du.decorate_20223_(e,t);if(Zn(t)){gi(e,t,Du);return}return Cg(e)?e:sn(e)?ke.object(e,t,n):Array.isArray(e)?ke.array(e,t):ts(e)?ke.map(e,t):Yt(e)?ke.set(e,t):typeof e=="object"&&e!==null?e:ke.box(e,t)}Hm(og,ag);var Fw={box:function(t,n){var r=Vi(n);return new Yn(t,Wi(r),r.name,!0,r.equals)},array:function(t,n){var r=Vi(n);return(T.useProxies===!1||r.proxy===!1?jS:CS)(t,Wi(r),r.name)},map:function(t,n){var r=Vi(n);return new Og(t,Wi(r),r.name)},set:function(t,n){var r=Vi(n);return new Rg(t,Wi(r),r.name)},object:function(t,n,r){return Nn(function(){return bg(T.useProxies===!1||(r==null?void 0:r.proxy)===!1?ur({},r):SS({},r),t,n)})},ref:Ut(Iw),shallow:Ut(Nw),deep:ag,struct:Ut(Mw)},ke=Hm(og,Fw),lg="computed",$w="computed.struct",Iu=qc(lg),Bw=qc($w,{equals:qa.structural}),Mo=function(t,n){if(vi(n))return Iu.decorate_20223_(t,n);if(Zn(n))return gi(t,n,Iu);if(sn(t))return Ut(qc(lg,t));var r=sn(n)?n:{};return r.get=t,r.name||(r.name=t.name||""),new At(r)};Object.assign(Mo,Iu);Mo.struct=Ut(Bw);var Bd,Ud,Qa=0,Uw=1,zw=(Bd=(Ud=Ja(function(){},"name"))==null?void 0:Ud.configurable)!=null?Bd:!1,zd={value:"action",configurable:!0,writable:!1,enumerable:!1};function nr(e,t,n,r){n===void 0&&(n=!1);function s(){return Vw(e,n,t,r||this,arguments)}return s.isMobxAction=!0,s.toString=function(){return t.toString()},zw&&(zd.value=e,Bt(s,"name",zd)),s}function Vw(e,t,n,r,s){var i=Ww(e,t);try{return n.apply(r,s)}catch(a){throw i.error_=a,a}finally{Hw(i)}}function Ww(e,t,n,r){var s=!1,i=0,a=T.trackingDerivation,o=!t||!a;ct();var l=T.allowStateChanges;o&&(or(),l=Qc(!0));var u=Zc(!0),c={runAsAction_:o,prevDerivation_:a,prevAllowStateChanges_:l,prevAllowStateReads_:u,notifySpy_:s,startTime_:i,actionId_:Uw++,parentActionId_:Qa};return Qa=c.actionId_,c}function Hw(e){Qa!==e.actionId_&&J(30),Qa=e.parentActionId_,e.error_!==void 0&&(T.suppressReactionErrors=!0),Xc(e.prevAllowStateChanges_),js(e.prevAllowStateReads_),ft(),e.runAsAction_&&Zt(e.prevDerivation_),T.suppressReactionErrors=!1}function Qc(e){var t=T.allowStateChanges;return T.allowStateChanges=e,t}function Xc(e){T.allowStateChanges=e}var Yn=function(e){function t(r,s,i,a,o){var l;return i===void 0&&(i="ObservableValue"),o===void 0&&(o=qa.default),l=e.call(this,i)||this,l.enhancer=void 0,l.name_=void 0,l.equals=void 0,l.hasUnreportedChange_=!1,l.interceptors_=void 0,l.changeListeners_=void 0,l.value_=void 0,l.dehancer=void 0,l.enhancer=s,l.name_=i,l.equals=o,l.value_=s(r,void 0,i),l}Zm(t,e);var n=t.prototype;return n.dehanceValue=function(s){return this.dehancer!==void 0?this.dehancer(s):s},n.set=function(s){this.value_,s=this.prepareNewValue_(s),s!==T.UNCHANGED&&this.setNewValue_(s)},n.prepareNewValue_=function(s){if(ot(this)){var i=lt(this,{object:this,type:zt,newValue:s});if(!i)return T.UNCHANGED;s=i.newValue}return s=this.enhancer(s,this.value_,this.name_),this.equals(this.value_,s)?T.UNCHANGED:s},n.setNewValue_=function(s){var i=this.value_;this.value_=s,this.reportChanged(),bt(this)&&kt(this,{type:zt,object:this,newValue:s,oldValue:i})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(s){return _i(this,s)},n.observe_=function(s,i){return i&&s({observableKind:"value",debugObjectName:this.name_,object:this,type:zt,newValue:this.value_,oldValue:void 0}),wi(this,s)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return Xm(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t}(In),At=function(){function e(n){this.dependenciesState_=q.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=q.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Za(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Xa.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||J(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=nr("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?qa.structural:qa.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){qw(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.get=function(){if(this.isComputing&&J(32,this.name_,this.derivation),T.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)Nu(this)&&(this.warnAboutUntrackedRead_(),ct(),this.value_=this.computeValue_(!1),ft());else if(mg(this),Nu(this)){var r=T.trackingContext;this.keepAlive_&&!r&&(T.trackingContext=this),this.trackAndCompute()&&Jw(this),T.trackingContext=r}var s=this.value_;if(da(s))throw s.cause;return s},t.set=function(r){if(this.setter_){this.isRunningSetter&&J(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter=!1}}else J(34,this.name_)},t.trackAndCompute=function(){var r=this.value_,s=this.dependenciesState_===q.NOT_TRACKING_,i=this.computeValue_(!0),a=s||da(r)||da(i)||!this.equals_(r,i);return a&&(this.value_=i),a},t.computeValue_=function(r){this.isComputing=!0;var s=Qc(!1),i;if(r)i=ug(this,this.derivation,this.scope_);else if(T.disableErrorBoundaries===!0)i=this.derivation.call(this.scope_);else try{i=this.derivation.call(this.scope_)}catch(a){i=new Za(a)}return Xc(s),this.isComputing=!1,i},t.suspend_=function(){this.keepAlive_||(Mu(this),this.value_=void 0)},t.observe_=function(r,s){var i=this,a=!0,o=void 0;return aS(function(){var l=i.get();if(!a||s){var u=or();r({observableKind:"computed",debugObjectName:i.name_,type:zt,object:i,newValue:l,oldValue:o}),Zt(u)}a=!1,o=l})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return Xm(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},ns(e,[{key:"isComputing",get:function(){return qe(this.flags_,e.isComputingMask_)},set:function(r){this.flags_=Qe(this.flags_,e.isComputingMask_,r)}},{key:"isRunningSetter",get:function(){return qe(this.flags_,e.isRunningSetterMask_)},set:function(r){this.flags_=Qe(this.flags_,e.isRunningSetterMask_,r)}},{key:"isBeingObserved",get:function(){return qe(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=Qe(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return qe(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=Qe(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return qe(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Qe(this.flags_,e.diffValueMask_,r===1)}}])}();At.isComputingMask_=1;At.isRunningSetterMask_=2;At.isBeingObservedMask_=4;At.isPendingUnobservationMask_=8;At.diffValueMask_=16;var jo=ar("ComputedValue",At),q;(function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"})(q||(q={}));var Xa;(function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"})(Xa||(Xa={}));var Za=function(t){this.cause=void 0,this.cause=t};function da(e){return e instanceof Za}function Nu(e){switch(e.dependenciesState_){case q.UP_TO_DATE_:return!1;case q.NOT_TRACKING_:case q.STALE_:return!0;case q.POSSIBLY_STALE_:{for(var t=Zc(!0),n=or(),r=e.observing_,s=r.length,i=0;i<s;i++){var a=r[i];if(jo(a)){if(T.disableErrorBoundaries)a.get();else try{a.get()}catch{return Zt(n),js(t),!0}if(e.dependenciesState_===q.STALE_)return Zt(n),js(t),!0}}return fg(e),Zt(n),js(t),!1}}}function ug(e,t,n){var r=Zc(!0);fg(e),e.newObserving_=new Array(e.runId_===0?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++T.runId;var s=T.trackingDerivation;T.trackingDerivation=e,T.inBatch++;var i;if(T.disableErrorBoundaries===!0)i=t.call(n);else try{i=t.call(n)}catch(a){i=new Za(a)}return T.inBatch--,T.trackingDerivation=s,Gw(e),js(r),i}function Gw(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=q.UP_TO_DATE_,s=0,i=e.unboundDepsCount_,a=0;a<i;a++){var o=n[a];o.diffValue===0&&(o.diffValue=1,s!==a&&(n[s]=o),s++),o.dependenciesState_>r&&(r=o.dependenciesState_)}for(n.length=s,e.newObserving_=null,i=t.length;i--;){var l=t[i];l.diffValue===0&&hg(l,e),l.diffValue=0}for(;s--;){var u=n[s];u.diffValue===1&&(u.diffValue=0,Kw(u,e))}r!==q.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}function Mu(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)hg(t[n],e);e.dependenciesState_=q.NOT_TRACKING_}function cg(e){var t=or();try{return e()}finally{Zt(t)}}function or(){var e=T.trackingDerivation;return T.trackingDerivation=null,e}function Zt(e){T.trackingDerivation=e}function Zc(e){var t=T.allowStateReads;return T.allowStateReads=e,t}function js(e){T.allowStateReads=e}function fg(e){if(e.dependenciesState_!==q.UP_TO_DATE_){e.dependenciesState_=q.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=q.UP_TO_DATE_}}var ha=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},pa=!0,dg=!1,T=function(){var e=To();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(pa=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==new ha().version&&(pa=!1),pa?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new ha):(setTimeout(function(){dg||J(35)},1),new ha)}();function Yw(){if((T.pendingReactions.length||T.inBatch||T.isRunningReactions)&&J(36),dg=!0,pa){var e=To();--e.__mobxInstanceCount===0&&(e.__mobxGlobals=void 0),T=new ha}}function Kw(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function hg(e,t){e.observers_.delete(t),e.observers_.size===0&&pg(e)}function pg(e){e.isPendingUnobservation===!1&&(e.isPendingUnobservation=!0,T.pendingUnobservations.push(e))}function ct(){T.inBatch++}function ft(){if(--T.inBatch===0){vg();for(var e=T.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof At&&n.suspend_())}T.pendingUnobservations=[]}}function mg(e){var t=T.trackingDerivation;return t!==null?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&T.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(e.observers_.size===0&&T.inBatch>0&&pg(e),!1)}function gg(e){e.lowestObserverState_!==q.STALE_&&(e.lowestObserverState_=q.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===q.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=q.STALE_}))}function Jw(e){e.lowestObserverState_!==q.STALE_&&(e.lowestObserverState_=q.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===q.POSSIBLY_STALE_?t.dependenciesState_=q.STALE_:t.dependenciesState_===q.UP_TO_DATE_&&(e.lowestObserverState_=q.UP_TO_DATE_)}))}function qw(e){e.lowestObserverState_===q.UP_TO_DATE_&&(e.lowestObserverState_=q.POSSIBLY_STALE_,e.observers_.forEach(function(t){t.dependenciesState_===q.UP_TO_DATE_&&(t.dependenciesState_=q.POSSIBLY_STALE_,t.onBecomeStale_())}))}var an=function(){function e(n,r,s,i){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=q.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=Xa.NONE,this.name_=n,this.onInvalidate_=r,this.errorHandler_=s,this.requiresObservable_=i}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,T.pendingReactions.push(this),vg())},t.runReaction_=function(){if(!this.isDisposed){ct(),this.isScheduled=!1;var r=T.trackingContext;if(T.trackingContext=this,Nu(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(s){this.reportExceptionInDerivation_(s)}}T.trackingContext=r,ft()}},t.track=function(r){if(!this.isDisposed){ct(),this.isRunning=!0;var s=T.trackingContext;T.trackingContext=this;var i=ug(this,r,void 0);T.trackingContext=s,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&Mu(this),da(i)&&this.reportExceptionInDerivation_(i.cause),ft()}},t.reportExceptionInDerivation_=function(r){var s=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(T.disableErrorBoundaries)throw r;var i="[mobx] uncaught error in '"+this+"'";T.suppressReactionErrors||console.error(i,r),T.globalReactionErrorHandlers.forEach(function(a){return a(r,s)})},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(ct(),Mu(this),ft()))},t.getDisposer_=function(r){var s=this,i=function a(){s.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",a)};return r==null||r.addEventListener==null||r.addEventListener("abort",i),i[z]=this,i},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(r){},ns(e,[{key:"isDisposed",get:function(){return qe(this.flags_,e.isDisposedMask_)},set:function(r){this.flags_=Qe(this.flags_,e.isDisposedMask_,r)}},{key:"isScheduled",get:function(){return qe(this.flags_,e.isScheduledMask_)},set:function(r){this.flags_=Qe(this.flags_,e.isScheduledMask_,r)}},{key:"isTrackPending",get:function(){return qe(this.flags_,e.isTrackPendingMask_)},set:function(r){this.flags_=Qe(this.flags_,e.isTrackPendingMask_,r)}},{key:"isRunning",get:function(){return qe(this.flags_,e.isRunningMask_)},set:function(r){this.flags_=Qe(this.flags_,e.isRunningMask_,r)}},{key:"diffValue",get:function(){return qe(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Qe(this.flags_,e.diffValueMask_,r===1)}}])}();an.isDisposedMask_=1;an.isScheduledMask_=2;an.isTrackPendingMask_=4;an.isRunningMask_=8;an.diffValueMask_=16;var Qw=100,ju=function(t){return t()};function vg(){T.inBatch>0||T.isRunningReactions||ju(Xw)}function Xw(){T.isRunningReactions=!0;for(var e=T.pendingReactions,t=0;e.length>0;){++t===Qw&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,s=n.length;r<s;r++)n[r].runReaction_()}T.isRunningReactions=!1}var eo=ar("Reaction",an);function Zw(e){var t=ju;ju=function(r){return e(function(){return t(r)})}}function Ls(){return!1}function eS(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var yg="action",tS="action.bound",_g="autoAction",nS="autoAction.bound",rS="<unnamed action>",Lu=yi(yg),sS=yi(tS,{bound:!0}),Fu=yi(_g,{autoAction:!0}),iS=yi(nS,{autoAction:!0,bound:!0});function wg(e){var t=function(r,s){if(Ct(r))return nr(r.name||rS,r,e);if(Ct(s))return nr(r,s,e);if(vi(s))return(e?Fu:Lu).decorate_20223_(r,s);if(Zn(s))return gi(r,s,e?Fu:Lu);if(Zn(r))return Ut(yi(e?_g:yg,{name:r,autoAction:e}))};return t}var Nr=wg(!1);Object.assign(Nr,Lu);var ii=wg(!0);Object.assign(ii,Fu);Nr.bound=Ut(sS);ii.bound=Ut(iS);function ai(e){return Ct(e)&&e.isMobxAction===!0}function aS(e,t){var n,r,s,i;t===void 0&&(t=Gm);var a=(n=(r=t)==null?void 0:r.name)!=null?n:"Autorun",o=!t.scheduler&&!t.delay,l;if(o)l=new an(a,function(){this.track(d)},t.onError,t.requiresObservable);else{var u=lS(t),c=!1;l=new an(a,function(){c||(c=!0,u(function(){c=!1,l.isDisposed||l.track(d)}))},t.onError,t.requiresObservable)}function d(){e(l)}return(s=t)!=null&&(s=s.signal)!=null&&s.aborted||l.schedule_(),l.getDisposer_((i=t)==null?void 0:i.signal)}var oS=function(t){return t()};function lS(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:oS}var uS="onBO",cS="onBUO";function fS(e,t,n){return Eg(uS,e,t,n)}function Sg(e,t,n){return Eg(cS,e,t,n)}function Eg(e,t,n,r){var s=ro(t),i=Ct(r)?r:n,a=e+"L";return s[a]?s[a].add(i):s[a]=new Set([i]),function(){var o=s[a];o&&(o.delete(i),o.size===0&&delete s[a])}}var dS="never",Hi="always",hS="observed";function pS(e){e.isolateGlobalState===!0&&Yw();var t=e.useProxies,n=e.enforceActions;if(t!==void 0&&(T.useProxies=t===Hi?!0:t===dS?!1:typeof Proxy<"u"),t==="ifavailable"&&(T.verifyProxies=!0),n!==void 0){var r=n===Hi?Hi:n===hS;T.enforceActions=r,T.allowStateChanges=!(r===!0||r===Hi)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(s){s in e&&(T[s]=!!e[s])}),T.allowStateReads=!T.observableRequiresReaction,e.reactionScheduler&&Zw(e.reactionScheduler)}function bg(e,t,n,r){var s=q_(t);return Nn(function(){var i=ur(e,r)[z];Jr(s).forEach(function(a){i.extend_(a,s[a],n&&a in n?n[a]:!0)})}),e}function mS(e,t){return kg(ro(e,t))}function kg(e){var t={name:e.name_};return e.observing_&&e.observing_.length>0&&(t.dependencies=gS(e.observing_).map(kg)),t}function gS(e){return Array.from(new Set(e))}var vS=0;function xg(){this.message="FLOW_CANCELLED"}xg.prototype=Object.create(Error.prototype);var yl=ng("flow"),yS=ng("flow.bound",{bound:!0}),qr=Object.assign(function(t,n){if(vi(n))return yl.decorate_20223_(t,n);if(Zn(n))return gi(t,n,yl);var r=t,s=r.name||"<unnamed flow>",i=function(){var o=this,l=arguments,u=++vS,c=Nr(s+" - runid: "+u+" - init",r).apply(o,l),d,h=void 0,g=new Promise(function(_,S){var O=0;d=S;function m(v){h=void 0;var k;try{k=Nr(s+" - runid: "+u+" - yield "+O++,c.next).call(c,v)}catch(C){return S(C)}p(k)}function f(v){h=void 0;var k;try{k=Nr(s+" - runid: "+u+" - yield "+O++,c.throw).call(c,v)}catch(C){return S(C)}p(k)}function p(v){if(Ct(v==null?void 0:v.then)){v.then(p,S);return}return v.done?_(v.value):(h=Promise.resolve(v.value),h.then(m,f))}m(void 0)});return g.cancel=Nr(s+" - runid: "+u+" - cancel",function(){try{h&&Vd(h);var _=c.return(void 0),S=Promise.resolve(_.value);S.then(Dr,Dr),Vd(S),d(new xg)}catch(O){d(O)}}),g};return i.isMobXFlow=!0,i},yl);qr.bound=Ut(yS);function Vd(e){Ct(e.cancel)&&e.cancel()}function oi(e){return(e==null?void 0:e.isMobXFlow)===!0}function _S(e,t){return e?Fo(e)||!!e[z]||Jc(e)||eo(e)||jo(e):!1}function Cg(e){return _S(e)}function Kt(e,t){t===void 0&&(t=void 0),ct();try{return e.apply(t)}finally{ft()}}function dr(e){return e[z]}var wS={has:function(t,n){return dr(t).has_(n)},get:function(t,n){return dr(t).get_(n)},set:function(t,n,r){var s;return Zn(n)?(s=dr(t).set_(n,r,!0))!=null?s:!0:!1},deleteProperty:function(t,n){var r;return Zn(n)?(r=dr(t).delete_(n,!0))!=null?r:!0:!1},defineProperty:function(t,n,r){var s;return(s=dr(t).defineProperty_(n,r))!=null?s:!0},ownKeys:function(t){return dr(t).ownKeys_()},preventExtensions:function(t){J(13)}};function SS(e,t){var n,r;return Ym(),e=ur(e,t),(r=(n=e[z]).proxy_)!=null?r:n.proxy_=new Proxy(e,wS)}function ot(e){return e.interceptors_!==void 0&&e.interceptors_.length>0}function _i(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),Km(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function lt(e,t){var n=or();try{for(var r=[].concat(e.interceptors_||[]),s=0,i=r.length;s<i&&(t=r[s](t),t&&!t.type&&J(14),!!t);s++);return t}finally{Zt(n)}}function bt(e){return e.changeListeners_!==void 0&&e.changeListeners_.length>0}function wi(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),Km(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function kt(e,t){var n=or(),r=e.changeListeners_;if(r){r=r.slice();for(var s=0,i=r.length;s<i;s++)r[s](t);Zt(n)}}function ES(e,t,n){return Nn(function(){var r,s=ur(e,n)[z];(r=t)!=null||(t=tw(e)),Jr(t).forEach(function(i){return s.make_(i,t[i])})}),e}var _l=Symbol("mobx-keys");function bS(e,t,n){return sn(e)?bg(e,e,t,n):(Nn(function(){var r=ur(e,n)[z];if(!e[_l]){var s=Object.getPrototypeOf(e),i=new Set([].concat(Jr(e),Jr(s)));i.delete("constructor"),i.delete(z),mi(s,_l,i)}e[_l].forEach(function(a){return r.make_(a,t&&a in t?t[a]:!0)})}),e)}var Wd="splice",zt="update",kS=1e4,xS={get:function(t,n){var r=t[z];return n===z?r:n==="length"?r.getArrayLength_():typeof n=="string"&&!isNaN(n)?r.get_(parseInt(n)):Xt(to,n)?to[n]:t[n]},set:function(t,n,r){var s=t[z];return n==="length"&&s.setArrayLength_(r),typeof n=="symbol"||isNaN(n)?t[n]=r:s.set_(parseInt(n),r),!0},preventExtensions:function(){J(15)}},ef=function(){function e(n,r,s,i){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=s,this.legacyMode_=i,this.atom_=new In(n),this.enhancer_=function(a,o){return r(a,o,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},t.intercept_=function(r){return _i(this,r)},t.observe_=function(r,s){return s===void 0&&(s=!1),s&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),wi(this,r)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&J("Out of range: "+r);var s=this.values_.length;if(r!==s)if(r>s){for(var i=new Array(r-s),a=0;a<r-s;a++)i[a]=void 0;this.spliceWithArray_(s,0,i)}else this.spliceWithArray_(r,s-r)},t.updateArrayLength_=function(r,s){r!==this.lastKnownLength_&&J(16),this.lastKnownLength_+=s,this.legacyMode_&&s>0&&Ig(r+s+1)},t.spliceWithArray_=function(r,s,i){var a=this;this.atom_;var o=this.values_.length;if(r===void 0?r=0:r>o?r=o:r<0&&(r=Math.max(0,o+r)),arguments.length===1?s=o-r:s==null?s=0:s=Math.max(0,Math.min(s,o-r)),i===void 0&&(i=Tu),ot(this)){var l=lt(this,{object:this.proxy_,type:Wd,index:r,removedCount:s,added:i});if(!l)return Tu;s=l.removedCount,i=l.added}if(i=i.length===0?i:i.map(function(d){return a.enhancer_(d,void 0)}),this.legacyMode_){var u=i.length-s;this.updateArrayLength_(o,u)}var c=this.spliceItemsIntoValues_(r,s,i);return(s!==0||i.length!==0)&&this.notifyArraySplice_(r,i,c),this.dehanceValues_(c)},t.spliceItemsIntoValues_=function(r,s,i){if(i.length<kS){var a;return(a=this.values_).splice.apply(a,[r,s].concat(i))}else{var o=this.values_.slice(r,r+s),l=this.values_.slice(r+s);this.values_.length+=i.length-s;for(var u=0;u<i.length;u++)this.values_[r+u]=i[u];for(var c=0;c<l.length;c++)this.values_[r+i.length+c]=l[c];return o}},t.notifyArrayChildUpdate_=function(r,s,i){var a=!this.owned_&&Ls(),o=bt(this),l=o||a?{observableKind:"array",object:this.proxy_,type:zt,debugObjectName:this.atom_.name_,index:r,newValue:s,oldValue:i}:null;this.atom_.reportChanged(),o&&kt(this,l)},t.notifyArraySplice_=function(r,s,i){var a=!this.owned_&&Ls(),o=bt(this),l=o||a?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Wd,index:r,removed:i,added:s,removedCount:i.length,addedCount:s.length}:null;this.atom_.reportChanged(),o&&kt(this,l)},t.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},t.set_=function(r,s){var i=this.values_;if(this.legacyMode_&&r>i.length&&J(17,r,i.length),r<i.length){this.atom_;var a=i[r];if(ot(this)){var o=lt(this,{type:zt,object:this.proxy_,index:r,newValue:s});if(!o)return;s=o.newValue}s=this.enhancer_(s,a);var l=s!==a;l&&(i[r]=s,this.notifyArrayChildUpdate_(r,s,a))}else{for(var u=new Array(r+1-i.length),c=0;c<u.length-1;c++)u[c]=void 0;u[u.length-1]=s,this.spliceWithArray_(i.length,0,u)}},e}();function CS(e,t,n,r){return n===void 0&&(n="ObservableArray"),r===void 0&&(r=!1),Ym(),Nn(function(){var s=new ef(n,t,r,!1);qm(s.values_,z,s);var i=new Proxy(s.values_,xS);return s.proxy_=i,e&&e.length&&s.spliceWithArray_(0,0,e),i})}var to={clear:function(){return this.splice(0)},replace:function(t){var n=this[z];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i];var a=this[z];switch(arguments.length){case 0:return[];case 1:return a.spliceWithArray_(t);case 2:return a.spliceWithArray_(t,n)}return a.spliceWithArray_(t,n,s)},spliceWithArray:function(t,n,r){return this[z].spliceWithArray_(t,n,r)},push:function(){for(var t=this[z],n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function(){return this.splice(Math.max(this[z].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[z],n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function(){return T.trackingDerivation&&J(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){T.trackingDerivation&&J(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var n=this[z],r=n.dehanceValues_(n.values_).indexOf(t);return r>-1?(this.splice(r,1),!0):!1}};ee("at",rt);ee("concat",rt);ee("flat",rt);ee("includes",rt);ee("indexOf",rt);ee("join",rt);ee("lastIndexOf",rt);ee("slice",rt);ee("toString",rt);ee("toLocaleString",rt);ee("toSorted",rt);ee("toSpliced",rt);ee("with",rt);ee("every",Ot);ee("filter",Ot);ee("find",Ot);ee("findIndex",Ot);ee("findLast",Ot);ee("findLastIndex",Ot);ee("flatMap",Ot);ee("forEach",Ot);ee("map",Ot);ee("some",Ot);ee("toReversed",Ot);ee("reduce",Ag);ee("reduceRight",Ag);function ee(e,t){typeof Array.prototype[e]=="function"&&(to[e]=t(e))}function rt(e){return function(){var t=this[z];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function Ot(e){return function(t,n){var r=this,s=this[z];s.atom_.reportObserved();var i=s.dehanceValues_(s.values_);return i[e](function(a,o){return t.call(n,a,o,r)})}}function Ag(e){return function(){var t=this,n=this[z];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),s=arguments[0];return arguments[0]=function(i,a,o){return s(i,a,o,t)},r[e].apply(r,arguments)}}var AS=ar("ObservableArrayAdministration",ef);function Lo(e){return Do(e)&&AS(e[z])}var OS={},_n="add",no="delete",Og=function(){function e(n,r,s){var i=this;r===void 0&&(r=tr),s===void 0&&(s="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[z]=OS,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=s,Ct(Map)||J(18),Nn(function(){i.keysAtom_=eg("ObservableMap.keys()"),i.data_=new Map,i.hasMap_=new Map,n&&i.merge(n)})}var t=e.prototype;return t.has_=function(r){return this.data_.has(r)},t.has=function(r){var s=this;if(!T.trackingDerivation)return this.has_(r);var i=this.hasMap_.get(r);if(!i){var a=i=new Yn(this.has_(r),Io,"ObservableMap.key?",!1);this.hasMap_.set(r,a),Sg(a,function(){return s.hasMap_.delete(r)})}return i.get()},t.set=function(r,s){var i=this.has_(r);if(ot(this)){var a=lt(this,{type:i?zt:_n,object:this,newValue:s,name:r});if(!a)return this;s=a.newValue}return i?this.updateValue_(r,s):this.addValue_(r,s),this},t.delete=function(r){var s=this;if(this.keysAtom_,ot(this)){var i=lt(this,{type:no,object:this,name:r});if(!i)return!1}if(this.has_(r)){var a=Ls(),o=bt(this),l=o||a?{observableKind:"map",debugObjectName:this.name_,type:no,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return Kt(function(){var u;s.keysAtom_.reportChanged(),(u=s.hasMap_.get(r))==null||u.setNewValue_(!1);var c=s.data_.get(r);c.setNewValue_(void 0),s.data_.delete(r)}),o&&kt(this,l),!0}return!1},t.updateValue_=function(r,s){var i=this.data_.get(r);if(s=i.prepareNewValue_(s),s!==T.UNCHANGED){var a=Ls(),o=bt(this),l=o||a?{observableKind:"map",debugObjectName:this.name_,type:zt,object:this,oldValue:i.value_,name:r,newValue:s}:null;i.setNewValue_(s),o&&kt(this,l)}},t.addValue_=function(r,s){var i=this;this.keysAtom_,Kt(function(){var u,c=new Yn(s,i.enhancer_,"ObservableMap.key",!1);i.data_.set(r,c),s=c.value_,(u=i.hasMap_.get(r))==null||u.setNewValue_(!0),i.keysAtom_.reportChanged()});var a=Ls(),o=bt(this),l=o||a?{observableKind:"map",debugObjectName:this.name_,type:_n,object:this,name:r,newValue:s}:null;o&&kt(this,l)},t.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var r=this,s=this.keys();return Hd({next:function(){var a=s.next(),o=a.done,l=a.value;return{done:o,value:o?void 0:r.get(l)}}})},t.entries=function(){var r=this,s=this.keys();return Hd({next:function(){var a=s.next(),o=a.done,l=a.value;return{done:o,value:o?void 0:[l,r.get(l)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(r,s){for(var i=Ir(this),a;!(a=i()).done;){var o=a.value,l=o[0],u=o[1];r.call(s,u,l,this)}},t.merge=function(r){var s=this;return lr(r)&&(r=new Map(r)),Kt(function(){sn(r)?J_(r).forEach(function(i){return s.set(i,r[i])}):Array.isArray(r)?r.forEach(function(i){var a=i[0],o=i[1];return s.set(a,o)}):ts(r)?(K_(r)||J(19,r),r.forEach(function(i,a){return s.set(a,i)})):r!=null&&J(20,r)}),this},t.clear=function(){var r=this;Kt(function(){cg(function(){for(var s=Ir(r.keys()),i;!(i=s()).done;){var a=i.value;r.delete(a)}})})},t.replace=function(r){var s=this;return Kt(function(){for(var i=RS(r),a=new Map,o=!1,l=Ir(s.data_.keys()),u;!(u=l()).done;){var c=u.value;if(!i.has(c)){var d=s.delete(c);if(d)o=!0;else{var h=s.data_.get(c);a.set(c,h)}}}for(var g=Ir(i.entries()),_;!(_=g()).done;){var S=_.value,O=S[0],m=S[1],f=s.data_.has(O);if(s.set(O,m),s.data_.has(O)){var p=s.data_.get(O);a.set(O,p),f||(o=!0)}}if(!o)if(s.data_.size!==a.size)s.keysAtom_.reportChanged();else for(var v=s.data_.keys(),k=a.keys(),C=v.next(),b=k.next();!C.done;){if(C.value!==b.value){s.keysAtom_.reportChanged();break}C=v.next(),b=k.next()}s.data_=a}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(r,s){return wi(this,r)},t.intercept_=function(r){return _i(this,r)},ns(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),lr=ar("ObservableMap",Og);function Hd(e){return e[Symbol.toStringTag]="MapIterator",nf(e)}function RS(e){if(ts(e)||lr(e))return e;if(Array.isArray(e))return new Map(e);if(sn(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}else return J(21,e)}var TS={},Rg=function(){function e(n,r,s){var i=this;r===void 0&&(r=tr),s===void 0&&(s="ObservableSet"),this.name_=void 0,this[z]=TS,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=s,Ct(Set)||J(22),this.enhancer_=function(a,o){return r(a,o,s)},Nn(function(){i.atom_=eg(i.name_),n&&i.replace(n)})}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.clear=function(){var r=this;Kt(function(){cg(function(){for(var s=Ir(r.data_.values()),i;!(i=s()).done;){var a=i.value;r.delete(a)}})})},t.forEach=function(r,s){for(var i=Ir(this),a;!(a=i()).done;){var o=a.value;r.call(s,o,o,this)}},t.add=function(r){var s=this;if(this.atom_,ot(this)){var i=lt(this,{type:_n,object:this,newValue:r});if(!i)return this;r=i.newValue}if(!this.has(r)){Kt(function(){s.data_.add(s.enhancer_(r,void 0)),s.atom_.reportChanged()});var a=!1,o=bt(this),l=o||a?{observableKind:"set",debugObjectName:this.name_,type:_n,object:this,newValue:r}:null;o&&kt(this,l)}return this},t.delete=function(r){var s=this;if(ot(this)){var i=lt(this,{type:no,object:this,oldValue:r});if(!i)return!1}if(this.has(r)){var a=!1,o=bt(this),l=o||a?{observableKind:"set",debugObjectName:this.name_,type:no,object:this,oldValue:r}:null;return Kt(function(){s.atom_.reportChanged(),s.data_.delete(r)}),o&&kt(this,l),!0}return!1},t.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},t.entries=function(){var r=this.values();return Gd({next:function(){var i=r.next(),a=i.value,o=i.done;return o?{value:void 0,done:o}:{value:[a,a],done:o}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var r=this,s=this.data_.values();return Gd({next:function(){var a=s.next(),o=a.value,l=a.done;return l?{value:void 0,done:l}:{value:r.dehanceValue_(o),done:l}}})},t.intersection=function(r){if(Yt(r)&&!Mt(r))return r.intersection(this);var s=new Set(this);return s.intersection(r)},t.union=function(r){if(Yt(r)&&!Mt(r))return r.union(this);var s=new Set(this);return s.union(r)},t.difference=function(r){return new Set(this).difference(r)},t.symmetricDifference=function(r){if(Yt(r)&&!Mt(r))return r.symmetricDifference(this);var s=new Set(this);return s.symmetricDifference(r)},t.isSubsetOf=function(r){return new Set(this).isSubsetOf(r)},t.isSupersetOf=function(r){return new Set(this).isSupersetOf(r)},t.isDisjointFrom=function(r){if(Yt(r)&&!Mt(r))return r.isDisjointFrom(this);var s=new Set(this);return s.isDisjointFrom(r)},t.replace=function(r){var s=this;return Mt(r)&&(r=new Set(r)),Kt(function(){Array.isArray(r)?(s.clear(),r.forEach(function(i){return s.add(i)})):Yt(r)?(s.clear(),r.forEach(function(i){return s.add(i)})):r!=null&&J("Cannot initialize set from "+r)}),this},t.observe_=function(r,s){return wi(this,r)},t.intercept_=function(r){return _i(this,r)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},ns(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),Mt=ar("ObservableSet",Rg);function Gd(e){return e[Symbol.toStringTag]="SetIterator",nf(e)}var Yd=Object.create(null),Kd="remove",Tg=function(){function e(n,r,s,i){r===void 0&&(r=new Map),i===void 0&&(i=xw),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=r,this.name_=s,this.defaultAnnotation_=i,this.keysAtom_=new In("ObservableObject.keys"),this.isPlainObject_=sn(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(r){return this.values_.get(r).get()},t.setObservablePropValue_=function(r,s){var i=this.values_.get(r);if(i instanceof At)return i.set(s),!0;if(ot(this)){var a=lt(this,{type:zt,object:this.proxy_||this.target_,name:r,newValue:s});if(!a)return null;s=a.newValue}if(s=i.prepareNewValue_(s),s!==T.UNCHANGED){var o=bt(this),l=!1,u=o||l?{type:zt,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:i.value_,name:r,newValue:s}:null;i.setNewValue_(s),o&&kt(this,u)}return!0},t.get_=function(r){return T.trackingDerivation&&!Xt(this.target_,r)&&this.has_(r),this.target_[r]},t.set_=function(r,s,i){return i===void 0&&(i=!1),Xt(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,s):i?Reflect.set(this.target_,r,s):(this.target_[r]=s,!0):this.extend_(r,{value:s,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,i)},t.has_=function(r){if(!T.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var s=this.pendingKeys_.get(r);return s||(s=new Yn(r in this.target_,Io,"ObservableObject.key?",!1),this.pendingKeys_.set(r,s)),s.get()},t.make_=function(r,s){if(s===!0&&(s=this.defaultAnnotation_),s!==!1){if(!(r in this.target_)){var i;if((i=this.target_[jt])!=null&&i[r])return;J(1,s.annotationType_,this.name_+"."+r.toString())}for(var a=this.target_;a&&a!==Po;){var o=Ja(a,r);if(o){var l=s.make_(this,r,o,a);if(l===0)return;if(l===1)break}a=Object.getPrototypeOf(a)}qd(this,s,r)}},t.extend_=function(r,s,i,a){if(a===void 0&&(a=!1),i===!0&&(i=this.defaultAnnotation_),i===!1)return this.defineProperty_(r,s,a);var o=i.extend_(this,r,s,a);return o&&qd(this,i,r),o},t.defineProperty_=function(r,s,i){i===void 0&&(i=!1),this.keysAtom_;try{ct();var a=this.delete_(r);if(!a)return a;if(ot(this)){var o=lt(this,{object:this.proxy_||this.target_,name:r,type:_n,newValue:s.value});if(!o)return null;var l=o.newValue;s.value!==l&&(s=er({},s,{value:l}))}if(i){if(!Reflect.defineProperty(this.target_,r,s))return!1}else Bt(this.target_,r,s);this.notifyPropertyAddition_(r,s.value)}finally{ft()}return!0},t.defineObservableProperty_=function(r,s,i,a){a===void 0&&(a=!1),this.keysAtom_;try{ct();var o=this.delete_(r);if(!o)return o;if(ot(this)){var l=lt(this,{object:this.proxy_||this.target_,name:r,type:_n,newValue:s});if(!l)return null;s=l.newValue}var u=Jd(r),c={configurable:T.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:u.get,set:u.set};if(a){if(!Reflect.defineProperty(this.target_,r,c))return!1}else Bt(this.target_,r,c);var d=new Yn(s,i,"ObservableObject.key",!1);this.values_.set(r,d),this.notifyPropertyAddition_(r,d.value_)}finally{ft()}return!0},t.defineComputedProperty_=function(r,s,i){i===void 0&&(i=!1),this.keysAtom_;try{ct();var a=this.delete_(r);if(!a)return a;if(ot(this)){var o=lt(this,{object:this.proxy_||this.target_,name:r,type:_n,newValue:void 0});if(!o)return null}s.name||(s.name="ObservableObject.key"),s.context=this.proxy_||this.target_;var l=Jd(r),u={configurable:T.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:l.get,set:l.set};if(i){if(!Reflect.defineProperty(this.target_,r,u))return!1}else Bt(this.target_,r,u);this.values_.set(r,new At(s)),this.notifyPropertyAddition_(r,void 0)}finally{ft()}return!0},t.delete_=function(r,s){if(s===void 0&&(s=!1),this.keysAtom_,!Xt(this.target_,r))return!0;if(ot(this)){var i=lt(this,{object:this.proxy_||this.target_,name:r,type:Kd});if(!i)return null}try{var a;ct();var o=bt(this),l=!1,u=this.values_.get(r),c=void 0;if(!u&&(o||l)){var d;c=(d=Ja(this.target_,r))==null?void 0:d.value}if(s){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(u&&(this.values_.delete(r),u instanceof Yn&&(c=u.value_),gg(u)),this.keysAtom_.reportChanged(),(a=this.pendingKeys_)==null||(a=a.get(r))==null||a.set(r in this.target_),o||l){var h={type:Kd,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:c,name:r};o&&kt(this,h)}}finally{ft()}return!0},t.observe_=function(r,s){return wi(this,r)},t.intercept_=function(r){return _i(this,r)},t.notifyPropertyAddition_=function(r,s){var i,a=bt(this),o=!1;if(a||o){var l=a||o?{type:_n,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:s}:null;a&&kt(this,l)}(i=this.pendingKeys_)==null||(i=i.get(r))==null||i.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),Jr(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function ur(e,t){var n;if(Xt(e,z))return e;var r=(n=t==null?void 0:t.name)!=null?n:"ObservableObject",s=new Tg(e,new Map,String(r),jw(t));return mi(e,z,s),e}var PS=ar("ObservableObjectAdministration",Tg);function Jd(e){return Yd[e]||(Yd[e]={get:function(){return this[z].getObservablePropValue_(e)},set:function(n){return this[z].setObservablePropValue_(e,n)}})}function Fo(e){return Do(e)?PS(e[z]):!1}function qd(e,t,n){var r;(r=e.target_[jt])==null||delete r[n]}var DS=Dg(0),IS=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,e===!1}(),wl=0,Pg=function(){};function NS(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):e.prototype.__proto__!==void 0?e.prototype.__proto__=t:e.prototype=t}NS(Pg,Array.prototype);var tf=function(e){function t(r,s,i,a){var o;return i===void 0&&(i="ObservableArray"),a===void 0&&(a=!1),o=e.call(this)||this,Nn(function(){var l=new ef(i,s,a,!0);l.proxy_=o,qm(o,z,l),r&&r.length&&o.spliceWithArray(0,0,r),IS&&Object.defineProperty(o,"0",DS)}),o}Zm(t,e);var n=t.prototype;return n.concat=function(){this[z].atom_.reportObserved();for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return Array.prototype.concat.apply(this.slice(),i.map(function(o){return Lo(o)?o.slice():o}))},n[Symbol.iterator]=function(){var r=this,s=0;return nf({next:function(){return s<r.length?{value:r[s++],done:!1}:{done:!0,value:void 0}}})},ns(t,[{key:"length",get:function(){return this[z].getArrayLength_()},set:function(s){this[z].setArrayLength_(s)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(Pg);Object.entries(to).forEach(function(e){var t=e[0],n=e[1];t!=="concat"&&mi(tf.prototype,t,n)});function Dg(e){return{enumerable:!1,configurable:!0,get:function(){return this[z].get_(e)},set:function(n){this[z].set_(e,n)}}}function MS(e){Bt(tf.prototype,""+e,Dg(e))}function Ig(e){if(e>wl){for(var t=wl;t<e+100;t++)MS(t);wl=e}}Ig(1e3);function jS(e,t,n){return new tf(e,t,n)}function ro(e,t){if(typeof e=="object"&&e!==null){if(Lo(e))return t!==void 0&&J(23),e[z].atom_;if(Mt(e))return e.atom_;if(lr(e)){if(t===void 0)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||J(25,t,$u(e)),n}if(Fo(e)){if(!t)return J(26);var r=e[z].values_.get(t);return r||J(27,t,$u(e)),r}if(Jc(e)||jo(e)||eo(e))return e}else if(Ct(e)&&eo(e[z]))return e[z];J(28)}function LS(e,t){if(e||J(29),Jc(e)||jo(e)||eo(e)||lr(e)||Mt(e))return e;if(e[z])return e[z];J(24,e)}function $u(e,t){var n;if(t!==void 0)n=ro(e,t);else{if(ai(e))return e.name;Fo(e)||lr(e)||Mt(e)?n=LS(e):n=ro(e)}return n.name_}function Nn(e){var t=or(),n=Qc(!0);ct();try{return e()}finally{ft(),Xc(n),Zt(t)}}var Qd=Po.toString;function Ng(e,t,n){return n===void 0&&(n=-1),Bu(e,t,n)}function Bu(e,t,n,r,s){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var i=typeof e;if(i!=="function"&&i!=="object"&&typeof t!="object")return!1;var a=Qd.call(e);if(a!==Qd.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++;break}e=Xd(e),t=Xd(t);var o=a==="[object Array]";if(!o){if(typeof e!="object"||typeof t!="object")return!1;var l=e.constructor,u=t.constructor;if(l!==u&&!(Ct(l)&&l instanceof l&&Ct(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],s=s||[];for(var c=r.length;c--;)if(r[c]===e)return s[c]===t;if(r.push(e),s.push(t),o){if(c=e.length,c!==t.length)return!1;for(;c--;)if(!Bu(e[c],t[c],n-1,r,s))return!1}else{var d=Object.keys(e),h=d.length;if(Object.keys(t).length!==h)return!1;for(var g=0;g<h;g++){var _=d[g];if(!(Xt(t,_)&&Bu(e[_],t[_],n-1,r,s)))return!1}}return r.pop(),s.pop(),!0}function Xd(e){return Lo(e)?e.slice():ts(e)||lr(e)||Yt(e)||Mt(e)?Array.from(e.entries()):e}var Zd,FS=((Zd=To().Iterator)==null?void 0:Zd.prototype)||{};function nf(e){return e[Symbol.iterator]=$S,Object.assign(Object.create(FS),e)}function $S(){return this}["Symbol","Map","Set"].forEach(function(e){var t=To();typeof t[e]>"u"&&J("MobX requires global '"+e+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:eS,extras:{getDebugName:$u},$mobx:z});if(!re.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!ES)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function BS(e){e()}function US(e){e||(e=BS),pS({reactionScheduler:e})}function zS(e){return mS(e)}var VS=1e4,WS=1e4,HS=function(){function e(t){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(r){r===void 0&&(r=VS),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var s=Date.now();n.registrations.forEach(function(i,a){s-i.registeredAt>=r&&(n.finalize(i.value),n.registrations.delete(a))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n,r){this.registrations.set(r,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.registrations.delete(t)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,WS))}}),e}(),GS=typeof FinalizationRegistry<"u"?FinalizationRegistry:HS,Uu=new GS(function(e){var t;(t=e.reaction)===null||t===void 0||t.dispose(),e.reaction=null}),Mg={exports:{}},jg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qr=re;function YS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var KS=typeof Object.is=="function"?Object.is:YS,JS=Qr.useState,qS=Qr.useEffect,QS=Qr.useLayoutEffect,XS=Qr.useDebugValue;function ZS(e,t){var n=t(),r=JS({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return QS(function(){s.value=n,s.getSnapshot=t,Sl(s)&&i({inst:s})},[e,n,t]),qS(function(){return Sl(s)&&i({inst:s}),e(function(){Sl(s)&&i({inst:s})})},[e]),XS(n),n}function Sl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!KS(e,n)}catch{return!0}}function eE(e,t){return t()}var tE=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?eE:ZS;jg.useSyncExternalStore=Qr.useSyncExternalStore!==void 0?Qr.useSyncExternalStore:tE;Mg.exports=jg;var nE=Mg.exports;function eh(e){e.reaction=new an("observer".concat(e.name),function(){var t;e.stateVersion=Symbol(),(t=e.onStoreChange)===null||t===void 0||t.call(e)})}function rE(e,t){t===void 0&&(t="observed");var n=jl.useRef(null);if(!n.current){var r={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(o){return Uu.unregister(r),r.onStoreChange=o,r.reaction||(eh(r),r.stateVersion=Symbol()),function(){var l;r.onStoreChange=null,(l=r.reaction)===null||l===void 0||l.dispose(),r.reaction=null}},getSnapshot:function(){return r.stateVersion}};n.current=r}var s=n.current;s.reaction||(eh(s),Uu.register(n,s,s)),jl.useDebugValue(s.reaction,zS),nE.useSyncExternalStore(s.subscribe,s.getSnapshot,s.getSnapshot);var i,a;if(s.reaction.track(function(){try{i=e()}catch(o){a=o}}),a)throw a;return i}var El,bl,Lg=typeof Symbol=="function"&&Symbol.for,sE=(bl=(El=Object.getOwnPropertyDescriptor(function(){},"name"))===null||El===void 0?void 0:El.configurable)!==null&&bl!==void 0?bl:!1,th=Lg?Symbol.for("react.forward_ref"):typeof re.forwardRef=="function"&&re.forwardRef(function(e){return null}).$$typeof,nh=Lg?Symbol.for("react.memo"):typeof re.memo=="function"&&re.memo(function(e){return null}).$$typeof;function iE(e,t){var n;if(nh&&e.$$typeof===nh)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var r=(n=void 0)!==null&&n!==void 0?n:!1,s=e,i=e.displayName||e.name;if(th&&e.$$typeof===th&&(r=!0,s=e.render,typeof s!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var a=function(o,l){return rE(function(){return s(o,l)},i)};return a.displayName=e.displayName,sE&&Object.defineProperty(a,"name",{value:e.name,writable:!0,configurable:!0}),e.contextTypes&&(a.contextTypes=e.contextTypes),r&&(a=re.forwardRef(a)),a=re.memo(a),oE(e,a),a}var aE={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function oE(e,t){Object.keys(e).forEach(function(n){aE[n]||Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}var kl;US(Wm.unstable_batchedUpdates);kl=Uu.finalizeAllImmediately;const lE=({message:e="Creating your perfect trip bundles..."})=>{const[t,n]=re.useState("");re.useEffect(()=>{const a=setInterval(()=>{n(o=>o==="..."?"":o+".")},500);return()=>clearInterval(a)},[]);const r=[" Analyzing your preferences"," Finding perfect events"," Planning your itinerary"," Crafting unique experiences"," Almost ready!"],[s,i]=re.useState(0);return re.useEffect(()=>{const a=setInterval(()=>{i(o=>(o+1)%r.length)},1e3);return()=>clearInterval(a)},[r.length]),E.jsx("div",{className:"thinking-screen",children:E.jsxs("div",{className:"thinking-container",children:[E.jsxs("div",{className:"thinking-animation",children:[E.jsx("div",{className:"brain-icon",children:""}),E.jsx("div",{className:"pulse-ring"}),E.jsx("div",{className:"pulse-ring delay-1"}),E.jsx("div",{className:"pulse-ring delay-2"})]}),E.jsxs("h1",{className:"thinking-title",children:[e,t]}),E.jsx("p",{className:"thinking-subtitle",children:r[s]}),E.jsx("div",{className:"progress-bar",children:E.jsx("div",{className:"progress-fill"})}),E.jsxs("div",{className:"thinking-tips",children:[E.jsx("p",{children:" We're curating experiences based on your unique interests"}),E.jsx("p",{children:" Your music taste helps us find the perfect concerts"}),E.jsx("p",{children:" Events are matched to your travel dates"})]})]})})},uE=({bundles:e,promptsUsage:t,onBundleSelect:n,onOpenPreferences:r,onOpenDevelopment:s,onLoadMore:i,onGenerateNew:a,canLoadMore:o=!1,hasUserData:l=!1,isLoading:u=!1,isMockMode:c=!1})=>{const d=_=>!_.keyEvents||!Array.isArray(_.keyEvents)?[]:_.keyEvents.map(S=>S.title),h=_=>{switch(_){case"concerts":return"";case"sports":return"";case"artDesign":return"";case"localCulture":return"";case"culinary":return"";default:return""}},g=_=>{const S=d(_);return E.jsxs("div",{className:"bundle-card",onClick:()=>n(_),children:[E.jsxs("div",{className:"bundle-image-container",children:[E.jsx("img",{src:_.imageUrl,alt:_.title,className:"bundle-image",onError:O=>{O.currentTarget.src="https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=800&q=80"}}),E.jsx("div",{className:"city-badge",children:_.city})]}),E.jsxs("div",{className:"bundle-info",children:[E.jsx("h3",{className:"bundle-title",children:_.title}),E.jsx("p",{className:"bundle-description",children:_.description}),S.length>0&&E.jsxs("div",{className:"key-events",children:[E.jsx("h4",{className:"key-events-header",children:" Key Events"}),E.jsx("div",{className:"key-events-list",children:S.map((O,m)=>{var f;return E.jsxs("div",{className:"key-event-item",children:[((f=_.keyEvents)==null?void 0:f[m])&&E.jsx("span",{className:"event-icon",children:h(_.keyEvents[m].interestType)}),E.jsx("span",{className:"event-title",children:O})]},m)})})]})]})]},_.title)};return E.jsxs("div",{className:"bundle-feed",children:[E.jsxs("div",{className:"feed-header",children:[E.jsxs("div",{className:"header-top",children:[E.jsx("h1",{children:" Your Trip Bundles"}),E.jsxs("div",{className:"header-actions",children:[E.jsx("button",{className:"preferences-button",onClick:r,children:" Preferences"}),c&&s&&E.jsx("button",{className:"dev-button",onClick:s,children:" Dev"})]})]}),E.jsxs("div",{className:"prompts-usage",children:[E.jsxs("span",{className:"usage-text",children:["Daily Usage: ",t.count,"/",t.maxDaily]}),E.jsx("div",{className:"usage-bar",children:E.jsx("div",{className:"usage-fill",style:{width:`${t.count/t.maxDaily*100}%`}})})]})]}),E.jsx("div",{className:"bundles-container",children:e.length===0?E.jsx("div",{className:"empty-state",children:l?E.jsxs("div",{className:"empty-content",children:[E.jsx("div",{className:"empty-icon",children:""}),E.jsx("h2",{children:"Ready for New Adventures?"}),E.jsx("p",{children:"Generate fresh trip bundles based on your preferences!"}),a&&E.jsx("button",{className:"generate-new-button",onClick:a,disabled:t.count>=t.maxDaily,children:t.count>=t.maxDaily?" Daily Limit Reached":" Generate New Bundles"})]}):E.jsxs("div",{className:"empty-content",children:[E.jsx("div",{className:"empty-icon",children:""}),E.jsx("h2",{children:"No Trip Bundles Yet"}),E.jsx("p",{children:"Complete your preferences to get personalized trip recommendations!"})]})}):E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"bundles-grid",children:e.map(g)}),o&&E.jsx("div",{className:"load-more-container",children:u?E.jsxs("div",{className:"loading-indicator",children:[E.jsx("div",{className:"loading-spinner"}),E.jsx("span",{children:"Fetching New Bundles..."})]}):E.jsx("button",{className:"load-more-button",onClick:i,disabled:t.count>=t.maxDaily,children:t.count>=t.maxDaily?" Daily Limit Reached":" Load More Bundles"})})]})})]})},cE=({bundle:e,onBack:t})=>{const n=i=>{const a=new Date(i),o={weekday:"long",year:"numeric",month:"long",day:"numeric"};return a.toLocaleDateString("en-US",o)},r=i=>{switch(i){case"concerts":return"";case"sports":return"";case"artDesign":return"";case"localCulture":return"";case"culinary":return"";default:return""}},s=(i,a)=>E.jsxs("div",{className:"event-item",children:[E.jsxs("div",{className:"event-header",children:[E.jsx("span",{className:"event-icon",children:r(i.interestType)}),E.jsx("h3",{className:"event-title",children:i.title})]}),E.jsxs("div",{className:"event-details",children:[E.jsxs("div",{className:"event-description",children:[" ",i.shortDescription]}),E.jsxs("div",{className:"event-date",children:[" ",n(i.dateRange.startDate)]}),E.jsx("div",{className:"event-full-description",children:i.fullDescription}),i.eventWebsite&&E.jsx("a",{href:i.eventWebsite,target:"_blank",rel:"noopener noreferrer",className:"booking-link",children:"Visit Website "})]})]},a);return E.jsxs("div",{className:"bundle-page",children:[E.jsx("div",{className:"bundle-header",children:E.jsx("button",{className:"back-button",onClick:t,children:" Back to Bundles"})}),E.jsxs("div",{className:"bundle-content",children:[E.jsx("div",{className:"bundle-image-container",children:E.jsx("img",{src:e.imageUrl,alt:e.title,className:"bundle-image",onError:i=>{i.currentTarget.src="https://images.unsplash.com/photo-1488646953014-85cb44e25828?w=800&q=80"}})}),E.jsx("h1",{className:"bundle-title",children:e.title}),E.jsx("p",{className:"bundle-description",children:e.description}),E.jsxs("div",{className:"bundle-dates",children:[E.jsx("h2",{children:" Trip Dates"}),E.jsxs("div",{className:"date-range",children:[E.jsxs("div",{className:"date-item",children:[E.jsx("strong",{children:"Start:"})," ",n(e.dateRange.startDate)]}),E.jsxs("div",{className:"date-item",children:[E.jsx("strong",{children:"End:"})," ",n(e.dateRange.endDate)]})]})]}),e.keyEvents&&Array.isArray(e.keyEvents)&&e.keyEvents.length>0&&E.jsxs("div",{className:"events-section",children:[E.jsx("h2",{children:" Key Events"}),E.jsx("div",{className:"events-list",children:e.keyEvents.map((i,a)=>s(i,a))})]}),e.minorEvents&&Array.isArray(e.minorEvents)&&e.minorEvents.length>0&&E.jsxs("div",{className:"events-section",children:[E.jsx("h2",{children:" Additional Experiences"}),E.jsx("div",{className:"events-list",children:e.minorEvents.map((i,a)=>s(i,a))})]})]})]})},Fg="trip-bundle-prompts-usage",Gi=10,fE=()=>new Date().toISOString().split("T")[0],rf=()=>{const e=localStorage.getItem(Fg),t=fE();if(!e)return{count:0,date:t,maxDaily:Gi};try{const n=JSON.parse(e);return n.date!==t?{count:0,date:t,maxDaily:Gi}:{...n,maxDaily:Gi}}catch{return{count:0,date:t,maxDaily:Gi}}},$g=()=>{const e=rf(),t={...e,count:e.count+1};return localStorage.setItem(Fg,JSON.stringify(t)),t},ma=()=>{const e=rf();return e.count<e.maxDaily},Bg="trip-bundle-user-preferences",Ug="trip-bundle-date-range",li=()=>({interestTypes:{concerts:{isEnabled:!1},sports:{isEnabled:!1},artDesign:{isEnabled:!1},localCulture:{isEnabled:!1},culinary:{isEnabled:!1}},musicProfile:"",freeTextInterests:""}),dE=()=>{const e=localStorage.getItem(Bg);if(!e)return li();try{return JSON.parse(e)}catch{return li()}},Fs=e=>{localStorage.setItem(Bg,JSON.stringify(e))},hE=()=>{const e=localStorage.getItem(Ug);if(!e)return null;try{return JSON.parse(e)}catch{return null}},so=e=>{localStorage.setItem(Ug,JSON.stringify(e))},zg="fteCompleted",pE=()=>{try{return localStorage.getItem(zg)==="true"}catch(e){return console.error("Error reading FTE completion status:",e),!1}},mE=()=>{try{localStorage.setItem(zg,"true"),console.log(" FTE marked as completed")}catch(e){console.error("Error saving FTE completion status:",e)}},rh={SPOTIFY_CLIENT_ID:"bc5f89044c854343a3408f12a4f4a0be",SPOTIFY_REDIRECT_URI:"https://yoavtsook2806.github.io/trip-bundle/spotify-callback.html"},Vg=()=>{const t=window.location.hostname==="yoavtsook2806.github.io",n=window.location.pathname.startsWith("/trip-bundle"),r=window.location.hostname.includes("github.io"),s=t||r||n;if(console.log(" [CONFIG] Environment detection:",{isProduction:!0,isGitHubPages:t,isGitHubPagesPath:n,isAnyGitHubPages:r,forceProduction:s,hostname:window.location.hostname,origin:window.location.origin,pathname:window.location.pathname,href:window.location.href,mode:"production",allEnvVars:{PROD:!0,DEV:!1,MODE:"production",VITE_MOCK:void 0,GITHUB_PAGES:void 0,VITE_SPOTIFY_CLIENT_ID:"bc5f89044c854343a3408f12a4f4a0be",VITE_SPOTIFY_REDIRECT_URI:void 0}}),s)return console.log(" [CONFIG]  FORCING production configuration for GitHub Pages"),console.log(" [CONFIG] Production config being returned:",rh),rh;console.log(" [CONFIG] Using development configuration from env vars");const i={SPOTIFY_CLIENT_ID:"bc5f89044c854343a3408f12a4f4a0be",SPOTIFY_REDIRECT_URI:`${window.location.origin}/spotify-callback.html`};return console.log(" [CONFIG] Development config being returned:",i),i};class gE{constructor(){we(this,"clientId",null);we(this,"clientSecret",null);we(this,"redirectUri");we(this,"accessToken",null);we(this,"refreshToken",null);we(this,"tokenExpiry",null);we(this,"codeVerifier",null);console.log(" [SPOTIFY_SERVICE] Constructor starting...");const t=Vg();console.log(" [SPOTIFY_SERVICE] Config received:",t),this.clientId=t.SPOTIFY_CLIENT_ID,this.clientSecret=null,this.redirectUri=t.SPOTIFY_REDIRECT_URI,console.log(" [SPOTIFY_SERVICE] Configuration applied:",{clientId:this.clientId,clientIdLength:this.clientId?this.clientId.length:0,hasClientSecret:!!this.clientSecret,redirectUri:this.redirectUri,currentOrigin:window.location.origin,userAgent:navigator.userAgent.substring(0,50)+"...",rawConfig:t,allEnvVars:{VITE_SPOTIFY_CLIENT_ID:"bc5f89044c854343a3408f12a4f4a0be",VITE_SPOTIFY_CLIENT_SECRET:void 0,VITE_SPOTIFY_REDIRECT_URI:void 0,VITE_MOCK:void 0,MODE:"production",PROD:!0,DEV:!1},windowLocation:{hostname:window.location.hostname,pathname:window.location.pathname,origin:window.location.origin,protocol:window.location.protocol,href:window.location.href}}),this.loadTokensFromStorage(),console.log(" [SPOTIFY_SERVICE] Initialization complete. Final clientId:",this.clientId)}setRedirectUri(t){this.redirectUri=t}async authenticate(){if(console.log(" [SPOTIFY_AUTH] Starting Spotify authentication..."),console.log(" [SPOTIFY_AUTH] Current state:",{hasClientId:!!this.clientId,hasAccessToken:!!this.accessToken,hasRefreshToken:!!this.refreshToken,tokenExpiry:this.tokenExpiry,isCurrentlyAuthenticated:this.isAuthenticated(),redirectUri:this.redirectUri,currentUrl:window.location.href,isMobile:this.isMobileOrPWA()}),!this.clientId){console.error(" [SPOTIFY_AUTH]  No Spotify Client ID configured");const t=`Spotify Client ID not configured. Please check your environment variables.
      
Current environment:
- VITE_SPOTIFY_CLIENT_ID: bc5f89044c854343a3408f12a4f4a0be
- VITE_SPOTIFY_REDIRECT_URI: NOT SET
- Current Origin: ${window.location.origin}

For real devices, make sure to:
1. Set VITE_SPOTIFY_REDIRECT_URI to match your device's IP/domain
2. Configure the same URI in your Spotify app settings`;throw new Error(t)}if(this.isAuthenticated())return console.log(" [SPOTIFY_AUTH]  Already authenticated with valid token"),!0;if(console.log(" [SPOTIFY_AUTH] Attempting to restore tokens from localStorage..."),this.loadTokensFromStorage(),console.log(" [SPOTIFY_AUTH] After loading from storage:",{hasAccessToken:!!this.accessToken,hasRefreshToken:!!this.refreshToken,tokenExpiry:this.tokenExpiry,isAuthenticated:this.isAuthenticated()}),this.isAuthenticated())return console.log(" [SPOTIFY_AUTH]  Successfully restored valid tokens from localStorage"),!0;if(this.refreshToken){console.log(" [SPOTIFY_AUTH] Attempting to refresh access token...");try{const t=await this.refreshAccessToken();if(console.log(" [SPOTIFY_AUTH] Refresh token result:",t),t&&this.isAuthenticated())return console.log(" [SPOTIFY_AUTH]  Successfully refreshed token"),!0}catch(t){console.warn(" [SPOTIFY_AUTH]  Failed to refresh Spotify token:",t)}}return console.log(" [SPOTIFY_AUTH]  Starting OAuth flow..."),this.startOAuthFlow()}startOAuthFlow(){return new Promise(async(t,n)=>{try{console.log(" [SPOTIFY_OAUTH] Generating auth URL...");const r=await this.getAuthUrl();if(console.log(" [SPOTIFY_OAUTH] Generated auth URL:",r.substring(0,100)+"..."),localStorage.removeItem("spotify_auth_code"),localStorage.removeItem("spotify_auth_error"),this.isMobileOrPWA()){console.log(" [SPOTIFY_OAUTH] Mobile/PWA detected - using direct redirect"),window.location.href=r;return}console.log(" [SPOTIFY_OAUTH] Opening popup window...");const s=window.open(r,"spotify-auth","width=600,height=700,scrollbars=yes,resizable=yes");if(!s){console.log(" [SPOTIFY_OAUTH]  Popup blocked - falling back to redirect"),window.location.href=r;return}console.log(" [SPOTIFY_OAUTH]  Popup opened successfully, waiting for auth...");let i=!1,a;const o=async l=>{if(l.data.type==="SPOTIFY_AUTH_SUCCESS"){i=!0,clearInterval(a),window.removeEventListener("message",o);try{const u=await this.handleCallback(l.data.code);s.close(),t(u)}catch(u){s.close(),n(u)}}else l.data.type==="SPOTIFY_AUTH_ERROR"&&(i=!0,clearInterval(a),window.removeEventListener("message",o),s.close(),n(new Error(l.data.error||"Authentication failed")))};window.addEventListener("message",o),a=setInterval(async()=>{const l=localStorage.getItem("spotify_auth_code"),u=localStorage.getItem("spotify_auth_error");if(l&&!i){i=!0,clearInterval(a),window.removeEventListener("message",o),localStorage.removeItem("spotify_auth_code");try{const c=await this.handleCallback(l);s.close(),t(c)}catch(c){s.close(),n(c)}return}if(u&&!i){i=!0,clearInterval(a),window.removeEventListener("message",o),localStorage.removeItem("spotify_auth_error"),s.close(),n(new Error(u));return}s.closed&&!i&&(clearInterval(a),window.removeEventListener("message",o),this.isAuthenticated()?t(!0):n(new Error("Authentication was cancelled or failed")))},500),setTimeout(()=>{!s.closed&&!i&&(clearInterval(a),window.removeEventListener("message",o),s.close(),n(new Error("Authentication timeout - please try again")))},5*60*1e3)}catch(r){n(r)}})}async getAuthUrl(){if(!this.clientId)throw new Error("Spotify client ID not configured");this.codeVerifier=this.generateCodeVerifier();const t=await this.generateCodeChallenge(this.codeVerifier);localStorage.setItem("spotify_code_verifier",this.codeVerifier);const n=["user-read-private","user-read-email","user-top-read","user-read-recently-played","user-library-read","playlist-read-private"].join(" "),s=`https://accounts.spotify.com/authorize?${new URLSearchParams({response_type:"code",client_id:this.clientId,scope:n,redirect_uri:this.redirectUri,state:this.generateRandomString(16),code_challenge_method:"S256",code_challenge:t}).toString()}`;return localStorage.setItem("spotify_auth_in_progress","true"),s}async handleCallback(t){if(this.codeVerifier||(this.codeVerifier=localStorage.getItem("spotify_code_verifier")),!this.clientId||!this.codeVerifier)throw new Error("Spotify client ID or code verifier not configured");try{const n={grant_type:"authorization_code",code:t,redirect_uri:this.redirectUri,client_id:this.clientId,code_verifier:this.codeVerifier},r=await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(n)});if(!r.ok){const i=await r.text();throw new Error(`Token exchange failed: ${r.status} - ${i}`)}const s=await r.json();return this.accessToken=s.access_token,this.refreshToken=s.refresh_token,this.tokenExpiry=Date.now()+s.expires_in*1e3,this.saveTokensToStorage(),localStorage.removeItem("spotify_code_verifier"),!0}catch(n){return console.error(" [DEBUG] Spotify callback error:",n),!1}}async refreshAccessToken(){if(!this.refreshToken||!this.clientId)return!1;try{const t=await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"refresh_token",refresh_token:this.refreshToken,client_id:this.clientId})});if(!t.ok)return!1;const n=await t.json();return this.accessToken=n.access_token,n.refresh_token&&(this.refreshToken=n.refresh_token),this.tokenExpiry=Date.now()+n.expires_in*1e3,this.saveTokensToStorage(),!0}catch(t){return console.error(" [DEBUG] Token refresh error:",t),!1}}async getUserProfile(){return await this.makeApiRequest("/me")}async getTopArtists(t="medium_term",n=20){return(await this.makeApiRequest(`/me/top/artists?time_range=${t}&limit=${n}`)).items}async getTopTracks(t="medium_term",n=20){return(await this.makeApiRequest(`/me/top/tracks?time_range=${t}&limit=${n}`)).items}async getUserPreferences(){console.log(" Fetching user preferences...");const[t,n]=await Promise.all([this.getTopArtists(),this.getTopTracks()]),r={};t.forEach(a=>{a.genres.forEach(o=>{r[o]=(r[o]||0)+1})});const s=Object.entries(r).sort(([,a],[,o])=>o-a).slice(0,10).map(([a])=>a),i={danceability:.5,energy:.5,valence:.5,acousticness:.5,instrumentalness:.5};return{topArtists:t.slice(0,10),topTracks:n.slice(0,10),topGenres:s,musicProfile:i}}generateTextualMusicProfile(t){const{topArtists:n,topTracks:r,topGenres:s}=t,i=n.slice(0,5).map(d=>d.name),a=i.length>0?`Favorite artists include ${i.join(", ")}`:"No favorite artists identified",o=s.length>0?`Primary music genres are ${s.slice(0,5).join(", ")}`:"No specific genre preferences identified",l=r.slice(0,3).map(d=>{var h;return`"${d.name}" by ${((h=d.artists[0])==null?void 0:h.name)||"Unknown Artist"}`}),u=l.length>0?`Recent favorite songs include ${l.join(", ")}`:"No favorite tracks identified",c=`${a}. ${o}. ${u}. This music taste suggests preferences for live music events, concerts, and music festivals that align with these genres and artists.`;return console.log(" [MUSIC_PROFILE] Generated textual music profile:",c),c}async makeApiRequest(t){if(await this.ensureValidToken(),!this.accessToken)throw new Error("No valid access token available");const n=await fetch(`https://api.spotify.com/v1${t}`,{headers:{Authorization:`Bearer ${this.accessToken}`,"Content-Type":"application/json"}});if(!n.ok){if(n.status===401&&await this.refreshAccessToken())return this.makeApiRequest(t);throw new Error(`Spotify API error: ${n.status} ${n.statusText}`)}return n.json()}async ensureValidToken(){if(!this.accessToken||!this.tokenExpiry)throw new Error("No access token available");if(Date.now()+5*60*1e3>this.tokenExpiry&&!await this.refreshAccessToken())throw new Error("Unable to refresh access token")}generateRandomString(t){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let r="";for(let s=0;s<t;s++)r+=n.charAt(Math.floor(Math.random()*n.length));return r}generateCodeVerifier(){return this.generateRandomString(128)}async generateCodeChallenge(t){const r=new TextEncoder().encode(t),s=await window.crypto.subtle.digest("SHA-256",r);return btoa(String.fromCharCode.apply(null,[...new Uint8Array(s)])).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}isMobileOrPWA(){const t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile|Tablet/i.test(navigator.userAgent),n=window.matchMedia("(display-mode: standalone)").matches,r="ontouchstart"in window||navigator.maxTouchPoints>0,s=window.innerWidth<=768,i=t||n||r&&s;return console.log(" [DEVICE_DETECTION]",{isMobileUA:t,isPWA:n,isTouchDevice:r,isSmallScreen:s,windowWidth:window.innerWidth,userAgent:navigator.userAgent.substring(0,100),finalResult:i}),i}saveTokensToStorage(){this.accessToken&&localStorage.setItem("spotify_access_token",this.accessToken),this.refreshToken&&localStorage.setItem("spotify_refresh_token",this.refreshToken),this.tokenExpiry&&localStorage.setItem("spotify_token_expiry",this.tokenExpiry.toString())}loadTokensFromStorage(){this.accessToken=localStorage.getItem("spotify_access_token"),this.refreshToken=localStorage.getItem("spotify_refresh_token");const t=localStorage.getItem("spotify_token_expiry");t&&(this.tokenExpiry=parseInt(t))}isAuthenticated(){return this.accessToken!==null&&this.tokenExpiry!==null&&Date.now()<this.tokenExpiry}disconnect(){this.accessToken=null,this.refreshToken=null,this.tokenExpiry=null,localStorage.removeItem("spotify_access_token"),localStorage.removeItem("spotify_refresh_token"),localStorage.removeItem("spotify_token_expiry")}isConfigured(){return this.clientId!==null}}const hr=new gE,xl=({initialPreferences:e,initialDateRange:t,promptsUsage:n,onSave:r,onCancel:s,isFTEMode:i=!1})=>{var cr;console.log(" [PREFERENCES_COMPONENT] Component initializing with props:",{initialPreferences:{interests:Object.entries(e.interestTypes).filter(([V,x])=>x.isEnabled).map(([V,x])=>V),freeText:e.freeTextInterests,musicProfile:((cr=e.musicProfile)==null?void 0:cr.substring(0,50))+"..."},isFTEMode:i,componentRender:Date.now()});const[a,o]=re.useState(e),[l,u]=re.useState(t),[c,d]=re.useState(!1),[h,g]=re.useState(!1),[_,S]=re.useState(!1),O=Vg(),m=!!O.SPOTIFY_CLIENT_ID;console.log(" [PREFERENCES_INIT] Spotify availability:",{isSpotifyAvailable:m,clientId:O.SPOTIFY_CLIENT_ID,redirectUri:O.SPOTIFY_REDIRECT_URI,isFTEMode:i}),re.useEffect(()=>{(async()=>{var Y,Q,He;const P=new URLSearchParams(window.location.search).get("spotify_auth_return"),D=localStorage.getItem("spotify_auth_code");if(console.log(" [PREFERENCES_SPOTIFY_RETURN] Checking for Spotify return:",{spotifyAuthReturn:!!P,hasAuthCode:!!D,currentUrl:window.location.href}),P&&D&&!f()){console.log(" [PREFERENCES_SPOTIFY_RETURN] Processing Spotify return with auth code"),S(!0);try{console.log(" [PREFERENCES_SPOTIFY_RETURN] Calling spotifyService.handleCallback...");const st=await hr.handleCallback(D);if(console.log(" [PREFERENCES_SPOTIFY_RETURN] Callback handling result:",st),st){console.log(" [PREFERENCES_SPOTIFY_RETURN]  Authentication successful, fetching user preferences...");const un=await hr.getUserPreferences();console.log(" [PREFERENCES_SPOTIFY_RETURN] User preferences fetched:",{topGenres:((Y=un.topGenres)==null?void 0:Y.length)||0,topArtists:((Q=un.topArtists)==null?void 0:Q.length)||0,topTracks:((He=un.topTracks)==null?void 0:He.length)||0});const Rt=hr.generateTextualMusicProfile(un);console.log(" [PREFERENCES_SPOTIFY_RETURN] Generated textual profile:",Rt),console.log(" [PREFERENCES_SPOTIFY_RETURN]  Music profile created, updating state..."),v(Rt),console.log(" [PREFERENCES_SPOTIFY_RETURN]  Spotify connection completed successfully!"),localStorage.removeItem("spotify_auth_code"),localStorage.removeItem("spotify_auth_state"),window.history.replaceState({},document.title,window.location.pathname)}else console.error(" [PREFERENCES_SPOTIFY_RETURN]  Callback handling failed"),localStorage.removeItem("spotify_auth_code"),localStorage.removeItem("spotify_auth_state")}catch(st){console.error(" [PREFERENCES_SPOTIFY_RETURN]  Error processing Spotify return:",st),localStorage.removeItem("spotify_auth_code"),localStorage.removeItem("spotify_auth_state")}finally{S(!1)}}})()},[]),re.useEffect(()=>{var V,x;console.log(" [PREFERENCES_PROPS_UPDATE] Props changed, updating local state:",{newInitialPreferences:{interests:Object.entries(e.interestTypes).filter(([P,D])=>D.isEnabled).map(([P,D])=>P),freeText:e.freeTextInterests,musicProfile:((V=e.musicProfile)==null?void 0:V.substring(0,50))+"..."},currentPreferences:{interests:Object.entries(a.interestTypes).filter(([P,D])=>D.isEnabled).map(([P,D])=>P),freeText:a.freeTextInterests,musicProfile:((x=a.musicProfile)==null?void 0:x.substring(0,50))+"..."},shouldUpdate:JSON.stringify(e)!==JSON.stringify(a)}),JSON.stringify(e)!==JSON.stringify(a)&&(console.log(" [PREFERENCES_PROPS_UPDATE] Updating preferences from props"),o(e)),JSON.stringify(t)!==JSON.stringify(l)&&(console.log(" [PREFERENCES_PROPS_UPDATE] Updating date range from props"),u(t))},[e,t]);const f=()=>{if(!a.musicProfile)return console.log(" [PREFERENCES_SPOTIFY_STATE] No music profile set"),!1;const V=a.musicProfile.includes("Favorite artists include"),x=a.musicProfile.includes("Primary music genres are"),P=a.musicProfile.includes("Recent favorite songs include"),D=V||x||P;return console.log(" [PREFERENCES_SPOTIFY_STATE] Connection check:",{hasArtists:V,hasGenres:x,hasTracks:P,isConnected:D,profileLength:a.musicProfile.length,profilePreview:a.musicProfile.substring(0,100)+"..."}),D};re.useEffect(()=>{if(i){const V=Object.values(a.interestTypes).some(x=>x.isEnabled);d(V)}else{const V=JSON.stringify(a)!==JSON.stringify(e),x=JSON.stringify(l)!==JSON.stringify(t);d(V||x)}},[a,l,e,t,i]);const p=(V,x)=>{o(P=>{const D={...P,interestTypes:{...P.interestTypes,[V]:{isEnabled:x}}};return console.log(" [PREFERENCES_INTEREST_CHANGE] Saving updated preferences to storage"),Fs(D),D})},v=V=>{var x;console.log(" [PREFERENCES_MUSIC_CHANGE] Updating music profile:",{oldProfile:((x=a.musicProfile)==null?void 0:x.substring(0,50))+"...",newProfile:V.substring(0,50)+"...",currentPreferences:{interests:Object.entries(a.interestTypes).filter(([P,D])=>D.isEnabled).map(([P,D])=>P),freeText:a.freeTextInterests,hasData:!!a}}),o(P=>{var Y;const D={...P,musicProfile:V};return console.log(" [PREFERENCES_MUSIC_CHANGE] Updated preferences:",{interests:Object.entries(D.interestTypes).filter(([Q,He])=>He.isEnabled).map(([Q,He])=>Q),freeText:D.freeTextInterests,musicProfile:((Y=D.musicProfile)==null?void 0:Y.substring(0,50))+"..."}),console.log(" [PREFERENCES_MUSIC_CHANGE] Saving updated preferences to storage"),Fs(D),D})},k=async()=>{var V,x,P,D;if(console.log(" [PREFERENCES_SPOTIFY] Starting Spotify connection..."),console.log(" [PREFERENCES_SPOTIFY] Current state:",{isConnectingSpotify:_,isSpotifyAvailable:m,isSpotifyConnected:f(),currentMusicProfile:((V=a.musicProfile)==null?void 0:V.substring(0,100))+"..."}),_){console.log(" [PREFERENCES_SPOTIFY] Already connecting, ignoring duplicate request");return}if(!m){console.error(" [PREFERENCES_SPOTIFY] Spotify not available in this configuration"),alert("Spotify integration is not available in this deployment. Please use the text field to describe your music preferences instead.");return}S(!0),console.log(" [PREFERENCES_SPOTIFY] Set connecting state to true");try{console.log(" [PREFERENCES_SPOTIFY] Calling spotifyService.authenticate()...");const Y=await hr.authenticate();if(console.log(" [PREFERENCES_SPOTIFY] Authentication result:",Y),Y){console.log(" [PREFERENCES_SPOTIFY]  Authentication successful, fetching user preferences...");const Q=await hr.getUserPreferences();console.log(" [PREFERENCES_SPOTIFY] User preferences fetched:",{topGenres:((x=Q.topGenres)==null?void 0:x.length)||0,topArtists:((P=Q.topArtists)==null?void 0:P.length)||0,topTracks:((D=Q.topTracks)==null?void 0:D.length)||0});const He=hr.generateTextualMusicProfile(Q);console.log(" [PREFERENCES_SPOTIFY] Generated textual profile:",He),console.log(" [PREFERENCES_SPOTIFY]  Music profile created, updating state..."),v(He),console.log(" [PREFERENCES_SPOTIFY]  Spotify connection completed successfully!")}else console.error(" [PREFERENCES_SPOTIFY]  Spotify authentication failed"),alert("Failed to connect to Spotify. Please try again or use the text field instead.")}catch(Y){console.error(" [PREFERENCES_SPOTIFY]  Error connecting to Spotify:",Y),Y instanceof Error&&Y.message.includes("Client ID not configured")?(console.log(" [PREFERENCES_SPOTIFY] Configuration issue detected - showing user-friendly message"),alert("Spotify integration is not available in this deployment. Please use the text field to describe your music preferences instead.")):alert("Error connecting to Spotify. Please try again or use the text field instead.")}finally{console.log(" [PREFERENCES_SPOTIFY] Setting connecting state to false"),S(!1)}},C=V=>{o(x=>{const P={...x,freeTextInterests:V};return console.log(" [PREFERENCES_FREETEXT_CHANGE] Saving updated preferences to storage"),Fs(P),P})},b=V=>{const x=new Date(V.target.value).getTime();u(P=>{const D={...P,startDate:x,endDate:Math.max(P.endDate,x+864e5)};return console.log(" [PREFERENCES_DATE_CHANGE] Saving updated date range to storage"),so(D),D})},I=V=>{const x=new Date(V.target.value).getTime();u(P=>{const D={...P,endDate:x};return console.log(" [PREFERENCES_DATE_CHANGE] Saving updated date range to storage"),so(D),D})},B=()=>{const V=Object.values(a.interestTypes).some(P=>P.isEnabled),x=l.endDate>l.startDate;return V&&x},M=()=>{B()&&ma()&&r(a,l)},W=()=>{c?g(!0):s()},Le=()=>{g(!1),s()},Fe=V=>new Date(V).toISOString().split("T")[0],Mn=B()&&c&&ma(),ln=!ma();return E.jsxs("div",{className:"preferences-screen",children:[E.jsxs("div",{className:"preferences-container",children:[E.jsxs("div",{className:"preferences-header",children:[!i&&E.jsx("button",{className:"close-button",onClick:W,children:""}),E.jsx("h1",{children:i?" Plan Your Perfect Trip":" Preferences"}),!i&&E.jsx("div",{className:"usage-indicator",children:E.jsxs("span",{className:`usage-count ${ln?"limit-reached":""}`,children:[n.count,"/",n.maxDaily," calls today"]})})]}),ln&&E.jsxs("div",{className:"limit-warning",children:[" You've reached your daily limit of ",n.maxDaily," calls. Try again tomorrow!"]}),E.jsxs("div",{className:"preferences-content",children:[E.jsxs("div",{className:"pref-section",children:[E.jsx("h2",{children:"What interests you?"}),E.jsx("div",{className:"interests-grid",children:Object.entries(a.interestTypes).map(([V,x])=>E.jsxs("label",{className:"interest-checkbox",children:[E.jsx("input",{type:"checkbox",checked:x.isEnabled,onChange:P=>p(V,P.target.checked)}),E.jsx("span",{className:"interest-label",children:V==="artDesign"?"Art & Design":V==="localCulture"?"Local Culture":V.charAt(0).toUpperCase()+V.slice(1)})]},V))})]}),E.jsxs("div",{className:"pref-section",children:[E.jsx("h2",{children:"Music Taste"}),E.jsxs("div",{className:"music-options",children:[E.jsx("button",{className:`music-option ${f()?"active":""} ${m?"":"disabled"}`,onClick:k,disabled:_||!m,title:m?"":"Spotify integration not available in this deployment",children:m?_?" Connecting...":f()?" Spotify Connected":" Connect Spotify":" Spotify Not Available"}),E.jsxs("div",{className:"music-text-option",children:[E.jsx("label",{children:"Or describe your music taste:"}),E.jsx("textarea",{value:f()?" Spotify Connected! Your music preferences have been imported.":a.musicProfile,onChange:V=>v(V.target.value),placeholder:"e.g., I love indie rock, jazz, and electronic music...",rows:3,readOnly:f()})]})]})]}),E.jsxs("div",{className:"pref-section",children:[E.jsx("h2",{children:"When would you like to travel?"}),E.jsxs("div",{className:"date-range",children:[E.jsxs("div",{className:"date-input",children:[E.jsx("label",{children:"Start Date:"}),E.jsx("input",{type:"date",value:Fe(l.startDate),onChange:b,min:Fe(Date.now())})]}),E.jsxs("div",{className:"date-input",children:[E.jsx("label",{children:"End Date:"}),E.jsx("input",{type:"date",value:Fe(l.endDate),onChange:I,min:Fe(l.startDate+24*60*60*1e3)})]})]})]}),E.jsxs("div",{className:"pref-section",children:[E.jsx("h2",{children:"Additional Interests"}),E.jsx("textarea",{value:a.freeTextInterests,onChange:V=>C(V.target.value),placeholder:"Tell us about any specific interests, activities, or experiences you're looking for...",rows:4})]})]}),E.jsx("div",{className:"preferences-footer",children:E.jsx("button",{className:`save-button ${Mn?"enabled":"disabled"}`,onClick:M,disabled:!Mn,children:ln?"Daily Limit Reached":i?"GO!":"Save & Generate New Bundles"})})]}),h&&E.jsx("div",{className:"modal-overlay",children:E.jsxs("div",{className:"confirm-modal",children:[E.jsx("h3",{children:"Unsaved Changes"}),E.jsx("p",{children:"You have unsaved changes. Are you sure you want to exit without saving?"}),E.jsxs("div",{className:"modal-buttons",children:[E.jsx("button",{className:"cancel-modal",onClick:()=>g(!1),children:"Cancel"}),E.jsx("button",{className:"confirm-modal-btn",onClick:Le,children:"Exit Without Saving"})]})]})})]})};class vE{constructor(){we(this,"currentScreen","firstTime");we(this,"isLoading",!1);we(this,"bundles",[]);we(this,"selectedBundle",null);we(this,"bundlesLoaded",0);we(this,"maxBundles",10);we(this,"userPreferences",null);we(this,"dateRange",null);we(this,"promptsUsage",{count:0,date:new Date().toISOString().split("T")[0],maxDaily:10});bS(this)}setCurrentScreen(t){this.currentScreen=t}setLoading(t){this.isLoading=t}setBundles(t){this.bundles=t,this.bundlesLoaded=t.length}addBundles(t){this.bundles=[...this.bundles,...t],this.bundlesLoaded=this.bundles.length}setSelectedBundle(t){this.selectedBundle=t}setUserPreferences(t){this.userPreferences=t}setDateRange(t){this.dateRange=t}setPromptsUsage(t){this.promptsUsage=t}resetAll(){this.currentScreen="firstTime",this.isLoading=!1,this.bundles=[],this.selectedBundle=null,this.bundlesLoaded=0,this.userPreferences=li(),this.dateRange=null,this.promptsUsage={count:0,date:new Date().toISOString().split("T")[0],maxDaily:10}}get hasCompletedSetup(){return!this.userPreferences||!this.dateRange?!1:Object.values(this.userPreferences.interestTypes).some(n=>n.isEnabled)}get canMakePromptCall(){return this.promptsUsage.count<this.promptsUsage.maxDaily}get canLoadMore(){return this.bundlesLoaded<this.maxBundles&&this.canMakePromptCall}}const j=new vE,y=()=>Date.now()+30*24*60*60*1e3,ge=(e=3)=>y()+e*24*60*60*1e3,yE=async(e,t=[])=>{console.log(" [MOCK] Getting bundles from AI..."),console.log(" User prompt:",e),console.log(" Existing bundles to filter:",t.map(l=>l.title));const n=[{imageUrl:"https://source.unsplash.com/random/800x600/?amsterdam-concert,electronic-music",title:"Amsterdam: ADE Weekender  Electronic Peaks & Local Flavours",description:"Five days in Amsterdam timed to Amsterdam Dance Event + AMF: immersive electronic and house showcases, late-night club culture, and fresh market food runs.",city:"Amsterdam, Netherlands",dateRange:{startDate:y(),endDate:ge(5)},keyEvents:[{title:"Amsterdam Dance Event (ADE) Festival",fullDescription:"ADE is Europe's biggest electronic-music conference and club festival, staging hundreds of club shows, panels and label showcases across Amsterdam from October 2226, 2025. Expect world-class DJs, label nights, and daytime showcases that map directly to your electronic/house tastes.",shortDescription:"Europe's biggest electronic-week: 2226 Oct 2025, citywide club and festival programme.",interestType:"concerts",dateRange:{startDate:y()+24*60*60*1e3,endDate:y()+5*24*60*60*1e3},eventWebsite:"https://www.amsterdam-dance-event.nl/en/"},{title:"AMF (Amsterdam Music Festival) at Johan Cruijff ArenA",fullDescription:"AMF is ADE's stadium-scale electronica night that transforms Johan Cruijff ArenA into a one-night mega-club with headline DJs and production on a grand scale. If you like festival energy and arena-level electronic shows, AMF is a must.",shortDescription:"Arena-scale electronic spectacle at Johan Cruijff ArenA.",interestType:"concerts",dateRange:{startDate:y()+4*24*60*60*1e3,endDate:y()+4*24*60*60*1e3},eventWebsite:"https://www.amsterdam-dance-event.nl/en/program/2025/amf-2025/2682387/"}],minorEvents:[{title:"Paradiso  Historic club & live-music programme",fullDescription:"Paradiso (a converted church) is Amsterdam's iconic live-music venue with club nights and intimate concerts covering hip hop, electronic, jazz-adjacent acts and crossover sets.",shortDescription:"Legendary Amsterdam club hosting ADE-related shows, late nights and eclectic gigs.",interestType:"concerts",dateRange:{startDate:y(),endDate:y()+5*24*60*60*1e3},eventWebsite:"https://www.paradiso.nl/en"},{title:"Albert Cuyp Market  De Pijp daytime food & street culture",fullDescription:"A stroll-and-sample stop: Albert Cuyp is Amsterdam's largest daytime market (open MonSat). Taste stroopwafels, herring, poffertjes and international street food stalls.",shortDescription:"Historic De Pijp market for local snacks, cheeses and street-food discovery.",interestType:"culinary",dateRange:{startDate:y()+24*60*60*1e3,endDate:y()+24*60*60*1e3}}]},{imageUrl:"https://source.unsplash.com/random/800x600/?berlin-art,gallery-exhibition",title:"Berlin: Autumn Art Surge  Biennale + Art Week",description:"Five days in Berlin centered on Berlin Art Week and the 13th Berlin Biennale  gallery openings, contemporary performance, and literary & local culture side-programmes.",city:"Berlin, Germany",dateRange:{startDate:y()+10*24*60*60*1e3,endDate:ge(15)},keyEvents:[{title:"Berlin Art Week",fullDescription:"Berlin Art Week is the city's fall contemporary-art moment: museum exhibitions, gallery openings, talks, and late-night project-space programs concentrate over five days.",shortDescription:"Citywide contemporary-art festival and gallery program.",interestType:"artDesign",dateRange:{startDate:y()+10*24*60*60*1e3,endDate:y()+15*24*60*60*1e3},eventWebsite:"https://berlinartweek.de/en/"},{title:"13th Berlin Biennale for Contemporary Art",fullDescription:"The 13th Berlin Biennale presents a cross-venue program of site-specific works, installations and performances by international artists.",shortDescription:"Berlin Biennale  major contemporary-art exhibition.",interestType:"artDesign",dateRange:{startDate:y()+10*24*60*60*1e3,endDate:y()+15*24*60*60*1e3}}],minorEvents:[{title:"International Literature Festival Berlin",fullDescription:"The International Literature Festival Berlin runs with readings, panels and multilingual talks across city venues.",shortDescription:"Citywide festival of readings, panels and author events.",interestType:"localCulture",dateRange:{startDate:y()+11*24*60*60*1e3,endDate:y()+14*24*60*60*1e3},eventWebsite:"https://literaturfestival.com/en/"},{title:"Open Monument Day",fullDescription:"Open Monument Day offers special access to historic buildings, restoration workshops and curated tours.",shortDescription:"Special-access heritage weekend with tours and behind-the-scenes visits.",interestType:"localCulture",dateRange:{startDate:y()+13*24*60*60*1e3,endDate:y()+14*24*60*60*1e3},eventWebsite:"https://www.tag-des-offenen-denkmals.de/"}]},{imageUrl:"https://source.unsplash.com/random/800x600/?paris-art-basel,grand-palais",title:"Paris: Art-Week Immersion  Art Basel Paris + Paris Internationale",description:"Five-day Paris pick during Paris Art Week: Art Basel Paris and Paris Internationale lock the city into an intense art-and-design beat with museum highlights and culinary side-stops.",city:"Paris, France",dateRange:{startDate:y()+20*24*60*60*1e3,endDate:ge(25)},keyEvents:[{title:"Art Basel Paris (Paris+ par Art Basel)  Grand Palais",fullDescription:"Art Basel Paris gathers leading international galleries at the Grand Palais and runs a wide public program in the city: talks, outdoor sculpture projects and museum tie-ins.",shortDescription:"Major contemporary-art fair at the Grand Palais, citywide public program.",interestType:"artDesign",dateRange:{startDate:y()+20*24*60*60*1e3,endDate:y()+25*24*60*60*1e3},eventWebsite:"https://www.artbasel.com/paris?lang=en"},{title:"Paris Internationale",fullDescription:"Paris Internationale is a curated, discovery-focused fair showcasing emerging galleries and experimental projects.",shortDescription:"Nomadic contemporary fair for emerging galleries and experimental projects.",interestType:"artDesign",dateRange:{startDate:y()+20*24*60*60*1e3,endDate:y()+25*24*60*60*1e3},eventWebsite:"https://parisinternationale.com/"}],minorEvents:[{title:"Gerhard Richter retrospective  Fondation Louis Vuitton",fullDescription:"A major Gerhard Richter retrospective at Fondation Louis Vuitton  timed perfectly to coincide with Art Week.",shortDescription:"Gerhard Richter retrospective at Fondation Louis Vuitton.",interestType:"artDesign",dateRange:{startDate:y()+17*24*60*60*1e3,endDate:y()+90*24*60*60*1e3}},{title:"Paris museum & culinary route",fullDescription:"During Art Week many Paris museums open special late nights and the Tuileries/Jardin public programs run pop-up installations.",shortDescription:"Late-night museum programs and Tuileries pop-ups with bistro/wine pairings during Art Week.",interestType:"culinary",dateRange:{startDate:y()+20*24*60*60*1e3,endDate:y()+25*24*60*60*1e3},eventWebsite:"https://www.parismusees.paris.fr/"}]},{imageUrl:"https://source.unsplash.com/random/800x600/?barcelona-festival,la-merce",title:"Barcelona: La Merc  City Festival, Street Spectacle & Taste",description:"Six days in Barcelona for La Merc: citywide free concerts, BAM showcases, human-tower tradition, and Terra i Gust sustainable food programming.",city:"Barcelona, Spain",dateRange:{startDate:y()+30*24*60*60*1e3,endDate:ge(36)},keyEvents:[{title:"La Merc (Festes de la Merc)  Barcelona's city festival",fullDescription:"La Merc is Barcelona's biggest annual festival  a packed programme of free concerts, castellers (human towers), parades, fireworks (Piromusical) and public art across the city.",shortDescription:"Barcelona's citywide festival of music, street-art and tradition.",interestType:"localCulture",dateRange:{startDate:y()+30*24*60*60*1e3,endDate:y()+36*24*60*60*1e3},eventWebsite:"https://www.barcelona.cat/lamerce/en/"},{title:"BAM (Barcelona Acci Musical)  La Merc's music strand",fullDescription:"BAM runs inside La Merc and highlights experimental, indie and electronic sounds on multiple stages throughout the city.",shortDescription:"BAM  the festival's edgy musical programme across multiple stages during La Merc.",interestType:"concerts",dateRange:{startDate:y()+30*24*60*60*1e3,endDate:y()+36*24*60*60*1e3}}],minorEvents:[{title:"Terra i Gust  Merc's sustainable gastronomy programme",fullDescription:"Terra i Gust (part of La Merc) is Barcelona's sustainable-food hub offering tastings, debates and local-produce showcases in Parc de la Ciutadella.",shortDescription:"Sustainable-food fair within La Merc (Parc de la Ciutadella).",interestType:"culinary",dateRange:{startDate:y()+33*24*60*60*1e3,endDate:y()+36*24*60*60*1e3},eventWebsite:"https://ajuntament.barcelona.cat/"},{title:"BAM & Merc free-stage highlights",fullDescription:"La Merc's open-air stages (Bogatell beach, Ciutadella, Plaa Catalunya) host headline and local acts  often free  spanning electronic DJ sets, hip hop showcases and neo-soul.",shortDescription:"Free concerts across city stages (Bogatell, Ciutadella, Plaa Catalunya) during La Merc.",interestType:"concerts",dateRange:{startDate:y()+30*24*60*60*1e3,endDate:y()+36*24*60*60*1e3},eventWebsite:"https://www.barcelona.cat/lamerce/en/"}]},{imageUrl:"https://source.unsplash.com/random/800x600/?tokyo-cherry-blossom,temple",title:"Tokyo: Cherry Blossom Season & Traditional Arts",description:"Experience Tokyo during the magical cherry blossom season with traditional tea ceremonies, temple visits, and modern art galleries.",city:"Tokyo, Japan",dateRange:{startDate:y()+40*24*60*60*1e3,endDate:ge(46)},keyEvents:[{title:"Hanami Cherry Blossom Festival",fullDescription:"Join locals for hanami (flower viewing) in Ueno Park and Shinjuku Gyoen during peak cherry blossom season.",shortDescription:"Traditional cherry blossom viewing in Tokyo's most beautiful parks.",interestType:"localCulture",dateRange:{startDate:y()+40*24*60*60*1e3,endDate:y()+46*24*60*60*1e3},eventWebsite:"https://www.japan-guide.com/e/e3951.html"},{title:"TeamLab Borderless Digital Art Museum",fullDescription:"Immerse yourself in interactive digital art installations at this groundbreaking museum in Odaiba.",shortDescription:"Interactive digital art experience at TeamLab Borderless.",interestType:"artDesign",dateRange:{startDate:y()+41*24*60*60*1e3,endDate:y()+41*24*60*60*1e3},eventWebsite:"https://www.teamlab.art/e/borderless/"}],minorEvents:[{title:"Traditional Tea Ceremony Experience",fullDescription:"Learn the ancient art of Japanese tea ceremony in a traditional tea house in the historic Asakusa district.",shortDescription:"Authentic tea ceremony experience in historic Asakusa.",interestType:"localCulture",dateRange:{startDate:y()+42*24*60*60*1e3,endDate:y()+42*24*60*60*1e3}},{title:"Tsukiji Outer Market Food Tour",fullDescription:"Explore the famous Tsukiji Outer Market with a local guide, sampling fresh sushi, street food, and traditional Japanese snacks.",shortDescription:"Guided food tour through Tokyo's famous Tsukiji market.",interestType:"culinary",dateRange:{startDate:y()+43*24*60*60*1e3,endDate:y()+43*24*60*60*1e3},eventWebsite:"https://www.tsukiji.or.jp/english/"}]},{imageUrl:"https://source.unsplash.com/random/800x600/?new-york-broadway,jazz",title:"New York: Broadway & Jazz Heritage",description:"Dive into New York's performing arts scene with Broadway shows, jazz clubs, and cultural landmarks.",city:"New York City, USA",dateRange:{startDate:y()+50*24*60*60*1e3,endDate:ge(55)},keyEvents:[{title:"Broadway Show: Hamilton",fullDescription:"Experience Lin-Manuel Miranda's revolutionary musical that tells the story of Alexander Hamilton through hip-hop, jazz, and R&B.",shortDescription:"See the acclaimed Hamilton musical on Broadway.",interestType:"concerts",dateRange:{startDate:y()+51*24*60*60*1e3,endDate:y()+51*24*60*60*1e3},eventWebsite:"https://hamiltonmusical.com/"},{title:"Blue Note Jazz Club Performance",fullDescription:"Enjoy an intimate jazz performance at the legendary Blue Note, featuring both established and emerging jazz artists.",shortDescription:"Live jazz at the iconic Blue Note club in Greenwich Village.",interestType:"concerts",dateRange:{startDate:y()+52*24*60*60*1e3,endDate:y()+52*24*60*60*1e3}}],minorEvents:[{title:"Metropolitan Museum of Art",fullDescription:"Explore one of the world's largest and most comprehensive art museums, featuring collections spanning 5,000 years.",shortDescription:"World-class art collections at the Metropolitan Museum.",interestType:"artDesign",dateRange:{startDate:y()+53*24*60*60*1e3,endDate:y()+53*24*60*60*1e3},eventWebsite:"https://www.metmuseum.org/"},{title:"Central Park & Bethesda Fountain",fullDescription:"Stroll through Central Park and visit the iconic Bethesda Fountain, a perfect spot for people-watching and relaxation.",shortDescription:"Peaceful walk through Central Park and Bethesda Fountain.",interestType:"localCulture",dateRange:{startDate:y()+54*24*60*60*1e3,endDate:y()+54*24*60*60*1e3}}]},{imageUrl:"https://source.unsplash.com/random/800x600/?rome-colosseum,italian-food",title:"Rome: Ancient Wonders & Culinary Traditions",description:"Discover Rome's ancient history and vibrant food culture with guided tours, cooking classes, and historic sites.",city:"Rome, Italy",dateRange:{startDate:y()+60*24*60*60*1e3,endDate:ge(65)},keyEvents:[{title:"Colosseum Underground Tour",fullDescription:"Explore the underground chambers and arena floor of the Colosseum with exclusive access to areas usually closed to the public.",shortDescription:"Exclusive underground tour of the iconic Colosseum.",interestType:"localCulture",dateRange:{startDate:y()+61*24*60*60*1e3,endDate:y()+61*24*60*60*1e3},eventWebsite:"https://www.coopculture.it/"},{title:"Vatican Museums & Sistine Chapel",fullDescription:"Marvel at Michelangelo's masterpieces in the Sistine Chapel and explore the vast collections of the Vatican Museums.",shortDescription:"Art treasures at the Vatican Museums and Sistine Chapel.",interestType:"artDesign",dateRange:{startDate:y()+62*24*60*60*1e3,endDate:y()+62*24*60*60*1e3}}],minorEvents:[{title:"Traditional Roman Cooking Class",fullDescription:"Learn to make authentic Roman dishes like carbonara, cacio e pepe, and suppl with a local chef in Trastevere.",shortDescription:"Hands-on cooking class for traditional Roman cuisine.",interestType:"culinary",dateRange:{startDate:y()+63*24*60*60*1e3,endDate:y()+63*24*60*60*1e3},eventWebsite:"https://www.cookingclassesrome.com/"},{title:"Trastevere Evening Food Walk",fullDescription:"Explore the charming Trastevere neighborhood with a local guide, sampling street food, gelato, and local wines.",shortDescription:"Evening food tour through the picturesque Trastevere district.",interestType:"culinary",dateRange:{startDate:y()+64*24*60*60*1e3,endDate:y()+64*24*60*60*1e3}}]},{imageUrl:"https://source.unsplash.com/random/800x600/?london-punk-music,street-art",title:"London: Punk Heritage & Street Art Scene",description:"Explore London's rebellious side with punk music history, street art tours, and underground culture.",city:"London, UK",dateRange:{startDate:y()+70*24*60*60*1e3,endDate:ge(75)},keyEvents:[{title:"Punk London Walking Tour",fullDescription:"Follow the footsteps of the Sex Pistols, The Clash, and other punk legends through Camden, King's Road, and Soho.",shortDescription:"Guided tour of London's punk rock history and landmarks.",interestType:"concerts",dateRange:{startDate:y()+71*24*60*60*1e3,endDate:y()+71*24*60*60*1e3},eventWebsite:"https://www.punkwalkingtour.com/"},{title:"Banksy & Street Art Tour in Shoreditch",fullDescription:"Discover works by Banksy and other renowned street artists in the vibrant East London neighborhood of Shoreditch.",shortDescription:"Street art tour featuring Banksy and local artists in Shoreditch.",interestType:"artDesign",dateRange:{startDate:y()+72*24*60*60*1e3,endDate:y()+72*24*60*60*1e3}}],minorEvents:[{title:"Camden Market Vintage Shopping",fullDescription:"Browse vintage clothing, records, and punk memorabilia at the famous Camden Market, a hub of alternative culture.",shortDescription:"Vintage shopping and punk culture at Camden Market.",interestType:"localCulture",dateRange:{startDate:y()+73*24*60*60*1e3,endDate:y()+73*24*60*60*1e3},eventWebsite:"https://www.camdenmarket.com/"},{title:"Traditional British Pub Experience",fullDescription:"Experience authentic British pub culture with local ales, traditional pub food, and live music in historic pubs.",shortDescription:"Authentic British pub crawl with local ales and traditional food.",interestType:"culinary",dateRange:{startDate:y()+74*24*60*60*1e3,endDate:y()+74*24*60*60*1e3}}]},{imageUrl:"https://source.unsplash.com/random/800x600/?melbourne-coffee-culture,street-art",title:"Melbourne: Coffee Culture & Lane Art",description:"Discover Melbourne's famous coffee scene and vibrant street art culture in hidden laneways and local neighborhoods.",city:"Melbourne, Australia",dateRange:{startDate:y()+80*24*60*60*1e3,endDate:ge(85)},keyEvents:[{title:"Melbourne Coffee Culture Tour",fullDescription:"Explore Melbourne's renowned coffee culture with visits to specialty roasters, hidden cafes, and learn about the city's coffee history.",shortDescription:"Guided tour of Melbourne's world-famous coffee culture.",interestType:"culinary",dateRange:{startDate:y()+81*24*60*60*1e3,endDate:y()+81*24*60*60*1e3},eventWebsite:"https://www.melbournecoffeetour.com/"},{title:"Street Art & Laneways Walking Tour",fullDescription:"Discover Melbourne's famous street art scene in hidden laneways like Hosier Lane and AC/DC Lane with a local street art guide.",shortDescription:"Explore Melbourne's iconic street art in hidden laneways.",interestType:"artDesign",dateRange:{startDate:y()+82*24*60*60*1e3,endDate:y()+82*24*60*60*1e3}}],minorEvents:[{title:"Queen Victoria Market Food Tour",fullDescription:"Sample local produce, artisanal foods, and multicultural cuisine at Melbourne's historic Queen Victoria Market.",shortDescription:"Food tour through Melbourne's historic Queen Victoria Market.",interestType:"culinary",dateRange:{startDate:y()+83*24*60*60*1e3,endDate:y()+83*24*60*60*1e3},eventWebsite:"https://qvm.com.au/"},{title:"Royal Botanic Gardens Melbourne",fullDescription:"Stroll through one of the world's finest botanic gardens, featuring diverse plant collections and peaceful walking paths.",shortDescription:"Peaceful walk through Melbourne's beautiful Royal Botanic Gardens.",interestType:"localCulture",dateRange:{startDate:y()+84*24*60*60*1e3,endDate:y()+84*24*60*60*1e3}}]},{imageUrl:"https://source.unsplash.com/random/800x600/?istanbul-bazaar,turkish-music",title:"Istanbul: Ottoman Heritage & Turkish Delights",description:"Experience Istanbul's rich Ottoman history, traditional Turkish music, and authentic cuisine in this cultural crossroads.",city:"Istanbul, Turkey",dateRange:{startDate:y()+90*24*60*60*1e3,endDate:ge(95)},keyEvents:[{title:"Hagia Sophia & Blue Mosque Tour",fullDescription:"Explore two of Istanbul's most iconic landmarks with a guided tour covering their Byzantine and Ottoman history.",shortDescription:"Guided tour of Hagia Sophia and the Blue Mosque.",interestType:"localCulture",dateRange:{startDate:y()+91*24*60*60*1e3,endDate:y()+91*24*60*60*1e3},eventWebsite:"https://www.istanbul.gov.tr/"},{title:"Traditional Turkish Music Performance",fullDescription:"Experience authentic Turkish classical music and folk performances at a traditional venue in the historic Sultanahmet district.",shortDescription:"Traditional Turkish music performance in historic Sultanahmet.",interestType:"concerts",dateRange:{startDate:y()+92*24*60*60*1e3,endDate:y()+92*24*60*60*1e3}}],minorEvents:[{title:"Grand Bazaar Shopping Experience",fullDescription:"Navigate the historic Grand Bazaar, one of the world's oldest covered markets, shopping for carpets, spices, and Turkish crafts.",shortDescription:"Shopping adventure in the historic Grand Bazaar.",interestType:"localCulture",dateRange:{startDate:y()+93*24*60*60*1e3,endDate:y()+93*24*60*60*1e3},eventWebsite:"https://grandbazaaristanbul.org/"},{title:"Turkish Cooking Class & Bosphorus Dinner",fullDescription:"Learn to cook traditional Turkish dishes and enjoy dinner with views of the Bosphorus strait.",shortDescription:"Turkish cooking class with Bosphorus dinner experience.",interestType:"culinary",dateRange:{startDate:y()+94*24*60*60*1e3,endDate:y()+94*24*60*60*1e3}}]},{imageUrl:"https://source.unsplash.com/random/800x600/?rio-carnival,samba",title:"Rio de Janeiro: Carnival Spirit & Beach Culture",description:"Immerse yourself in Rio's vibrant carnival culture, samba music, and iconic beach lifestyle.",city:"Rio de Janeiro, Brazil",dateRange:{startDate:y()+100*24*60*60*1e3,endDate:ge(105)},keyEvents:[{title:"Samba School Rehearsal Experience",fullDescription:"Join a samba school rehearsal and learn about carnival preparations, costumes, and traditional Brazilian music.",shortDescription:"Authentic samba school rehearsal and carnival preparation experience.",interestType:"concerts",dateRange:{startDate:y()+101*24*60*60*1e3,endDate:y()+101*24*60*60*1e3},eventWebsite:"https://www.rio.rj.gov.br/"},{title:"Christ the Redeemer & Sugarloaf Mountain",fullDescription:"Visit Rio's most iconic landmarks with panoramic views of the city, beaches, and surrounding mountains.",shortDescription:"Iconic Rio landmarks: Christ the Redeemer and Sugarloaf Mountain.",interestType:"localCulture",dateRange:{startDate:y()+102*24*60*60*1e3,endDate:y()+102*24*60*60*1e3}}],minorEvents:[{title:"Copacabana Beach & Caipirinha Making",fullDescription:"Relax on the famous Copacabana beach and learn to make Brazil's national cocktail, the caipirinha.",shortDescription:"Beach day at Copacabana with caipirinha making class.",interestType:"culinary",dateRange:{startDate:y()+103*24*60*60*1e3,endDate:y()+103*24*60*60*1e3},eventWebsite:"https://www.copacabana.com/"},{title:"Santa Teresa Neighborhood Art Walk",fullDescription:"Explore the bohemian Santa Teresa neighborhood, known for its colonial architecture, art studios, and cultural venues.",shortDescription:"Art walk through the bohemian Santa Teresa neighborhood.",interestType:"artDesign",dateRange:{startDate:y()+104*24*60*60*1e3,endDate:y()+104*24*60*60*1e3}}]},{imageUrl:"https://source.unsplash.com/random/800x600/?marrakech-souks,moroccan-music",title:"Marrakech: Medina Magic & Moroccan Rhythms",description:"Discover the enchanting medina of Marrakech with traditional music, vibrant souks, and authentic Moroccan cuisine.",city:"Marrakech, Morocco",dateRange:{startDate:y()+110*24*60*60*1e3,endDate:ge(115)},keyEvents:[{title:"Jemaa el-Fnaa Square Evening Experience",fullDescription:"Experience the magic of Marrakech's main square with storytellers, musicians, snake charmers, and food stalls as the sun sets.",shortDescription:"Evening cultural experience at the famous Jemaa el-Fnaa square.",interestType:"localCulture",dateRange:{startDate:y()+111*24*60*60*1e3,endDate:y()+111*24*60*60*1e3},eventWebsite:"https://www.visitmorocco.com/"},{title:"Traditional Gnawa Music Performance",fullDescription:"Listen to authentic Gnawa music, a spiritual musical tradition combining African, Berber, and Arabic influences.",shortDescription:"Traditional Gnawa music performance with spiritual and cultural significance.",interestType:"concerts",dateRange:{startDate:y()+112*24*60*60*1e3,endDate:y()+112*24*60*60*1e3}}],minorEvents:[{title:"Medina Souks Shopping Tour",fullDescription:"Navigate the labyrinthine souks of the medina with a local guide, shopping for spices, textiles, and traditional crafts.",shortDescription:"Guided shopping tour through the traditional medina souks.",interestType:"localCulture",dateRange:{startDate:y()+113*24*60*60*1e3,endDate:y()+113*24*60*60*1e3},eventWebsite:"https://www.marrakech.ma/"},{title:"Moroccan Cooking Class & Tagine Workshop",fullDescription:"Learn to prepare traditional Moroccan dishes including tagines, couscous, and mint tea in a local riad.",shortDescription:"Hands-on Moroccan cooking class in a traditional riad setting.",interestType:"culinary",dateRange:{startDate:y()+114*24*60*60*1e3,endDate:y()+114*24*60*60*1e3}}]},{imageUrl:"https://source.unsplash.com/random/800x600/?dublin-traditional-music,irish-pub",title:"Dublin: Traditional Irish Music & Literary Heritage",description:"Explore Dublin's rich musical and literary traditions with pub sessions, literary tours, and Irish cultural experiences.",city:"Dublin, Ireland",dateRange:{startDate:y()+120*24*60*60*1e3,endDate:ge(125)},keyEvents:[{title:"Traditional Irish Music Pub Session",fullDescription:"Experience authentic Irish traditional music in historic pubs with local musicians playing fiddle, bodhrn, and tin whistle.",shortDescription:"Authentic traditional Irish music session in historic Dublin pubs.",interestType:"concerts",dateRange:{startDate:y()+121*24*60*60*1e3,endDate:y()+121*24*60*60*1e3},eventWebsite:"https://www.dublintraditionalmusictrail.com/"},{title:"Literary Dublin Walking Tour",fullDescription:"Follow in the footsteps of James Joyce, Oscar Wilde, and other Irish literary giants through Dublin's historic streets and literary landmarks.",shortDescription:"Literary walking tour exploring Dublin's famous writers and their haunts.",interestType:"localCulture",dateRange:{startDate:y()+122*24*60*60*1e3,endDate:y()+122*24*60*60*1e3}}],minorEvents:[{title:"Guinness Storehouse Experience",fullDescription:"Learn about Ireland's most famous beer at the Guinness Storehouse, including a pint-pouring lesson and panoramic city views.",shortDescription:"Interactive Guinness experience with brewing history and city views.",interestType:"culinary",dateRange:{startDate:y()+123*24*60*60*1e3,endDate:y()+123*24*60*60*1e3},eventWebsite:"https://www.guinness-storehouse.com/"},{title:"Trinity College & Book of Kells",fullDescription:"Visit Ireland's oldest university and see the famous Book of Kells, a beautifully illuminated medieval manuscript.",shortDescription:"Historic Trinity College visit with the famous Book of Kells exhibition.",interestType:"localCulture",dateRange:{startDate:y()+124*24*60*60*1e3,endDate:y()+124*24*60*60*1e3}}]},{imageUrl:"https://source.unsplash.com/random/800x600/?vienna-classical-music,coffee-house",title:"Vienna: Classical Music & Coffeehouse Culture",description:"Experience Vienna's imperial grandeur through classical concerts, traditional coffeehouses, and Habsburg architecture.",city:"Vienna, Austria",dateRange:{startDate:y()+130*24*60*60*1e3,endDate:ge(135)},keyEvents:[{title:"Vienna State Opera Performance",fullDescription:"Attend a world-class opera or ballet performance at the prestigious Vienna State Opera, one of the world's leading opera houses.",shortDescription:"Classical opera or ballet performance at the renowned Vienna State Opera.",interestType:"concerts",dateRange:{startDate:y()+131*24*60*60*1e3,endDate:y()+131*24*60*60*1e3},eventWebsite:"https://www.wiener-staatsoper.at/"},{title:"Schnbrunn Palace & Gardens Tour",fullDescription:"Explore the magnificent Schnbrunn Palace, former imperial summer residence, with its opulent rooms and beautiful baroque gardens.",shortDescription:"Imperial palace tour at the magnificent Schnbrunn Palace.",interestType:"localCulture",dateRange:{startDate:y()+132*24*60*60*1e3,endDate:y()+132*24*60*60*1e3}}],minorEvents:[{title:"Traditional Viennese Coffeehouse Experience",fullDescription:"Experience Vienna's famous coffeehouse culture at historic establishments like Caf Central or Caf Sacher, with traditional pastries and coffee.",shortDescription:"Traditional coffeehouse experience with Viennese pastries and coffee culture.",interestType:"culinary",dateRange:{startDate:y()+133*24*60*60*1e3,endDate:y()+133*24*60*60*1e3},eventWebsite:"https://www.cafecentral.wien/"},{title:"Belvedere Palace & Klimt Collection",fullDescription:"Visit the Belvedere Palace to see Gustav Klimt's famous paintings including 'The Kiss' and other Austrian art masterpieces.",shortDescription:"Art museum visit featuring Klimt's masterpieces at Belvedere Palace.",interestType:"artDesign",dateRange:{startDate:y()+134*24*60*60*1e3,endDate:y()+134*24*60*60*1e3}}]},{imageUrl:"https://source.unsplash.com/random/800x600/?cape-town-jazz,wine-tasting",title:"Cape Town: Jazz Heritage & Wine Country",description:"Discover Cape Town's vibrant jazz scene and world-renowned wine regions with cultural tours and tastings.",city:"Cape Town, South Africa",dateRange:{startDate:y()+140*24*60*60*1e3,endDate:ge(145)},keyEvents:[{title:"Cape Town International Jazz Festival",fullDescription:"Experience Africa's grandest gathering of jazz musicians with local and international artists performing across multiple stages.",shortDescription:"Major jazz festival featuring local and international artists.",interestType:"concerts",dateRange:{startDate:y()+141*24*60*60*1e3,endDate:y()+142*24*60*60*1e3},eventWebsite:"https://www.capetownjazzfest.com/"},{title:"Stellenbosch Wine Region Tour",fullDescription:"Explore the historic Stellenbosch wine region with tastings at award-winning wineries and scenic vineyard tours.",shortDescription:"Wine tasting tour in the prestigious Stellenbosch wine region.",interestType:"culinary",dateRange:{startDate:y()+143*24*60*60*1e3,endDate:y()+143*24*60*60*1e3}}],minorEvents:[{title:"Table Mountain Cable Car & Sunset",fullDescription:"Take the cable car up Table Mountain for panoramic views of Cape Town and watch the sunset over the Atlantic Ocean.",shortDescription:"Table Mountain cable car ride with spectacular sunset views.",interestType:"localCulture",dateRange:{startDate:y()+144*24*60*60*1e3,endDate:y()+144*24*60*60*1e3},eventWebsite:"https://www.tablemountain.net/"},{title:"Bo-Kaap Cultural Walking Tour",fullDescription:"Explore the colorful Bo-Kaap neighborhood, learning about Cape Malay culture, history, and traditional cooking.",shortDescription:"Cultural walking tour through the vibrant Bo-Kaap neighborhood.",interestType:"localCulture",dateRange:{startDate:y()+145*24*60*60*1e3,endDate:y()+145*24*60*60*1e3}}]},{imageUrl:"https://source.unsplash.com/random/800x600/?montreal-jazz-festival,poutine",title:"Montreal: Jazz Festival & French-Canadian Culture",description:"Experience Montreal's world-famous jazz festival and unique French-Canadian culture with music, food, and historic neighborhoods.",city:"Montreal, Canada",dateRange:{startDate:y()+150*24*60*60*1e3,endDate:ge(155)},keyEvents:[{title:"Montreal International Jazz Festival",fullDescription:"Attend the world's largest jazz festival with over 500 concerts featuring international jazz legends and emerging artists.",shortDescription:"World's largest jazz festival with 500+ concerts and international artists.",interestType:"concerts",dateRange:{startDate:y()+151*24*60*60*1e3,endDate:y()+155*24*60*60*1e3},eventWebsite:"https://www.montrealjazzfest.com/"},{title:"Old Montreal Historic Walking Tour",fullDescription:"Explore the cobblestone streets of Old Montreal, visiting historic sites, churches, and learning about French colonial history.",shortDescription:"Historic walking tour through charming Old Montreal's cobblestone streets.",interestType:"localCulture",dateRange:{startDate:y()+152*24*60*60*1e3,endDate:y()+152*24*60*60*1e3}}],minorEvents:[{title:"Quebec Cuisine & Poutine Tasting Tour",fullDescription:"Sample authentic Quebec cuisine including poutine, tourtire, and maple syrup treats on a guided food tour.",shortDescription:"Quebec cuisine tour featuring poutine and traditional French-Canadian dishes.",interestType:"culinary",dateRange:{startDate:y()+153*24*60*60*1e3,endDate:y()+153*24*60*60*1e3},eventWebsite:"https://www.foodtourscanada.com/"},{title:"Mount Royal Park & City Views",fullDescription:"Hike or take the bus up Mount Royal for panoramic views of Montreal and explore the park designed by Frederick Law Olmsted.",shortDescription:"Mount Royal park visit with panoramic city views and nature walks.",interestType:"localCulture",dateRange:{startDate:y()+154*24*60*60*1e3,endDate:y()+154*24*60*60*1e3}}]},{imageUrl:"https://source.unsplash.com/random/800x600/?edinburgh-festival,scottish-whisky",title:"Edinburgh: Festival Fringe & Scottish Traditions",description:"Experience Edinburgh's world-famous Festival Fringe and Scottish cultural traditions with whisky tastings and historic tours.",city:"Edinburgh, Scotland",dateRange:{startDate:y()+160*24*60*60*1e3,endDate:ge(165)},keyEvents:[{title:"Edinburgh Festival Fringe",fullDescription:"Attend the world's largest arts festival with thousands of performances including comedy, theater, music, and dance.",shortDescription:"World's largest arts festival with comedy, theater, and music performances.",interestType:"concerts",dateRange:{startDate:y()+161*24*60*60*1e3,endDate:y()+165*24*60*60*1e3},eventWebsite:"https://www.edfringe.com/"},{title:"Edinburgh Castle & Royal Mile Tour",fullDescription:"Explore the iconic Edinburgh Castle perched on an extinct volcano and walk down the historic Royal Mile.",shortDescription:"Historic tour of Edinburgh Castle and the famous Royal Mile.",interestType:"localCulture",dateRange:{startDate:y()+162*24*60*60*1e3,endDate:y()+162*24*60*60*1e3}}],minorEvents:[{title:"Scottish Whisky Tasting Experience",fullDescription:"Learn about Scottish whisky production and taste different regional varieties at a traditional whisky bar.",shortDescription:"Scottish whisky tasting with regional varieties and production insights.",interestType:"culinary",dateRange:{startDate:y()+163*24*60*60*1e3,endDate:y()+163*24*60*60*1e3},eventWebsite:"https://www.scotchwhiskyexperience.co.uk/"},{title:"Arthur's Seat Hike & City Views",fullDescription:"Hike up Arthur's Seat, Edinburgh's highest peak, for spectacular views of the city and surrounding Scottish countryside.",shortDescription:"Hike up Arthur's Seat for panoramic views of Edinburgh and Scotland.",interestType:"localCulture",dateRange:{startDate:y()+164*24*60*60*1e3,endDate:y()+164*24*60*60*1e3}}]},{imageUrl:"https://source.unsplash.com/random/800x600/?prague-classical-music,czech-beer",title:"Prague: Classical Concerts & Czech Beer Culture",description:"Discover Prague's musical heritage and famous beer culture with classical concerts in historic venues and traditional breweries.",city:"Prague, Czech Republic",dateRange:{startDate:y()+170*24*60*60*1e3,endDate:ge(175)},keyEvents:[{title:"Classical Concert in St. Vitus Cathedral",fullDescription:"Attend a classical music concert in the stunning Gothic St. Vitus Cathedral, featuring works by Czech composers like Dvok.",shortDescription:"Classical concert in the magnificent Gothic St. Vitus Cathedral.",interestType:"concerts",dateRange:{startDate:y()+171*24*60*60*1e3,endDate:y()+171*24*60*60*1e3},eventWebsite:"https://www.praguecastle.cz/"},{title:"Prague Castle & Charles Bridge Tour",fullDescription:"Explore the largest ancient castle complex in the world and walk across the historic Charles Bridge with its baroque statues.",shortDescription:"Historic tour of Prague Castle and the iconic Charles Bridge.",interestType:"localCulture",dateRange:{startDate:y()+172*24*60*60*1e3,endDate:y()+172*24*60*60*1e3}}],minorEvents:[{title:"Czech Beer Tasting & Brewery Tour",fullDescription:"Visit traditional Czech breweries and taste famous Czech beers including Pilsner Urquell and Budweiser Budvar.",shortDescription:"Czech beer tasting tour featuring famous local breweries.",interestType:"culinary",dateRange:{startDate:y()+173*24*60*60*1e3,endDate:y()+173*24*60*60*1e3},eventWebsite:"https://www.pilsner-urquell.com/"},{title:"Old Town Square & Astronomical Clock",fullDescription:"Visit Prague's beautiful Old Town Square and watch the famous Astronomical Clock's hourly show with moving apostles.",shortDescription:"Old Town Square visit with the famous medieval Astronomical Clock.",interestType:"localCulture",dateRange:{startDate:y()+174*24*60*60*1e3,endDate:y()+174*24*60*60*1e3}}]}];console.log(" Total available bundles:",n.length);const r=new Set(t.map(l=>l.title)),s=n.filter(l=>!r.has(l.title));if(s.length===0)return console.log(" [MOCK] No new bundles available after filtering - all bundles already shown"),[];const i=Math.min(3,s.length),a=[],o=new Set;for(;a.length<i;){const l=Math.floor(Math.random()*s.length);o.has(l)||(o.add(l),a.push(s[l]))}return console.log(` [MOCK] Generated ${a.length} trip bundles:`,a.map(l=>l.title)),console.log(` Pagination: ${s.length} available, returning ${a.length}`),a};function U(e,t,n,r,s){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}function w(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}let Wg=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return Wg=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};function zu(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const Vu=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};class F extends Error{}class Ae extends F{constructor(t,n,r,s){super(`${Ae.makeMessage(t,n,r)}`),this.status=t,this.headers=s,this.requestID=s==null?void 0:s.get("x-request-id"),this.error=n;const i=n;this.code=i==null?void 0:i.code,this.param=i==null?void 0:i.param,this.type=i==null?void 0:i.type}static makeMessage(t,n,r){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&s?`${t} ${s}`:t?`${t} status code (no body)`:s||"(no status code or body)"}static generate(t,n,r,s){if(!t||!s)return new $o({message:r,cause:Vu(n)});const i=n==null?void 0:n.error;return t===400?new Hg(t,i,r,s):t===401?new Gg(t,i,r,s):t===403?new Yg(t,i,r,s):t===404?new Kg(t,i,r,s):t===409?new Jg(t,i,r,s):t===422?new qg(t,i,r,s):t===429?new Qg(t,i,r,s):t>=500?new Xg(t,i,r,s):new Ae(t,i,r,s)}}class dt extends Ae{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class $o extends Ae{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class sf extends $o{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Hg extends Ae{}class Gg extends Ae{}class Yg extends Ae{}class Kg extends Ae{}class Jg extends Ae{}class qg extends Ae{}class Qg extends Ae{}class Xg extends Ae{}class Zg extends F{constructor(){super("Could not parse response content as the length limit was reached")}}class ev extends F{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class ys extends Error{constructor(t){super(t)}}const _E=/^[a-z][a-z0-9+.-]*:/i,wE=e=>_E.test(e);let $e=e=>($e=Array.isArray,$e(e)),sh=$e;function tv(e){return typeof e!="object"?{}:e??{}}function SE(e){if(!e)return!0;for(const t in e)return!1;return!0}function EE(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Cl(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}const bE=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new F(`${e} must be an integer`);if(t<0)throw new F(`${e} must be a positive integer`);return t},kE=e=>{try{return JSON.parse(e)}catch{return}},Si=e=>new Promise(t=>setTimeout(t,e)),vr="5.19.1",xE=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function CE(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const AE=()=>{var n;const e=CE();if(e==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vr,"X-Stainless-OS":ah(Deno.build.os),"X-Stainless-Arch":ih(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((n=Deno.version)==null?void 0:n.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(e==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vr,"X-Stainless-OS":ah(globalThis.process.platform??"unknown"),"X-Stainless-Arch":ih(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const t=OE();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":vr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function OE(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,i=r[2]||0,a=r[3]||0;return{browser:t,version:`${s}.${i}.${a}`}}}return null}const ih=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",ah=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let oh;const RE=()=>oh??(oh=AE());function TE(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function nv(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function rv(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return nv({start(){},async pull(n){const{done:r,value:s}=await t.next();r?n.close():n.enqueue(s)},async cancel(){var n;await((n=t.return)==null?void 0:n.call(t))}})}function sv(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function PE(e){var r,s;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((s=(r=e[Symbol.asyncIterator]()).return)==null?void 0:s.call(r));return}const t=e.getReader(),n=t.cancel();t.releaseLock(),await n}const DE=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)}),iv="RFC3986",av=e=>String(e),lh={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:av},IE="RFC1738";let Wu=(e,t)=>(Wu=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),Wu(e,t));const Pt=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),Al=1024,NE=(e,t,n,r,s)=>{if(e.length===0)return e;let i=e;if(typeof e=="symbol"?i=Symbol.prototype.toString.call(e):typeof e!="string"&&(i=String(e)),n==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(o){return"%26%23"+parseInt(o.slice(2),16)+"%3B"});let a="";for(let o=0;o<i.length;o+=Al){const l=i.length>=Al?i.slice(o,o+Al):i,u=[];for(let c=0;c<l.length;++c){let d=l.charCodeAt(c);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||s===IE&&(d===40||d===41)){u[u.length]=l.charAt(c);continue}if(d<128){u[u.length]=Pt[d];continue}if(d<2048){u[u.length]=Pt[192|d>>6]+Pt[128|d&63];continue}if(d<55296||d>=57344){u[u.length]=Pt[224|d>>12]+Pt[128|d>>6&63]+Pt[128|d&63];continue}c+=1,d=65536+((d&1023)<<10|l.charCodeAt(c)&1023),u[u.length]=Pt[240|d>>18]+Pt[128|d>>12&63]+Pt[128|d>>6&63]+Pt[128|d&63]}a+=u.join("")}return a};function ME(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function uh(e,t){if($e(e)){const n=[];for(let r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)}const ov={brackets(e){return String(e)+"[]"},comma:"comma",indices(e,t){return String(e)+"["+t+"]"},repeat(e){return String(e)}},lv=function(e,t){Array.prototype.push.apply(e,$e(t)?t:[t])};let ch;const he={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:NE,encodeValuesOnly:!1,format:iv,formatter:av,indices:!1,serializeDate(e){return(ch??(ch=Function.prototype.call.bind(Date.prototype.toISOString)))(e)},skipNulls:!1,strictNullHandling:!1};function jE(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"}const Ol={};function uv(e,t,n,r,s,i,a,o,l,u,c,d,h,g,_,S,O,m){let f=e,p=m,v=0,k=!1;for(;(p=p.get(Ol))!==void 0&&!k;){const M=p.get(e);if(v+=1,typeof M<"u"){if(M===v)throw new RangeError("Cyclic object value");k=!0}typeof p.get(Ol)>"u"&&(v=0)}if(typeof u=="function"?f=u(t,f):f instanceof Date?f=h==null?void 0:h(f):n==="comma"&&$e(f)&&(f=uh(f,function(M){return M instanceof Date?h==null?void 0:h(M):M})),f===null){if(i)return l&&!S?l(t,he.encoder,O,"key",g):t;f=""}if(jE(f)||ME(f)){if(l){const M=S?t:l(t,he.encoder,O,"key",g);return[(_==null?void 0:_(M))+"="+(_==null?void 0:_(l(f,he.encoder,O,"value",g)))]}return[(_==null?void 0:_(t))+"="+(_==null?void 0:_(String(f)))]}const C=[];if(typeof f>"u")return C;let b;if(n==="comma"&&$e(f))S&&l&&(f=uh(f,l)),b=[{value:f.length>0?f.join(",")||null:void 0}];else if($e(u))b=u;else{const M=Object.keys(f);b=c?M.sort(c):M}const I=o?String(t).replace(/\./g,"%2E"):String(t),B=r&&$e(f)&&f.length===1?I+"[]":I;if(s&&$e(f)&&f.length===0)return B+"[]";for(let M=0;M<b.length;++M){const W=b[M],Le=typeof W=="object"&&typeof W.value<"u"?W.value:f[W];if(a&&Le===null)continue;const Fe=d&&o?W.replace(/\./g,"%2E"):W,Mn=$e(f)?typeof n=="function"?n(B,Fe):B:B+(d?"."+Fe:"["+Fe+"]");m.set(e,v);const ln=new WeakMap;ln.set(Ol,m),lv(C,uv(Le,Mn,n,r,s,i,a,o,n==="comma"&&S&&$e(f)?null:l,u,c,d,h,g,_,S,O,ln))}return C}function LE(e=he){if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=e.charset||he.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=iv;if(typeof e.format<"u"){if(!Wu(lh,e.format))throw new TypeError("Unknown format option provided.");n=e.format}const r=lh[n];let s=he.filter;(typeof e.filter=="function"||$e(e.filter))&&(s=e.filter);let i;if(e.arrayFormat&&e.arrayFormat in ov?i=e.arrayFormat:"indices"in e?i=e.indices?"indices":"repeat":i=he.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const a=typeof e.allowDots>"u"?e.encodeDotInKeys?!0:he.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:he.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:he.allowEmptyArrays,arrayFormat:i,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:he.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?he.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:he.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:he.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:he.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:he.encodeValuesOnly,filter:s,format:n,formatter:r,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:he.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:he.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:he.strictNullHandling}}function FE(e,t={}){let n=e;const r=LE(t);let s,i;typeof r.filter=="function"?(i=r.filter,n=i("",n)):$e(r.filter)&&(i=r.filter,s=i);const a=[];if(typeof n!="object"||n===null)return"";const o=ov[r.arrayFormat],l=o==="comma"&&r.commaRoundTrip;s||(s=Object.keys(n)),r.sort&&s.sort(r.sort);const u=new WeakMap;for(let h=0;h<s.length;++h){const g=s[h];r.skipNulls&&n[g]===null||lv(a,uv(n[g],g,o,l,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,u))}const c=a.join(r.delimiter);let d=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),c.length>0?d+c:""}function $E(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}let fh;function af(e){let t;return(fh??(t=new globalThis.TextEncoder,fh=t.encode.bind(t)))(e)}let dh;function hh(e){let t;return(dh??(t=new globalThis.TextDecoder,dh=t.decode.bind(t)))(e)}var Ge,Ye;class Bo{constructor(){Ge.set(this,void 0),Ye.set(this,void 0),U(this,Ge,new Uint8Array),U(this,Ye,null)}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?af(t):t;U(this,Ge,$E([w(this,Ge,"f"),n]));const r=[];let s;for(;(s=BE(w(this,Ge,"f"),w(this,Ye,"f")))!=null;){if(s.carriage&&w(this,Ye,"f")==null){U(this,Ye,s.index);continue}if(w(this,Ye,"f")!=null&&(s.index!==w(this,Ye,"f")+1||s.carriage)){r.push(hh(w(this,Ge,"f").subarray(0,w(this,Ye,"f")-1))),U(this,Ge,w(this,Ge,"f").subarray(w(this,Ye,"f"))),U(this,Ye,null);continue}const i=w(this,Ye,"f")!==null?s.preceding-1:s.preceding,a=hh(w(this,Ge,"f").subarray(0,i));r.push(a),U(this,Ge,w(this,Ge,"f").subarray(s.index)),U(this,Ye,null)}return r}flush(){return w(this,Ge,"f").length?this.decode(`
`):[]}}Ge=new WeakMap,Ye=new WeakMap;Bo.NEWLINE_CHARS=new Set([`
`,"\r"]);Bo.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function BE(e,t){for(let s=t??0;s<e.length;s++){if(e[s]===10)return{preceding:s,index:s+1,carriage:!1};if(e[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function UE(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}const io={off:0,error:200,warn:300,info:400,debug:500},ph=(e,t,n)=>{if(e){if(EE(io,e))return e;Ee(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(io))}`)}};function _s(){}function Yi(e,t,n){return!t||io[e]>io[n]?_s:t[e].bind(t)}const zE={error:_s,warn:_s,info:_s,debug:_s};let mh=new WeakMap;function Ee(e){const t=e.logger,n=e.logLevel??"off";if(!t)return zE;const r=mh.get(t);if(r&&r[0]===n)return r[1];const s={error:Yi("error",t,n),warn:Yi("warn",t,n),info:Yi("info",t,n),debug:Yi("debug",t,n)};return mh.set(t,[n,s]),s}const Fn=e=>(e.options&&(e.options={...e.options},delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);var ds;class Lt{constructor(t,n,r){this.iterator=t,ds.set(this,void 0),this.controller=n,U(this,ds,r)}static fromSSEResponse(t,n,r){let s=!1;const i=r?Ee(r):console;async function*a(){if(s)throw new F("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let o=!1;try{for await(const l of VE(t,n))if(!o){if(l.data.startsWith("[DONE]")){o=!0;continue}if(l.event===null||!l.event.startsWith("thread.")){let u;try{u=JSON.parse(l.data)}catch(c){throw i.error("Could not parse message into JSON:",l.data),i.error("From chunk:",l.raw),c}if(u&&u.error)throw new Ae(void 0,u.error,void 0,t.headers);yield u}else{let u;try{u=JSON.parse(l.data)}catch(c){throw console.error("Could not parse message into JSON:",l.data),console.error("From chunk:",l.raw),c}if(l.event=="error")throw new Ae(void 0,u.error,u.message,void 0);yield{event:l.event,data:u}}}o=!0}catch(l){if(zu(l))return;throw l}finally{o||n.abort()}}return new Lt(a,n,r)}static fromReadableStream(t,n,r){let s=!1;async function*i(){const o=new Bo,l=sv(t);for await(const u of l)for(const c of o.decode(u))yield c;for(const u of o.flush())yield u}async function*a(){if(s)throw new F("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let o=!1;try{for await(const l of i())o||l&&(yield JSON.parse(l));o=!0}catch(l){if(zu(l))return;throw l}finally{o||n.abort()}}return new Lt(a,n,r)}[(ds=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),s=i=>({next:()=>{if(i.length===0){const a=r.next();t.push(a),n.push(a)}return i.shift()}});return[new Lt(()=>s(t),this.controller,w(this,ds,"f")),new Lt(()=>s(n),this.controller,w(this,ds,"f"))]}toReadableStream(){const t=this;let n;return nv({async start(){n=t[Symbol.asyncIterator]()},async pull(r){try{const{value:s,done:i}=await n.next();if(i)return r.close();const a=af(JSON.stringify(s)+`
`);r.enqueue(a)}catch(s){r.error(s)}},async cancel(){var r;await((r=n.return)==null?void 0:r.call(n))}})}}async function*VE(e,t){if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new F("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new F("Attempted to iterate over a response with no body");const n=new HE,r=new Bo,s=sv(e.body);for await(const i of WE(s))for(const a of r.decode(i)){const o=n.decode(a);o&&(yield o)}for(const i of r.flush()){const a=n.decode(i);a&&(yield a)}}async function*WE(e){let t=new Uint8Array;for await(const n of e){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?af(n):n;let s=new Uint8Array(t.length+r.length);s.set(t),s.set(r,t.length),t=s;let i;for(;(i=UE(t))!==-1;)yield t.slice(0,i),t=t.slice(i)}t.length>0&&(yield t)}class HE{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,s]=GE(t,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}}function GE(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}async function cv(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:s,startTime:i}=t,a=await(async()=>{var d;if(t.options.stream)return Ee(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):Lt.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const o=n.headers.get("content-type"),l=(d=o==null?void 0:o.split(";")[0])==null?void 0:d.trim();if((l==null?void 0:l.includes("application/json"))||(l==null?void 0:l.endsWith("+json"))){const h=await n.json();return fv(h,n)}return await n.text()})();return Ee(e).debug(`[${r}] response parsed`,Fn({retryOfRequestLogID:s,url:n.url,status:n.status,body:a,durationMs:Date.now()-i})),a}function fv(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}var ws;class Uo extends Promise{constructor(t,n,r=cv){super(s=>{s(null)}),this.responsePromise=n,this.parseResponse=r,ws.set(this,void 0),U(this,ws,t)}_thenUnwrap(t){return new Uo(w(this,ws,"f"),this.responsePromise,async(n,r)=>fv(t(await this.parseResponse(n,r),r),r.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(w(this,ws,"f"),t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}ws=new WeakMap;var Ki;class of{constructor(t,n,r,s){Ki.set(this,void 0),U(this,Ki,t),this.options=s,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const t=this.nextPageRequestOptions();if(!t)throw new F("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await w(this,Ki,"f").requestAPIList(this.constructor,t)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(Ki=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const n of t.getPaginatedItems())yield n}}class YE extends Uo{constructor(t,n,r){super(t,n,async(s,i)=>new r(s,i.response,await cv(s,i),i.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const n of t)yield n}}class zo extends of{constructor(t,n,r,s){super(t,n,r,s),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class fe extends of{constructor(t,n,r,s){super(t,n,r,s),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){var r;const t=this.getPaginatedItems(),n=(r=t[t.length-1])==null?void 0:r.id;return n?{...this.options,query:{...tv(this.options.query),after:n}}:null}}class KE extends of{constructor(t,n,r,s){super(t,n,r,s),this.data=r.data||[],this.has_more=r.has_more||!1,this.last_id=r.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const t=this.last_id;return t?{...this.options,query:{...tv(this.options.query),after:t}}:null}}const dv=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)==null?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function $s(e,t,n){return dv(),new File(e,t??"unknown_file",n)}function ga(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const hv=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",rr=async(e,t)=>({...e,body:await qE(e.body,t)}),gh=new WeakMap;function JE(e){const t=typeof e=="function"?e:e.fetch,n=gh.get(t);if(n)return n;const r=(async()=>{try{const s="Response"in t?t.Response:(await t("data:,")).constructor,i=new FormData;return i.toString()!==await new s(i).text()}catch{return!0}})();return gh.set(t,r),r}const qE=async(e,t)=>{if(!await JE(t))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(e||{}).map(([r,s])=>Hu(n,r,s))),n},QE=e=>e instanceof Blob&&"name"in e,Hu=async(e,t,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")e.append(t,String(n));else if(n instanceof Response)e.append(t,$s([await n.blob()],ga(n)));else if(hv(n))e.append(t,$s([await new Response(rv(n)).blob()],ga(n)));else if(QE(n))e.append(t,n,ga(n));else if(Array.isArray(n))await Promise.all(n.map(r=>Hu(e,t+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,s])=>Hu(e,`${t}[${r}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}},pv=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",XE=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&pv(e),ZE=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function e1(e,t,n){if(dv(),e=await e,XE(e))return e instanceof File?e:$s([await e.arrayBuffer()],e.name);if(ZE(e)){const s=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),$s(await Gu(s),t,n)}const r=await Gu(e);if(t||(t=ga(e)),!(n!=null&&n.type)){const s=r.find(i=>typeof i=="object"&&"type"in i&&i.type);typeof s=="string"&&(n={...n,type:s})}return $s(r,t,n)}async function Gu(e){var n;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(pv(e))t.push(e instanceof Blob?e:await e.arrayBuffer());else if(hv(e))for await(const r of e)t.push(...await Gu(r));else{const r=(n=e==null?void 0:e.constructor)==null?void 0:n.name;throw new Error(`Unexpected data type: ${typeof e}${r?`; constructor: ${r}`:""}${t1(e)}`)}return t}function t1(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}class ${constructor(t){this._client=t}}function mv(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const vh=Object.freeze(Object.create(null)),n1=(e=mv)=>function(n,...r){if(n.length===1)return n[0];let s=!1;const i=[],a=n.reduce((c,d,h)=>{var S;/[?#]/.test(d)&&(s=!0);const g=r[h];let _=(s?encodeURIComponent:e)(""+g);return h!==r.length&&(g==null||typeof g=="object"&&g.toString===((S=Object.getPrototypeOf(Object.getPrototypeOf(g.hasOwnProperty??vh)??vh))==null?void 0:S.toString))&&(_=g+"",i.push({start:c.length+d.length,length:_.length,error:`Value of type ${Object.prototype.toString.call(g).slice(8,-1)} is not a valid path parameter`})),c+d+(h===r.length?"":_)},""),o=a.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(o))!==null;)i.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(i.sort((c,d)=>c.start-d.start),i.length>0){let c=0;const d=i.reduce((h,g)=>{const _=" ".repeat(g.start-c),S="^".repeat(g.length);return c=g.start+g.length,h+_+S},"");throw new F(`Path parameters result in path with invalid segments:
${i.map(h=>h.error).join(`
`)}
${a}
${d}`)}return a},R=n1(mv);let gv=class extends ${list(t,n={},r){return this._client.getAPIList(R`/chat/completions/${t}/messages`,fe,{query:n,...r})}};function ao(e){return e!==void 0&&"function"in e&&e.function!==void 0}function lf(e){return(e==null?void 0:e.$brand)==="auto-parseable-response-format"}function Ei(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function r1(e,t){return!t||!vv(t)?{...e,choices:e.choices.map(n=>(yv(n.message.tool_calls),{...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:uf(e,t)}function uf(e,t){const n=e.choices.map(r=>{var s;if(r.finish_reason==="length")throw new Zg;if(r.finish_reason==="content_filter")throw new ev;return yv(r.message.tool_calls),{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:((s=r.message.tool_calls)==null?void 0:s.map(i=>i1(t,i)))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?s1(t,r.message.content):null}}});return{...e,choices:n}}function s1(e,t){var n,r;return((n=e.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=e.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function i1(e,t){var r;const n=(r=e.tools)==null?void 0:r.find(s=>{var i;return ao(s)&&((i=s.function)==null?void 0:i.name)===t.function.name});return{...t,function:{...t.function,parsed_arguments:Ei(n)?n.$parseRaw(t.function.arguments):n!=null&&n.function.strict?JSON.parse(t.function.arguments):null}}}function a1(e,t){var r;if(!e||!("tools"in e)||!e.tools)return!1;const n=(r=e.tools)==null?void 0:r.find(s=>{var i;return ao(s)&&((i=s.function)==null?void 0:i.name)===t.function.name});return ao(n)&&(Ei(n)||(n==null?void 0:n.function.strict)||!1)}function vv(e){var t;return lf(e.response_format)?!0:((t=e.tools)==null?void 0:t.some(n=>Ei(n)||n.type==="function"&&n.function.strict===!0))??!1}function yv(e){for(const t of e||[])if(t.type!=="function")throw new F(`Currently only \`function\` tool calls are supported; Received \`${t.type}\``)}function o1(e){for(const t of e??[]){if(t.type!=="function")throw new F(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new F(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const oo=e=>(e==null?void 0:e.role)==="assistant",_v=e=>(e==null?void 0:e.role)==="tool";var Yu,va,ya,Ss,Es,_a,bs,Wt,ks,lo,uo,yr,wv;class cf{constructor(){Yu.add(this),this.controller=new AbortController,va.set(this,void 0),ya.set(this,()=>{}),Ss.set(this,()=>{}),Es.set(this,void 0),_a.set(this,()=>{}),bs.set(this,()=>{}),Wt.set(this,{}),ks.set(this,!1),lo.set(this,!1),uo.set(this,!1),yr.set(this,!1),U(this,va,new Promise((t,n)=>{U(this,ya,t,"f"),U(this,Ss,n,"f")})),U(this,Es,new Promise((t,n)=>{U(this,_a,t,"f"),U(this,bs,n,"f")})),w(this,va,"f").catch(()=>{}),w(this,Es,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},w(this,Yu,"m",wv).bind(this))},0)}_connected(){this.ended||(w(this,ya,"f").call(this),this._emit("connect"))}get ended(){return w(this,ks,"f")}get errored(){return w(this,lo,"f")}get aborted(){return w(this,uo,"f")}abort(){this.controller.abort()}on(t,n){return(w(this,Wt,"f")[t]||(w(this,Wt,"f")[t]=[])).push({listener:n}),this}off(t,n){const r=w(this,Wt,"f")[t];if(!r)return this;const s=r.findIndex(i=>i.listener===n);return s>=0&&r.splice(s,1),this}once(t,n){return(w(this,Wt,"f")[t]||(w(this,Wt,"f")[t]=[])).push({listener:n,once:!0}),this}emitted(t){return new Promise((n,r)=>{U(this,yr,!0),t!=="error"&&this.once("error",r),this.once(t,n)})}async done(){U(this,yr,!0),await w(this,Es,"f")}_emit(t,...n){if(w(this,ks,"f"))return;t==="end"&&(U(this,ks,!0),w(this,_a,"f").call(this));const r=w(this,Wt,"f")[t];if(r&&(w(this,Wt,"f")[t]=r.filter(s=>!s.once),r.forEach(({listener:s})=>s(...n))),t==="abort"){const s=n[0];!w(this,yr,"f")&&!(r!=null&&r.length)&&Promise.reject(s),w(this,Ss,"f").call(this,s),w(this,bs,"f").call(this,s),this._emit("end");return}if(t==="error"){const s=n[0];!w(this,yr,"f")&&!(r!=null&&r.length)&&Promise.reject(s),w(this,Ss,"f").call(this,s),w(this,bs,"f").call(this,s),this._emit("end")}}_emitFinal(){}}va=new WeakMap,ya=new WeakMap,Ss=new WeakMap,Es=new WeakMap,_a=new WeakMap,bs=new WeakMap,Wt=new WeakMap,ks=new WeakMap,lo=new WeakMap,uo=new WeakMap,yr=new WeakMap,Yu=new WeakSet,wv=function(t){if(U(this,lo,!0),t instanceof Error&&t.name==="AbortError"&&(t=new dt),t instanceof dt)return U(this,uo,!0),this._emit("abort",t);if(t instanceof F)return this._emit("error",t);if(t instanceof Error){const n=new F(t.message);return n.cause=t,this._emit("error",n)}return this._emit("error",new F(String(t)))};function l1(e){return typeof e.parse=="function"}var De,Ku,co,Ju,qu,Qu,Sv,Ev;const u1=10;class bv extends cf{constructor(){super(...arguments),De.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){var r;this._chatCompletions.push(t),this._emit("chatCompletion",t);const n=(r=t.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),t}_addMessage(t,n=!0){if("content"in t||(t.content=null),this.messages.push(t),n){if(this._emit("message",t),_v(t)&&t.content)this._emit("functionToolCallResult",t.content);else if(oo(t)&&t.tool_calls)for(const r of t.tool_calls)r.type==="function"&&this._emit("functionToolCall",r.function)}}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new F("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),w(this,De,"m",Ku).call(this)}async finalMessage(){return await this.done(),w(this,De,"m",co).call(this)}async finalFunctionToolCall(){return await this.done(),w(this,De,"m",Ju).call(this)}async finalFunctionToolCallResult(){return await this.done(),w(this,De,"m",qu).call(this)}async totalUsage(){return await this.done(),w(this,De,"m",Qu).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const n=w(this,De,"m",co).call(this);n&&this._emit("finalMessage",n);const r=w(this,De,"m",Ku).call(this);r&&this._emit("finalContent",r);const s=w(this,De,"m",Ju).call(this);s&&this._emit("finalFunctionToolCall",s);const i=w(this,De,"m",qu).call(this);i!=null&&this._emit("finalFunctionToolCallResult",i),this._chatCompletions.some(a=>a.usage)&&this._emit("totalUsage",w(this,De,"m",Qu).call(this))}async _createChatCompletion(t,n,r){const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),w(this,De,"m",Sv).call(this,n);const i=await t.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(uf(i,n))}async _runChatCompletion(t,n,r){for(const s of n.messages)this._addMessage(s,!1);return await this._createChatCompletion(t,n,r)}async _runTools(t,n,r){var g,_,S;const s="tool",{tool_choice:i="auto",stream:a,...o}=n,l=typeof i!="string"&&i.type==="function"&&((g=i==null?void 0:i.function)==null?void 0:g.name),{maxChatCompletions:u=u1}=r||{},c=n.tools.map(O=>{if(Ei(O)){if(!O.$callback)throw new F("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:O.$callback,name:O.function.name,description:O.function.description||"",parameters:O.function.parameters,parse:O.$parseRaw,strict:!0}}}return O}),d={};for(const O of c)O.type==="function"&&(d[O.function.name||O.function.function.name]=O.function);const h="tools"in n?c.map(O=>O.type==="function"?{type:"function",function:{name:O.function.name||O.function.function.name,parameters:O.function.parameters,description:O.function.description,strict:O.function.strict}}:O):void 0;for(const O of n.messages)this._addMessage(O,!1);for(let O=0;O<u;++O){const f=(_=(await this._createChatCompletion(t,{...o,tool_choice:i,tools:h,messages:[...this.messages]},r)).choices[0])==null?void 0:_.message;if(!f)throw new F("missing message in ChatCompletion response");if(!((S=f.tool_calls)!=null&&S.length))return;for(const p of f.tool_calls){if(p.type!=="function")continue;const v=p.id,{name:k,arguments:C}=p.function,b=d[k];if(b){if(l&&l!==k){const W=`Invalid tool_call: ${JSON.stringify(k)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:s,tool_call_id:v,content:W});continue}}else{const W=`Invalid tool_call: ${JSON.stringify(k)}. Available options are: ${Object.keys(d).map(Le=>JSON.stringify(Le)).join(", ")}. Please try again`;this._addMessage({role:s,tool_call_id:v,content:W});continue}let I;try{I=l1(b)?await b.parse(C):C}catch(W){const Le=W instanceof Error?W.message:String(W);this._addMessage({role:s,tool_call_id:v,content:Le});continue}const B=await b.function(I,this),M=w(this,De,"m",Ev).call(this,B);if(this._addMessage({role:s,tool_call_id:v,content:M}),l)return}}}}De=new WeakSet,Ku=function(){return w(this,De,"m",co).call(this).content??null},co=function(){let t=this.messages.length;for(;t-- >0;){const n=this.messages[t];if(oo(n))return{...n,content:n.content??null,refusal:n.refusal??null}}throw new F("stream ended without producing a ChatCompletionMessage with role=assistant")},Ju=function(){var t,n;for(let r=this.messages.length-1;r>=0;r--){const s=this.messages[r];if(oo(s)&&((t=s==null?void 0:s.tool_calls)!=null&&t.length))return(n=s.tool_calls.filter(i=>i.type==="function").at(-1))==null?void 0:n.function}},qu=function(){for(let t=this.messages.length-1;t>=0;t--){const n=this.messages[t];if(_v(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var s;return r.role==="assistant"&&((s=r.tool_calls)==null?void 0:s.some(i=>i.type==="function"&&i.id===n.tool_call_id))}))return n.content}},Qu=function(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(t.completion_tokens+=n.completion_tokens,t.prompt_tokens+=n.prompt_tokens,t.total_tokens+=n.total_tokens);return t},Sv=function(t){if(t.n!=null&&t.n>1)throw new F("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Ev=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};class ff extends bv{static runTools(t,n,r){const s=new ff,i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(t,n,i)),s}_addMessage(t,n=!0){super._addMessage(t,n),oo(t)&&t.content&&this._emit("content",t.content)}}const kv=1,xv=2,Cv=4,Av=8,Ov=16,Rv=32,Tv=64,Pv=128,Dv=256,Iv=Pv|Dv,Nv=Ov|Rv|Iv|Tv,Mv=kv|xv|Nv,jv=Cv|Av,c1=Mv|jv,ve={STR:kv,NUM:xv,ARR:Cv,OBJ:Av,NULL:Ov,BOOL:Rv,NAN:Tv,INFINITY:Pv,MINUS_INFINITY:Dv,INF:Iv,SPECIAL:Nv,ATOM:Mv,COLLECTION:jv,ALL:c1};class f1 extends Error{}class d1 extends Error{}function h1(e,t=ve.ALL){if(typeof e!="string")throw new TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw new Error(`${e} is empty`);return p1(e.trim(),t)}const p1=(e,t)=>{const n=e.length;let r=0;const s=h=>{throw new f1(`${h} at position ${r}`)},i=h=>{throw new d1(`${h} at position ${r}`)},a=()=>(d(),r>=n&&s("Unexpected end of input"),e[r]==='"'?o():e[r]==="{"?l():e[r]==="["?u():e.substring(r,r+4)==="null"||ve.NULL&t&&n-r<4&&"null".startsWith(e.substring(r))?(r+=4,null):e.substring(r,r+4)==="true"||ve.BOOL&t&&n-r<4&&"true".startsWith(e.substring(r))?(r+=4,!0):e.substring(r,r+5)==="false"||ve.BOOL&t&&n-r<5&&"false".startsWith(e.substring(r))?(r+=5,!1):e.substring(r,r+8)==="Infinity"||ve.INFINITY&t&&n-r<8&&"Infinity".startsWith(e.substring(r))?(r+=8,1/0):e.substring(r,r+9)==="-Infinity"||ve.MINUS_INFINITY&t&&1<n-r&&n-r<9&&"-Infinity".startsWith(e.substring(r))?(r+=9,-1/0):e.substring(r,r+3)==="NaN"||ve.NAN&t&&n-r<3&&"NaN".startsWith(e.substring(r))?(r+=3,NaN):c()),o=()=>{const h=r;let g=!1;for(r++;r<n&&(e[r]!=='"'||g&&e[r-1]==="\\");)g=e[r]==="\\"?!g:!1,r++;if(e.charAt(r)=='"')try{return JSON.parse(e.substring(h,++r-Number(g)))}catch(_){i(String(_))}else if(ve.STR&t)try{return JSON.parse(e.substring(h,r-Number(g))+'"')}catch{return JSON.parse(e.substring(h,e.lastIndexOf("\\"))+'"')}s("Unterminated string literal")},l=()=>{r++,d();const h={};try{for(;e[r]!=="}";){if(d(),r>=n&&ve.OBJ&t)return h;const g=o();d(),r++;try{const _=a();Object.defineProperty(h,g,{value:_,writable:!0,enumerable:!0,configurable:!0})}catch(_){if(ve.OBJ&t)return h;throw _}d(),e[r]===","&&r++}}catch{if(ve.OBJ&t)return h;s("Expected '}' at end of object")}return r++,h},u=()=>{r++;const h=[];try{for(;e[r]!=="]";)h.push(a()),d(),e[r]===","&&r++}catch{if(ve.ARR&t)return h;s("Expected ']' at end of array")}return r++,h},c=()=>{if(r===0){e==="-"&&ve.NUM&t&&s("Not sure what '-' is");try{return JSON.parse(e)}catch(g){if(ve.NUM&t)try{return e[e.length-1]==="."?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch{}i(String(g))}}const h=r;for(e[r]==="-"&&r++;e[r]&&!",]}".includes(e[r]);)r++;r==n&&!(ve.NUM&t)&&s("Unterminated number literal");try{return JSON.parse(e.substring(h,r))}catch{e.substring(h,r)==="-"&&ve.NUM&t&&s("Not sure what '-' is");try{return JSON.parse(e.substring(h,e.lastIndexOf("e")))}catch(_){i(String(_))}}},d=()=>{for(;r<n&&` 
\r	`.includes(e[r]);)r++};return a()},yh=e=>h1(e,ve.ALL^ve.NUM);var de,Vt,pr,fn,Rl,Ji,Tl,Pl,Dl,qi,Il,_h;class ui extends bv{constructor(t){super(),de.add(this),Vt.set(this,void 0),pr.set(this,void 0),fn.set(this,void 0),U(this,Vt,t),U(this,pr,[])}get currentChatCompletionSnapshot(){return w(this,fn,"f")}static fromReadableStream(t){const n=new ui(null);return n._run(()=>n._fromReadableStream(t)),n}static createChatCompletion(t,n,r){const s=new ui(n);return s._run(()=>s._runChatCompletion(t,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createChatCompletion(t,n,r){var a;super._createChatCompletion;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),w(this,de,"m",Rl).call(this);const i=await t.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const o of i)w(this,de,"m",Tl).call(this,o);if((a=i.controller.signal)!=null&&a.aborted)throw new dt;return this._addChatCompletion(w(this,de,"m",qi).call(this))}async _fromReadableStream(t,n){var a;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),w(this,de,"m",Rl).call(this),this._connected();const s=Lt.fromReadableStream(t,this.controller);let i;for await(const o of s)i&&i!==o.id&&this._addChatCompletion(w(this,de,"m",qi).call(this)),w(this,de,"m",Tl).call(this,o),i=o.id;if((a=s.controller.signal)!=null&&a.aborted)throw new dt;return this._addChatCompletion(w(this,de,"m",qi).call(this))}[(Vt=new WeakMap,pr=new WeakMap,fn=new WeakMap,de=new WeakSet,Rl=function(){this.ended||U(this,fn,void 0)},Ji=function(n){let r=w(this,pr,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},w(this,pr,"f")[n.index]=r,r)},Tl=function(n){var s,i,a,o,l,u,c,d,h,g,_,S,O,m,f;if(this.ended)return;const r=w(this,de,"m",_h).call(this,n);this._emit("chunk",n,r);for(const p of n.choices){const v=r.choices[p.index];p.delta.content!=null&&((s=v.message)==null?void 0:s.role)==="assistant"&&((i=v.message)!=null&&i.content)&&(this._emit("content",p.delta.content,v.message.content),this._emit("content.delta",{delta:p.delta.content,snapshot:v.message.content,parsed:v.message.parsed})),p.delta.refusal!=null&&((a=v.message)==null?void 0:a.role)==="assistant"&&((o=v.message)!=null&&o.refusal)&&this._emit("refusal.delta",{delta:p.delta.refusal,snapshot:v.message.refusal}),((l=p.logprobs)==null?void 0:l.content)!=null&&((u=v.message)==null?void 0:u.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(c=p.logprobs)==null?void 0:c.content,snapshot:((d=v.logprobs)==null?void 0:d.content)??[]}),((h=p.logprobs)==null?void 0:h.refusal)!=null&&((g=v.message)==null?void 0:g.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(_=p.logprobs)==null?void 0:_.refusal,snapshot:((S=v.logprobs)==null?void 0:S.refusal)??[]});const k=w(this,de,"m",Ji).call(this,v);v.finish_reason&&(w(this,de,"m",Dl).call(this,v),k.current_tool_call_index!=null&&w(this,de,"m",Pl).call(this,v,k.current_tool_call_index));for(const C of p.delta.tool_calls??[])k.current_tool_call_index!==C.index&&(w(this,de,"m",Dl).call(this,v),k.current_tool_call_index!=null&&w(this,de,"m",Pl).call(this,v,k.current_tool_call_index)),k.current_tool_call_index=C.index;for(const C of p.delta.tool_calls??[]){const b=(O=v.message.tool_calls)==null?void 0:O[C.index];b!=null&&b.type&&((b==null?void 0:b.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(m=b.function)==null?void 0:m.name,index:C.index,arguments:b.function.arguments,parsed_arguments:b.function.parsed_arguments,arguments_delta:((f=C.function)==null?void 0:f.arguments)??""}):(b==null||b.type,void 0))}}},Pl=function(n,r){var a,o,l;if(w(this,de,"m",Ji).call(this,n).done_tool_calls.has(r))return;const i=(a=n.message.tool_calls)==null?void 0:a[r];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){const u=(l=(o=w(this,Vt,"f"))==null?void 0:o.tools)==null?void 0:l.find(c=>ao(c)&&c.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:r,arguments:i.function.arguments,parsed_arguments:Ei(u)?u.$parseRaw(i.function.arguments):u!=null&&u.function.strict?JSON.parse(i.function.arguments):null})}else i.type},Dl=function(n){var s,i;const r=w(this,de,"m",Ji).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const a=w(this,de,"m",Il).call(this);this._emit("content.done",{content:n.message.content,parsed:a?a.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(s=n.logprobs)!=null&&s.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(i=n.logprobs)!=null&&i.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},qi=function(){if(this.ended)throw new F("stream has ended, this shouldn't happen");const n=w(this,fn,"f");if(!n)throw new F("request ended without sending any chunks");return U(this,fn,void 0),U(this,pr,[]),m1(n,w(this,Vt,"f"))},Il=function(){var r;const n=(r=w(this,Vt,"f"))==null?void 0:r.response_format;return lf(n)?n:null},_h=function(n){var r,s,i,a;let o=w(this,fn,"f");const{choices:l,...u}=n;o?Object.assign(o,u):o=U(this,fn,{...u,choices:[]});for(const{delta:c,finish_reason:d,index:h,logprobs:g=null,..._}of n.choices){let S=o.choices[h];if(S||(S=o.choices[h]={finish_reason:d,index:h,message:{},logprobs:g,..._}),g)if(!S.logprobs)S.logprobs=Object.assign({},g);else{const{content:C,refusal:b,...I}=g;Object.assign(S.logprobs,I),C&&((r=S.logprobs).content??(r.content=[]),S.logprobs.content.push(...C)),b&&((s=S.logprobs).refusal??(s.refusal=[]),S.logprobs.refusal.push(...b))}if(d&&(S.finish_reason=d,w(this,Vt,"f")&&vv(w(this,Vt,"f")))){if(d==="length")throw new Zg;if(d==="content_filter")throw new ev}if(Object.assign(S,_),!c)continue;const{content:O,refusal:m,function_call:f,role:p,tool_calls:v,...k}=c;if(Object.assign(S.message,k),m&&(S.message.refusal=(S.message.refusal||"")+m),p&&(S.message.role=p),f&&(S.message.function_call?(f.name&&(S.message.function_call.name=f.name),f.arguments&&((i=S.message.function_call).arguments??(i.arguments=""),S.message.function_call.arguments+=f.arguments)):S.message.function_call=f),O&&(S.message.content=(S.message.content||"")+O,!S.message.refusal&&w(this,de,"m",Il).call(this)&&(S.message.parsed=yh(S.message.content))),v){S.message.tool_calls||(S.message.tool_calls=[]);for(const{index:C,id:b,type:I,function:B,...M}of v){const W=(a=S.message.tool_calls)[C]??(a[C]={});Object.assign(W,M),b&&(W.id=b),I&&(W.type=I),B&&(W.function??(W.function={name:B.name??"",arguments:""})),B!=null&&B.name&&(W.function.name=B.name),B!=null&&B.arguments&&(W.function.arguments+=B.arguments,a1(w(this,Vt,"f"),W)&&(W.function.parsed_arguments=yh(W.function.arguments)))}}}return o},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("chunk",s=>{const i=n.shift();i?i.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,a)=>n.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Lt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function m1(e,t){const{id:n,choices:r,created:s,model:i,system_fingerprint:a,...o}=e,l={...o,id:n,choices:r.map(({message:u,finish_reason:c,index:d,logprobs:h,...g})=>{if(!c)throw new F(`missing finish_reason for choice ${d}`);const{content:_=null,function_call:S,tool_calls:O,...m}=u,f=u.role;if(!f)throw new F(`missing role for choice ${d}`);if(S){const{arguments:p,name:v}=S;if(p==null)throw new F(`missing function_call.arguments for choice ${d}`);if(!v)throw new F(`missing function_call.name for choice ${d}`);return{...g,message:{content:_,function_call:{arguments:p,name:v},role:f,refusal:u.refusal??null},finish_reason:c,index:d,logprobs:h}}return O?{...g,index:d,finish_reason:c,logprobs:h,message:{...m,role:f,content:_,refusal:u.refusal??null,tool_calls:O.map((p,v)=>{const{function:k,type:C,id:b,...I}=p,{arguments:B,name:M,...W}=k||{};if(b==null)throw new F(`missing choices[${d}].tool_calls[${v}].id
${Qi(e)}`);if(C==null)throw new F(`missing choices[${d}].tool_calls[${v}].type
${Qi(e)}`);if(M==null)throw new F(`missing choices[${d}].tool_calls[${v}].function.name
${Qi(e)}`);if(B==null)throw new F(`missing choices[${d}].tool_calls[${v}].function.arguments
${Qi(e)}`);return{...I,id:b,type:C,function:{...W,name:M,arguments:B}}})}}:{...g,message:{...m,content:_,role:f,refusal:u.refusal??null},finish_reason:c,index:d,logprobs:h}}),created:s,model:i,object:"chat.completion",...a?{system_fingerprint:a}:{}};return r1(l,t)}function Qi(e){return JSON.stringify(e)}class fo extends ui{static fromReadableStream(t){const n=new fo(null);return n._run(()=>n._fromReadableStream(t)),n}static runTools(t,n,r){const s=new fo(n),i={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(t,n,i)),s}}let df=class extends ${constructor(){super(...arguments),this.messages=new gv(this._client)}create(t,n){return this._client.post("/chat/completions",{body:t,...n,stream:t.stream??!1})}retrieve(t,n){return this._client.get(R`/chat/completions/${t}`,n)}update(t,n,r){return this._client.post(R`/chat/completions/${t}`,{body:n,...r})}list(t={},n){return this._client.getAPIList("/chat/completions",fe,{query:t,...n})}delete(t,n){return this._client.delete(R`/chat/completions/${t}`,n)}parse(t,n){return o1(t.tools),this._client.chat.completions.create(t,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(r=>uf(r,t))}runTools(t,n){return t.stream?fo.runTools(this._client,t,n):ff.runTools(this._client,t,n)}stream(t,n){return ui.createChatCompletion(this._client,t,n)}};df.Messages=gv;class hf extends ${constructor(){super(...arguments),this.completions=new df(this._client)}}hf.Completions=df;const Lv=Symbol("brand.privateNullableHeaders");function*g1(e){if(!e)return;if(Lv in e){const{values:r,nulls:s}=e;yield*r.entries();for(const i of s)yield[i,null];return}let t=!1,n;e instanceof Headers?n=e.entries():sh(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let r of n){const s=r[0];if(typeof s!="string")throw new TypeError("expected header name to be a string");const i=sh(r[1])?r[1]:[r[1]];let a=!1;for(const o of i)o!==void 0&&(t&&!a&&(a=!0,yield[s,null]),yield[s,o])}}const L=e=>{const t=new Headers,n=new Set;for(const r of e){const s=new Set;for(const[i,a]of g1(r)){const o=i.toLowerCase();s.has(o)||(t.delete(i),s.add(o)),a===null?(t.delete(i),n.add(o)):(t.append(i,a),n.delete(o))}}return{[Lv]:!0,values:t,nulls:n}};class Fv extends ${create(t,n){return this._client.post("/audio/speech",{body:t,...n,headers:L([{Accept:"application/octet-stream"},n==null?void 0:n.headers]),__binaryResponse:!0})}}class $v extends ${create(t,n){return this._client.post("/audio/transcriptions",rr({body:t,...n,stream:t.stream??!1,__metadata:{model:t.model}},this._client))}}class Bv extends ${create(t,n){return this._client.post("/audio/translations",rr({body:t,...n,__metadata:{model:t.model}},this._client))}}class bi extends ${constructor(){super(...arguments),this.transcriptions=new $v(this._client),this.translations=new Bv(this._client),this.speech=new Fv(this._client)}}bi.Transcriptions=$v;bi.Translations=Bv;bi.Speech=Fv;class Uv extends ${create(t,n){return this._client.post("/batches",{body:t,...n})}retrieve(t,n){return this._client.get(R`/batches/${t}`,n)}list(t={},n){return this._client.getAPIList("/batches",fe,{query:t,...n})}cancel(t,n){return this._client.post(R`/batches/${t}/cancel`,n)}}class zv extends ${create(t,n){return this._client.post("/assistants",{body:t,...n,headers:L([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(t,n){return this._client.get(R`/assistants/${t}`,{...n,headers:L([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(t,n,r){return this._client.post(R`/assistants/${t}`,{body:n,...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t={},n){return this._client.getAPIList("/assistants",fe,{query:t,...n,headers:L([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}delete(t,n){return this._client.delete(R`/assistants/${t}`,{...n,headers:L([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}class Vv extends ${create(t,n){return this._client.post("/realtime/sessions",{body:t,...n,headers:L([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}class Wv extends ${create(t,n){return this._client.post("/realtime/transcription_sessions",{body:t,...n,headers:L([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}let Vo=class extends ${constructor(){super(...arguments),this.sessions=new Vv(this._client),this.transcriptionSessions=new Wv(this._client)}};Vo.Sessions=Vv;Vo.TranscriptionSessions=Wv;class Hv extends ${create(t,n,r){return this._client.post(R`/threads/${t}/messages`,{body:n,...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(t,n,r){const{thread_id:s}=n;return this._client.get(R`/threads/${s}/messages/${t}`,{...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(t,n,r){const{thread_id:s,...i}=n;return this._client.post(R`/threads/${s}/messages/${t}`,{body:i,...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t,n={},r){return this._client.getAPIList(R`/threads/${t}/messages`,fe,{query:n,...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(t,n,r){const{thread_id:s}=n;return this._client.delete(R`/threads/${s}/messages/${t}`,{...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}class Gv extends ${retrieve(t,n,r){const{thread_id:s,run_id:i,...a}=n;return this._client.get(R`/threads/${s}/runs/${i}/steps/${t}`,{query:a,...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t,n,r){const{thread_id:s,...i}=n;return this._client.getAPIList(R`/threads/${s}/runs/${t}/steps`,fe,{query:i,...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}const v1=e=>{if(typeof Buffer<"u"){const t=Buffer.from(e,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}else{const t=atob(e),n=t.length,r=new Uint8Array(n);for(let s=0;s<n;s++)r[s]=t.charCodeAt(s);return Array.from(new Float32Array(r.buffer))}};var Nl={};const mr=e=>{var t,n,r,s;if(typeof globalThis.process<"u")return((t=Nl==null?void 0:Nl[e])==null?void 0:t.trim())??void 0;if(typeof globalThis.Deno<"u")return(s=(r=(n=globalThis.Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,e))==null?void 0:s.trim()};var be,Vn,Xu,It,wa,yt,Wn,Mr,$n,ho,Ke,Sa,Ea,Bs,xs,Cs,wh,Sh,Eh,bh,kh,xh,Ch;class Us extends cf{constructor(){super(...arguments),be.add(this),Xu.set(this,[]),It.set(this,{}),wa.set(this,{}),yt.set(this,void 0),Wn.set(this,void 0),Mr.set(this,void 0),$n.set(this,void 0),ho.set(this,void 0),Ke.set(this,void 0),Sa.set(this,void 0),Ea.set(this,void 0),Bs.set(this,void 0)}[(Xu=new WeakMap,It=new WeakMap,wa=new WeakMap,yt=new WeakMap,Wn=new WeakMap,Mr=new WeakMap,$n=new WeakMap,ho=new WeakMap,Ke=new WeakMap,Sa=new WeakMap,Ea=new WeakMap,Bs=new WeakMap,be=new WeakSet,Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("event",s=>{const i=n.shift();i?i.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,a)=>n.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){const n=new Vn;return n._run(()=>n._fromReadableStream(t)),n}async _fromReadableStream(t,n){var i;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const s=Lt.fromReadableStream(t,this.controller);for await(const a of s)w(this,be,"m",xs).call(this,a);if((i=s.controller.signal)!=null&&i.aborted)throw new dt;return this._addRun(w(this,be,"m",Cs).call(this))}toReadableStream(){return new Lt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,n,r,s){const i=new Vn;return i._run(()=>i._runToolAssistantStream(t,n,r,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createToolAssistantStream(t,n,r,s){var l;const i=s==null?void 0:s.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const a={...r,stream:!0},o=await t.submitToolOutputs(n,a,{...s,signal:this.controller.signal});this._connected();for await(const u of o)w(this,be,"m",xs).call(this,u);if((l=o.controller.signal)!=null&&l.aborted)throw new dt;return this._addRun(w(this,be,"m",Cs).call(this))}static createThreadAssistantStream(t,n,r){const s=new Vn;return s._run(()=>s._threadAssistantStream(t,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}static createAssistantStream(t,n,r,s){const i=new Vn;return i._run(()=>i._runAssistantStream(t,n,r,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return w(this,Sa,"f")}currentRun(){return w(this,Ea,"f")}currentMessageSnapshot(){return w(this,yt,"f")}currentRunStepSnapshot(){return w(this,Bs,"f")}async finalRunSteps(){return await this.done(),Object.values(w(this,It,"f"))}async finalMessages(){return await this.done(),Object.values(w(this,wa,"f"))}async finalRun(){if(await this.done(),!w(this,Wn,"f"))throw Error("Final run was not received.");return w(this,Wn,"f")}async _createThreadAssistantStream(t,n,r){var o;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const i={...n,stream:!0},a=await t.createAndRun(i,{...r,signal:this.controller.signal});this._connected();for await(const l of a)w(this,be,"m",xs).call(this,l);if((o=a.controller.signal)!=null&&o.aborted)throw new dt;return this._addRun(w(this,be,"m",Cs).call(this))}async _createAssistantStream(t,n,r,s){var l;const i=s==null?void 0:s.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const a={...r,stream:!0},o=await t.create(n,a,{...s,signal:this.controller.signal});this._connected();for await(const u of o)w(this,be,"m",xs).call(this,u);if((l=o.controller.signal)!=null&&l.aborted)throw new dt;return this._addRun(w(this,be,"m",Cs).call(this))}static accumulateDelta(t,n){for(const[r,s]of Object.entries(n)){if(!t.hasOwnProperty(r)){t[r]=s;continue}let i=t[r];if(i==null){t[r]=s;continue}if(r==="index"||r==="type"){t[r]=s;continue}if(typeof i=="string"&&typeof s=="string")i+=s;else if(typeof i=="number"&&typeof s=="number")i+=s;else if(Cl(i)&&Cl(s))i=this.accumulateDelta(i,s);else if(Array.isArray(i)&&Array.isArray(s)){if(i.every(a=>typeof a=="string"||typeof a=="number")){i.push(...s);continue}for(const a of s){if(!Cl(a))throw new Error(`Expected array delta entry to be an object but got: ${a}`);const o=a.index;if(o==null)throw console.error(a),new Error("Expected array delta entry to have an `index` property");if(typeof o!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${o}`);const l=i[o];l==null?i.push(a):i[o]=this.accumulateDelta(l,a)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${s}, accValue: ${i}`);t[r]=i}return t}_addRun(t){return t}async _threadAssistantStream(t,n,r){return await this._createThreadAssistantStream(n,t,r)}async _runAssistantStream(t,n,r,s){return await this._createAssistantStream(n,t,r,s)}async _runToolAssistantStream(t,n,r,s){return await this._createToolAssistantStream(n,t,r,s)}}Vn=Us,xs=function(t){if(!this.ended)switch(U(this,Sa,t),w(this,be,"m",Eh).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":w(this,be,"m",Ch).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":w(this,be,"m",Sh).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":w(this,be,"m",wh).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Cs=function(){if(this.ended)throw new F("stream has ended, this shouldn't happen");if(!w(this,Wn,"f"))throw Error("Final run has not been received");return w(this,Wn,"f")},wh=function(t){const[n,r]=w(this,be,"m",kh).call(this,t,w(this,yt,"f"));U(this,yt,n),w(this,wa,"f")[n.id]=n;for(const s of r){const i=n.content[s.index];(i==null?void 0:i.type)=="text"&&this._emit("textCreated",i.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,n),t.data.delta.content)for(const s of t.data.delta.content){if(s.type=="text"&&s.text){let i=s.text,a=n.content[s.index];if(a&&a.type=="text")this._emit("textDelta",i,a.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(s.index!=w(this,Mr,"f")){if(w(this,$n,"f"))switch(w(this,$n,"f").type){case"text":this._emit("textDone",w(this,$n,"f").text,w(this,yt,"f"));break;case"image_file":this._emit("imageFileDone",w(this,$n,"f").image_file,w(this,yt,"f"));break}U(this,Mr,s.index)}U(this,$n,n.content[s.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(w(this,Mr,"f")!==void 0){const s=t.data.content[w(this,Mr,"f")];if(s)switch(s.type){case"image_file":this._emit("imageFileDone",s.image_file,w(this,yt,"f"));break;case"text":this._emit("textDone",s.text,w(this,yt,"f"));break}}w(this,yt,"f")&&this._emit("messageDone",t.data),U(this,yt,void 0)}},Sh=function(t){const n=w(this,be,"m",bh).call(this,t);switch(U(this,Bs,n),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":const r=t.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const i of r.step_details.tool_calls)i.index==w(this,ho,"f")?this._emit("toolCallDelta",i,n.step_details.tool_calls[i.index]):(w(this,Ke,"f")&&this._emit("toolCallDone",w(this,Ke,"f")),U(this,ho,i.index),U(this,Ke,n.step_details.tool_calls[i.index]),w(this,Ke,"f")&&this._emit("toolCallCreated",w(this,Ke,"f")));this._emit("runStepDelta",t.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":U(this,Bs,void 0),t.data.step_details.type=="tool_calls"&&w(this,Ke,"f")&&(this._emit("toolCallDone",w(this,Ke,"f")),U(this,Ke,void 0)),this._emit("runStepDone",t.data,n);break}},Eh=function(t){w(this,Xu,"f").push(t),this._emit("event",t)},bh=function(t){switch(t.event){case"thread.run.step.created":return w(this,It,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let n=w(this,It,"f")[t.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=t.data;if(r.delta){const s=Vn.accumulateDelta(n,r.delta);w(this,It,"f")[t.data.id]=s}return w(this,It,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":w(this,It,"f")[t.data.id]=t.data;break}if(w(this,It,"f")[t.data.id])return w(this,It,"f")[t.data.id];throw new Error("No snapshot available")},kh=function(t,n){let r=[];switch(t.event){case"thread.message.created":return[t.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let s=t.data;if(s.delta.content)for(const i of s.delta.content)if(i.index in n.content){let a=n.content[i.index];n.content[i.index]=w(this,be,"m",xh).call(this,i,a)}else n.content[i.index]=i,r.push(i);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},xh=function(t,n){return Vn.accumulateDelta(n,t)},Ch=function(t){switch(U(this,Ea,t.data),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":U(this,Wn,t.data),w(this,Ke,"f")&&(this._emit("toolCallDone",w(this,Ke,"f")),U(this,Ke,void 0));break}};let pf=class extends ${constructor(){super(...arguments),this.steps=new Gv(this._client)}create(t,n,r){const{include:s,...i}=n;return this._client.post(R`/threads/${t}/runs`,{query:{include:s},body:i,...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers]),stream:n.stream??!1})}retrieve(t,n,r){const{thread_id:s}=n;return this._client.get(R`/threads/${s}/runs/${t}`,{...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(t,n,r){const{thread_id:s,...i}=n;return this._client.post(R`/threads/${s}/runs/${t}`,{body:i,...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t,n={},r){return this._client.getAPIList(R`/threads/${t}/runs`,fe,{query:n,...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}cancel(t,n,r){const{thread_id:s}=n;return this._client.post(R`/threads/${s}/runs/${t}/cancel`,{...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(t,n,r){const s=await this.create(t,n,r);return await this.poll(s.id,{thread_id:t},r)}createAndStream(t,n,r){return Us.createAssistantStream(t,this._client.beta.threads.runs,n,r)}async poll(t,n,r){var i;const s=L([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((i=r==null?void 0:r.pollIntervalMs)==null?void 0:i.toString())??void 0}]);for(;;){const{data:a,response:o}=await this.retrieve(t,n,{...r,headers:{...r==null?void 0:r.headers,...s}}).withResponse();switch(a.status){case"queued":case"in_progress":case"cancelling":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const u=o.headers.get("openai-poll-after-ms");if(u){const c=parseInt(u);isNaN(c)||(l=c)}}await Si(l);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return a}}}stream(t,n,r){return Us.createAssistantStream(t,this._client.beta.threads.runs,n,r)}submitToolOutputs(t,n,r){const{thread_id:s,...i}=n;return this._client.post(R`/threads/${s}/runs/${t}/submit_tool_outputs`,{body:i,...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers]),stream:n.stream??!1})}async submitToolOutputsAndPoll(t,n,r){const s=await this.submitToolOutputs(t,n,r);return await this.poll(s.id,n,r)}submitToolOutputsStream(t,n,r){return Us.createToolAssistantStream(t,this._client.beta.threads.runs,n,r)}};pf.Steps=Gv;class Wo extends ${constructor(){super(...arguments),this.runs=new pf(this._client),this.messages=new Hv(this._client)}create(t={},n){return this._client.post("/threads",{body:t,...n,headers:L([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(t,n){return this._client.get(R`/threads/${t}`,{...n,headers:L([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(t,n,r){return this._client.post(R`/threads/${t}`,{body:n,...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(t,n){return this._client.delete(R`/threads/${t}`,{...n,headers:L([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}createAndRun(t,n){return this._client.post("/threads/runs",{body:t,...n,headers:L([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers]),stream:t.stream??!1})}async createAndRunPoll(t,n){const r=await this.createAndRun(t,n);return await this.runs.poll(r.id,{thread_id:r.thread_id},n)}createAndRunStream(t,n){return Us.createThreadAssistantStream(t,this._client.beta.threads,n)}}Wo.Runs=pf;Wo.Messages=Hv;class ki extends ${constructor(){super(...arguments),this.realtime=new Vo(this._client),this.assistants=new zv(this._client),this.threads=new Wo(this._client)}}ki.Realtime=Vo;ki.Assistants=zv;ki.Threads=Wo;class Yv extends ${create(t,n){return this._client.post("/completions",{body:t,...n,stream:t.stream??!1})}}class Kv extends ${retrieve(t,n,r){const{container_id:s}=n;return this._client.get(R`/containers/${s}/files/${t}/content`,{...r,headers:L([{Accept:"application/binary"},r==null?void 0:r.headers]),__binaryResponse:!0})}}let mf=class extends ${constructor(){super(...arguments),this.content=new Kv(this._client)}create(t,n,r){return this._client.post(R`/containers/${t}/files`,rr({body:n,...r},this._client))}retrieve(t,n,r){const{container_id:s}=n;return this._client.get(R`/containers/${s}/files/${t}`,r)}list(t,n={},r){return this._client.getAPIList(R`/containers/${t}/files`,fe,{query:n,...r})}delete(t,n,r){const{container_id:s}=n;return this._client.delete(R`/containers/${s}/files/${t}`,{...r,headers:L([{Accept:"*/*"},r==null?void 0:r.headers])})}};mf.Content=Kv;class gf extends ${constructor(){super(...arguments),this.files=new mf(this._client)}create(t,n){return this._client.post("/containers",{body:t,...n})}retrieve(t,n){return this._client.get(R`/containers/${t}`,n)}list(t={},n){return this._client.getAPIList("/containers",fe,{query:t,...n})}delete(t,n){return this._client.delete(R`/containers/${t}`,{...n,headers:L([{Accept:"*/*"},n==null?void 0:n.headers])})}}gf.Files=mf;class Jv extends ${create(t,n,r){const{include:s,...i}=n;return this._client.post(R`/conversations/${t}/items`,{query:{include:s},body:i,...r})}retrieve(t,n,r){const{conversation_id:s,...i}=n;return this._client.get(R`/conversations/${s}/items/${t}`,{query:i,...r})}list(t,n={},r){return this._client.getAPIList(R`/conversations/${t}/items`,KE,{query:n,...r})}delete(t,n,r){const{conversation_id:s}=n;return this._client.delete(R`/conversations/${s}/items/${t}`,r)}}class vf extends ${constructor(){super(...arguments),this.items=new Jv(this._client)}create(t,n){return this._client.post("/conversations",{body:t,...n})}retrieve(t,n){return this._client.get(R`/conversations/${t}`,n)}update(t,n,r){return this._client.post(R`/conversations/${t}`,{body:n,...r})}delete(t,n){return this._client.delete(R`/conversations/${t}`,n)}}vf.Items=Jv;class qv extends ${create(t,n){const r=!!t.encoding_format;let s=r?t.encoding_format:"base64";r&&Ee(this._client).debug("embeddings/user defined encoding_format:",t.encoding_format);const i=this._client.post("/embeddings",{body:{...t,encoding_format:s},...n});return r?i:(Ee(this._client).debug("embeddings/decoding base64 embeddings from base64"),i._thenUnwrap(a=>(a&&a.data&&a.data.forEach(o=>{const l=o.embedding;o.embedding=v1(l)}),a)))}}class Qv extends ${retrieve(t,n,r){const{eval_id:s,run_id:i}=n;return this._client.get(R`/evals/${s}/runs/${i}/output_items/${t}`,r)}list(t,n,r){const{eval_id:s,...i}=n;return this._client.getAPIList(R`/evals/${s}/runs/${t}/output_items`,fe,{query:i,...r})}}class yf extends ${constructor(){super(...arguments),this.outputItems=new Qv(this._client)}create(t,n,r){return this._client.post(R`/evals/${t}/runs`,{body:n,...r})}retrieve(t,n,r){const{eval_id:s}=n;return this._client.get(R`/evals/${s}/runs/${t}`,r)}list(t,n={},r){return this._client.getAPIList(R`/evals/${t}/runs`,fe,{query:n,...r})}delete(t,n,r){const{eval_id:s}=n;return this._client.delete(R`/evals/${s}/runs/${t}`,r)}cancel(t,n,r){const{eval_id:s}=n;return this._client.post(R`/evals/${s}/runs/${t}`,r)}}yf.OutputItems=Qv;class _f extends ${constructor(){super(...arguments),this.runs=new yf(this._client)}create(t,n){return this._client.post("/evals",{body:t,...n})}retrieve(t,n){return this._client.get(R`/evals/${t}`,n)}update(t,n,r){return this._client.post(R`/evals/${t}`,{body:n,...r})}list(t={},n){return this._client.getAPIList("/evals",fe,{query:t,...n})}delete(t,n){return this._client.delete(R`/evals/${t}`,n)}}_f.Runs=yf;let Xv=class extends ${create(t,n){return this._client.post("/files",rr({body:t,...n},this._client))}retrieve(t,n){return this._client.get(R`/files/${t}`,n)}list(t={},n){return this._client.getAPIList("/files",fe,{query:t,...n})}delete(t,n){return this._client.delete(R`/files/${t}`,n)}content(t,n){return this._client.get(R`/files/${t}/content`,{...n,headers:L([{Accept:"application/binary"},n==null?void 0:n.headers]),__binaryResponse:!0})}async waitForProcessing(t,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const s=new Set(["processed","error","deleted"]),i=Date.now();let a=await this.retrieve(t);for(;!a.status||!s.has(a.status);)if(await Si(n),a=await this.retrieve(t),Date.now()-i>r)throw new sf({message:`Giving up on waiting for file ${t} to finish processing after ${r} milliseconds.`});return a}};class Zv extends ${}let ey=class extends ${run(t,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:t,...n})}validate(t,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:t,...n})}};class wf extends ${constructor(){super(...arguments),this.graders=new ey(this._client)}}wf.Graders=ey;class ty extends ${create(t,n,r){return this._client.getAPIList(R`/fine_tuning/checkpoints/${t}/permissions`,zo,{body:n,method:"post",...r})}retrieve(t,n={},r){return this._client.get(R`/fine_tuning/checkpoints/${t}/permissions`,{query:n,...r})}delete(t,n,r){const{fine_tuned_model_checkpoint:s}=n;return this._client.delete(R`/fine_tuning/checkpoints/${s}/permissions/${t}`,r)}}let Sf=class extends ${constructor(){super(...arguments),this.permissions=new ty(this._client)}};Sf.Permissions=ty;class ny extends ${list(t,n={},r){return this._client.getAPIList(R`/fine_tuning/jobs/${t}/checkpoints`,fe,{query:n,...r})}}class Ef extends ${constructor(){super(...arguments),this.checkpoints=new ny(this._client)}create(t,n){return this._client.post("/fine_tuning/jobs",{body:t,...n})}retrieve(t,n){return this._client.get(R`/fine_tuning/jobs/${t}`,n)}list(t={},n){return this._client.getAPIList("/fine_tuning/jobs",fe,{query:t,...n})}cancel(t,n){return this._client.post(R`/fine_tuning/jobs/${t}/cancel`,n)}listEvents(t,n={},r){return this._client.getAPIList(R`/fine_tuning/jobs/${t}/events`,fe,{query:n,...r})}pause(t,n){return this._client.post(R`/fine_tuning/jobs/${t}/pause`,n)}resume(t,n){return this._client.post(R`/fine_tuning/jobs/${t}/resume`,n)}}Ef.Checkpoints=ny;class rs extends ${constructor(){super(...arguments),this.methods=new Zv(this._client),this.jobs=new Ef(this._client),this.checkpoints=new Sf(this._client),this.alpha=new wf(this._client)}}rs.Methods=Zv;rs.Jobs=Ef;rs.Checkpoints=Sf;rs.Alpha=wf;class ry extends ${}class bf extends ${constructor(){super(...arguments),this.graderModels=new ry(this._client)}}bf.GraderModels=ry;class sy extends ${createVariation(t,n){return this._client.post("/images/variations",rr({body:t,...n},this._client))}edit(t,n){return this._client.post("/images/edits",rr({body:t,...n,stream:t.stream??!1},this._client))}generate(t,n){return this._client.post("/images/generations",{body:t,...n,stream:t.stream??!1})}}class iy extends ${retrieve(t,n){return this._client.get(R`/models/${t}`,n)}list(t){return this._client.getAPIList("/models",zo,t)}delete(t,n){return this._client.delete(R`/models/${t}`,n)}}class ay extends ${create(t,n){return this._client.post("/moderations",{body:t,...n})}}class oy extends ${create(t,n){return this._client.post("/realtime/client_secrets",{body:t,...n})}}class kf extends ${constructor(){super(...arguments),this.clientSecrets=new oy(this._client)}}kf.ClientSecrets=oy;function y1(e,t){return!t||!w1(t)?{...e,output_parsed:null,output:e.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(r=>({...r,parsed:null}))}:n)}:ly(e,t)}function ly(e,t){const n=e.output.map(s=>{if(s.type==="function_call")return{...s,parsed_arguments:b1(t,s)};if(s.type==="message"){const i=s.content.map(a=>a.type==="output_text"?{...a,parsed:_1(t,a.text)}:a);return{...s,content:i}}return s}),r=Object.assign({},e,{output:n});return Object.getOwnPropertyDescriptor(e,"output_text")||Zu(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const s of r.output)if(s.type==="message"){for(const i of s.content)if(i.type==="output_text"&&i.parsed!==null)return i.parsed}return null}}),r}function _1(e,t){var n,r,s,i;return((r=(n=e.text)==null?void 0:n.format)==null?void 0:r.type)!=="json_schema"?null:"$parseRaw"in((s=e.text)==null?void 0:s.format)?((i=e.text)==null?void 0:i.format).$parseRaw(t):JSON.parse(t)}function w1(e){var t;return!!lf((t=e.text)==null?void 0:t.format)}function S1(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function E1(e,t){return e.find(n=>n.type==="function"&&n.name===t)}function b1(e,t){const n=E1(e.tools??[],t.name);return{...t,...t,parsed_arguments:S1(n)?n.$parseRaw(t.arguments):n!=null&&n.strict?JSON.parse(t.arguments):null}}function Zu(e){const t=[];for(const n of e.output)if(n.type==="message")for(const r of n.content)r.type==="output_text"&&t.push(r.text);e.output_text=t.join("")}var gr,Xi,dn,Zi,Ah,Oh,Rh,Th;class xf extends cf{constructor(t){super(),gr.add(this),Xi.set(this,void 0),dn.set(this,void 0),Zi.set(this,void 0),U(this,Xi,t)}static createResponse(t,n,r){const s=new xf(n);return s._run(()=>s._createOrRetrieveResponse(t,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createOrRetrieveResponse(t,n,r){var o;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),w(this,gr,"m",Ah).call(this);let i,a=null;"response_id"in n?(i=await t.responses.retrieve(n.response_id,{stream:!0},{...r,signal:this.controller.signal,stream:!0}),a=n.starting_after??null):i=await t.responses.create({...n,stream:!0},{...r,signal:this.controller.signal}),this._connected();for await(const l of i)w(this,gr,"m",Oh).call(this,l,a);if((o=i.controller.signal)!=null&&o.aborted)throw new dt;return w(this,gr,"m",Rh).call(this)}[(Xi=new WeakMap,dn=new WeakMap,Zi=new WeakMap,gr=new WeakSet,Ah=function(){this.ended||U(this,dn,void 0)},Oh=function(n,r){if(this.ended)return;const s=(a,o)=>{(r==null||o.sequence_number>r)&&this._emit(a,o)},i=w(this,gr,"m",Th).call(this,n);switch(s("event",n),n.type){case"response.output_text.delta":{const a=i.output[n.output_index];if(!a)throw new F(`missing output at index ${n.output_index}`);if(a.type==="message"){const o=a.content[n.content_index];if(!o)throw new F(`missing content at index ${n.content_index}`);if(o.type!=="output_text")throw new F(`expected content to be 'output_text', got ${o.type}`);s("response.output_text.delta",{...n,snapshot:o.text})}break}case"response.function_call_arguments.delta":{const a=i.output[n.output_index];if(!a)throw new F(`missing output at index ${n.output_index}`);a.type==="function_call"&&s("response.function_call_arguments.delta",{...n,snapshot:a.arguments});break}default:s(n.type,n);break}},Rh=function(){if(this.ended)throw new F("stream has ended, this shouldn't happen");const n=w(this,dn,"f");if(!n)throw new F("request ended without sending any events");U(this,dn,void 0);const r=k1(n,w(this,Xi,"f"));return U(this,Zi,r),r},Th=function(n){let r=w(this,dn,"f");if(!r){if(n.type!=="response.created")throw new F(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return r=U(this,dn,n.response),r}switch(n.type){case"response.output_item.added":{r.output.push(n.item);break}case"response.content_part.added":{const s=r.output[n.output_index];if(!s)throw new F(`missing output at index ${n.output_index}`);s.type==="message"&&s.content.push(n.part);break}case"response.output_text.delta":{const s=r.output[n.output_index];if(!s)throw new F(`missing output at index ${n.output_index}`);if(s.type==="message"){const i=s.content[n.content_index];if(!i)throw new F(`missing content at index ${n.content_index}`);if(i.type!=="output_text")throw new F(`expected content to be 'output_text', got ${i.type}`);i.text+=n.delta}break}case"response.function_call_arguments.delta":{const s=r.output[n.output_index];if(!s)throw new F(`missing output at index ${n.output_index}`);s.type==="function_call"&&(s.arguments+=n.delta);break}case"response.completed":{U(this,dn,n.response);break}}return r},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("event",s=>{const i=n.shift();i?i.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const i of n)i.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((i,a)=>n.push({resolve:i,reject:a})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const t=w(this,Zi,"f");if(!t)throw new F("stream ended without producing a ChatCompletion");return t}}function k1(e,t){return y1(e,t)}class uy extends ${list(t,n={},r){return this._client.getAPIList(R`/responses/${t}/input_items`,fe,{query:n,...r})}}class Cf extends ${constructor(){super(...arguments),this.inputItems=new uy(this._client)}create(t,n){return this._client.post("/responses",{body:t,...n,stream:t.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&Zu(r),r))}retrieve(t,n={},r){return this._client.get(R`/responses/${t}`,{query:n,...r,stream:(n==null?void 0:n.stream)??!1})._thenUnwrap(s=>("object"in s&&s.object==="response"&&Zu(s),s))}delete(t,n){return this._client.delete(R`/responses/${t}`,{...n,headers:L([{Accept:"*/*"},n==null?void 0:n.headers])})}parse(t,n){return this._client.responses.create(t,n)._thenUnwrap(r=>ly(r,t))}stream(t,n){return xf.createResponse(this._client,t,n)}cancel(t,n){return this._client.post(R`/responses/${t}/cancel`,n)}}Cf.InputItems=uy;class cy extends ${create(t,n,r){return this._client.post(R`/uploads/${t}/parts`,rr({body:n,...r},this._client))}}class Af extends ${constructor(){super(...arguments),this.parts=new cy(this._client)}create(t,n){return this._client.post("/uploads",{body:t,...n})}cancel(t,n){return this._client.post(R`/uploads/${t}/cancel`,n)}complete(t,n,r){return this._client.post(R`/uploads/${t}/complete`,{body:n,...r})}}Af.Parts=cy;const x1=async e=>{const t=await Promise.allSettled(e),n=t.filter(s=>s.status==="rejected");if(n.length){for(const s of n)console.error(s.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const s of t)s.status==="fulfilled"&&r.push(s.value);return r};class fy extends ${create(t,n,r){return this._client.post(R`/vector_stores/${t}/file_batches`,{body:n,...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(t,n,r){const{vector_store_id:s}=n;return this._client.get(R`/vector_stores/${s}/file_batches/${t}`,{...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}cancel(t,n,r){const{vector_store_id:s}=n;return this._client.post(R`/vector_stores/${s}/file_batches/${t}/cancel`,{...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(t,n,r){const s=await this.create(t,n);return await this.poll(t,s.id,r)}listFiles(t,n,r){const{vector_store_id:s,...i}=n;return this._client.getAPIList(R`/vector_stores/${s}/file_batches/${t}/files`,fe,{query:i,...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async poll(t,n,r){var i;const s=L([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((i=r==null?void 0:r.pollIntervalMs)==null?void 0:i.toString())??void 0}]);for(;;){const{data:a,response:o}=await this.retrieve(n,{vector_store_id:t},{...r,headers:s}).withResponse();switch(a.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const u=o.headers.get("openai-poll-after-ms");if(u){const c=parseInt(u);isNaN(c)||(l=c)}}await Si(l);break;case"failed":case"cancelled":case"completed":return a}}}async uploadAndPoll(t,{files:n,fileIds:r=[]},s){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=(s==null?void 0:s.maxConcurrency)??5,a=Math.min(i,n.length),o=this._client,l=n.values(),u=[...r];async function c(h){for(let g of h){const _=await o.files.create({file:g,purpose:"assistants"},s);u.push(_.id)}}const d=Array(a).fill(l).map(c);return await x1(d),await this.createAndPoll(t,{file_ids:u})}}class dy extends ${create(t,n,r){return this._client.post(R`/vector_stores/${t}/files`,{body:n,...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(t,n,r){const{vector_store_id:s}=n;return this._client.get(R`/vector_stores/${s}/files/${t}`,{...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(t,n,r){const{vector_store_id:s,...i}=n;return this._client.post(R`/vector_stores/${s}/files/${t}`,{body:i,...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t,n={},r){return this._client.getAPIList(R`/vector_stores/${t}/files`,fe,{query:n,...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(t,n,r){const{vector_store_id:s}=n;return this._client.delete(R`/vector_stores/${s}/files/${t}`,{...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(t,n,r){const s=await this.create(t,n,r);return await this.poll(t,s.id,r)}async poll(t,n,r){var i;const s=L([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((i=r==null?void 0:r.pollIntervalMs)==null?void 0:i.toString())??void 0}]);for(;;){const a=await this.retrieve(n,{vector_store_id:t},{...r,headers:s}).withResponse(),o=a.data;switch(o.status){case"in_progress":let l=5e3;if(r!=null&&r.pollIntervalMs)l=r.pollIntervalMs;else{const u=a.response.headers.get("openai-poll-after-ms");if(u){const c=parseInt(u);isNaN(c)||(l=c)}}await Si(l);break;case"failed":case"completed":return o}}}async upload(t,n,r){const s=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(t,{file_id:s.id},r)}async uploadAndPoll(t,n,r){const s=await this.upload(t,n,r);return await this.poll(t,s.id,r)}content(t,n,r){const{vector_store_id:s}=n;return this._client.getAPIList(R`/vector_stores/${s}/files/${t}/content`,zo,{...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}class Ho extends ${constructor(){super(...arguments),this.files=new dy(this._client),this.fileBatches=new fy(this._client)}create(t,n){return this._client.post("/vector_stores",{body:t,...n,headers:L([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(t,n){return this._client.get(R`/vector_stores/${t}`,{...n,headers:L([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(t,n,r){return this._client.post(R`/vector_stores/${t}`,{body:n,...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t={},n){return this._client.getAPIList("/vector_stores",fe,{query:t,...n,headers:L([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}delete(t,n){return this._client.delete(R`/vector_stores/${t}`,{...n,headers:L([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}search(t,n,r){return this._client.getAPIList(R`/vector_stores/${t}/search`,zo,{body:n,method:"post",...r,headers:L([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}Ho.Files=dy;Ho.FileBatches=fy;var _r,hy,ba;class py extends ${constructor(){super(...arguments),_r.add(this)}async unwrap(t,n,r=this._client.webhookSecret,s=300){return await this.verifySignature(t,n,r,s),JSON.parse(t)}async verifySignature(t,n,r=this._client.webhookSecret,s=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");w(this,_r,"m",hy).call(this,r);const i=L([n]).values,a=w(this,_r,"m",ba).call(this,i,"webhook-signature"),o=w(this,_r,"m",ba).call(this,i,"webhook-timestamp"),l=w(this,_r,"m",ba).call(this,i,"webhook-id"),u=parseInt(o,10);if(isNaN(u))throw new ys("Invalid webhook timestamp format");const c=Math.floor(Date.now()/1e3);if(c-u>s)throw new ys("Webhook timestamp is too old");if(u>c+s)throw new ys("Webhook timestamp is too new");const d=a.split(" ").map(S=>S.startsWith("v1,")?S.substring(3):S),h=r.startsWith("whsec_")?Buffer.from(r.replace("whsec_",""),"base64"):Buffer.from(r,"utf-8"),g=l?`${l}.${o}.${t}`:`${o}.${t}`,_=await crypto.subtle.importKey("raw",h,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const S of d)try{const O=Buffer.from(S,"base64");if(await crypto.subtle.verify("HMAC",_,O,new TextEncoder().encode(g)))return}catch{continue}throw new ys("The given webhook signature does not match the expected signature")}}_r=new WeakSet,hy=function(t){if(typeof t!="string"||t.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},ba=function(t,n){if(!t)throw new Error("Headers are required");const r=t.get(n);if(r==null)throw new Error(`Missing required header: ${n}`);return r};var ec,Of,ka,my;class H{constructor({baseURL:t=mr("OPENAI_BASE_URL"),apiKey:n=mr("OPENAI_API_KEY"),organization:r=mr("OPENAI_ORG_ID")??null,project:s=mr("OPENAI_PROJECT_ID")??null,webhookSecret:i=mr("OPENAI_WEBHOOK_SECRET")??null,...a}={}){if(ec.add(this),ka.set(this,void 0),this.completions=new Yv(this),this.chat=new hf(this),this.embeddings=new qv(this),this.files=new Xv(this),this.images=new sy(this),this.audio=new bi(this),this.moderations=new ay(this),this.models=new iy(this),this.fineTuning=new rs(this),this.graders=new bf(this),this.vectorStores=new Ho(this),this.webhooks=new py(this),this.beta=new ki(this),this.batches=new Uv(this),this.uploads=new Af(this),this.responses=new Cf(this),this.realtime=new kf(this),this.conversations=new vf(this),this.evals=new _f(this),this.containers=new gf(this),n===void 0)throw new F("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const o={apiKey:n,organization:r,project:s,webhookSecret:i,...a,baseURL:t||"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&xE())throw new F(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=o.baseURL,this.timeout=o.timeout??Of.DEFAULT_TIMEOUT,this.logger=o.logger??console;const l="warn";this.logLevel=l,this.logLevel=ph(o.logLevel,"ClientOptions.logLevel",this)??ph(mr("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??l,this.fetchOptions=o.fetchOptions,this.maxRetries=o.maxRetries??2,this.fetch=o.fetch??TE(),U(this,ka,DE),this._options=o,this.apiKey=typeof n=="string"?n:"Missing Key",this.organization=r,this.project=s,this.webhookSecret=i}withOptions(t){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...t})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){}async authHeaders(t){return L([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(t){return FE(t,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${vr}`}defaultIdempotencyKey(){return`stainless-node-retry-${Wg()}`}makeStatusError(t,n,r,s){return Ae.generate(t,n,r,s)}async _callApiKey(){const t=this._options.apiKey;if(typeof t!="function")return!1;let n;try{n=await t()}catch(r){throw r instanceof F?r:new F(`Failed to get token from 'apiKey' function: ${r.message}`,{cause:r})}if(typeof n!="string"||!n)throw new F(`Expected 'apiKey' function argument to return a string but it returned ${n}`);return this.apiKey=n,!0}buildURL(t,n,r){const s=!w(this,ec,"m",my).call(this)&&r||this.baseURL,i=wE(t)?new URL(t):new URL(s+(s.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),a=this.defaultQuery();return SE(a)||(n={...a,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(i.search=this.stringifyQuery(n)),i.toString()}async prepareOptions(t){await this._callApiKey()}async prepareRequest(t,{url:n,options:r}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(s=>({method:t,path:n,...s})))}request(t,n=null){return new Uo(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,r){var m,f;const s=await t,i=s.maxRetries??this.maxRetries;n==null&&(n=i),await this.prepareOptions(s);const{req:a,url:o,timeout:l}=await this.buildRequest(s,{retryCount:i-n});await this.prepareRequest(a,{url:o,options:s});const u="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),c=r===void 0?"":`, retryOf: ${r}`,d=Date.now();if(Ee(this).debug(`[${u}] sending request`,Fn({retryOfRequestLogID:r,method:s.method,url:o,options:s,headers:a.headers})),(m=s.signal)!=null&&m.aborted)throw new dt;const h=new AbortController,g=await this.fetchWithTimeout(o,a,l,h).catch(Vu),_=Date.now();if(g instanceof globalThis.Error){const p=`retrying, ${n} attempts remaining`;if((f=s.signal)!=null&&f.aborted)throw new dt;const v=zu(g)||/timed? ?out/i.test(String(g)+("cause"in g?String(g.cause):""));if(n)return Ee(this).info(`[${u}] connection ${v?"timed out":"failed"} - ${p}`),Ee(this).debug(`[${u}] connection ${v?"timed out":"failed"} (${p})`,Fn({retryOfRequestLogID:r,url:o,durationMs:_-d,message:g.message})),this.retryRequest(s,n,r??u);throw Ee(this).info(`[${u}] connection ${v?"timed out":"failed"} - error; no more retries left`),Ee(this).debug(`[${u}] connection ${v?"timed out":"failed"} (error; no more retries left)`,Fn({retryOfRequestLogID:r,url:o,durationMs:_-d,message:g.message})),v?new sf:new $o({cause:g})}const S=[...g.headers.entries()].filter(([p])=>p==="x-request-id").map(([p,v])=>", "+p+": "+JSON.stringify(v)).join(""),O=`[${u}${c}${S}] ${a.method} ${o} ${g.ok?"succeeded":"failed"} with status ${g.status} in ${_-d}ms`;if(!g.ok){const p=await this.shouldRetry(g);if(n&&p){const B=`retrying, ${n} attempts remaining`;return await PE(g.body),Ee(this).info(`${O} - ${B}`),Ee(this).debug(`[${u}] response error (${B})`,Fn({retryOfRequestLogID:r,url:g.url,status:g.status,headers:g.headers,durationMs:_-d})),this.retryRequest(s,n,r??u,g.headers)}const v=p?"error; no more retries left":"error; not retryable";Ee(this).info(`${O} - ${v}`);const k=await g.text().catch(B=>Vu(B).message),C=kE(k),b=C?void 0:k;throw Ee(this).debug(`[${u}] response error (${v})`,Fn({retryOfRequestLogID:r,url:g.url,status:g.status,headers:g.headers,message:b,durationMs:Date.now()-d})),this.makeStatusError(g.status,C,b,g.headers)}return Ee(this).info(O),Ee(this).debug(`[${u}] response start`,Fn({retryOfRequestLogID:r,url:g.url,status:g.status,headers:g.headers,durationMs:_-d})),{response:g,options:s,controller:h,requestLogID:u,retryOfRequestLogID:r,startTime:d}}getAPIList(t,n,r){return this.requestAPIList(n,{method:"get",path:t,...r})}requestAPIList(t,n){const r=this.makeRequest(n,null,void 0);return new YE(this,r,t)}async fetchWithTimeout(t,n,r,s){const{signal:i,method:a,...o}=n||{};i&&i.addEventListener("abort",()=>s.abort());const l=setTimeout(()=>s.abort(),r),u=globalThis.ReadableStream&&o.body instanceof globalThis.ReadableStream||typeof o.body=="object"&&o.body!==null&&Symbol.asyncIterator in o.body,c={signal:s.signal,...u?{duplex:"half"}:{},method:"GET",...o};a&&(c.method=a.toUpperCase());try{return await this.fetch.call(void 0,t,c)}finally{clearTimeout(l)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r,s){let i;const a=s==null?void 0:s.get("retry-after-ms");if(a){const l=parseFloat(a);Number.isNaN(l)||(i=l)}const o=s==null?void 0:s.get("retry-after");if(o&&!i){const l=parseFloat(o);Number.isNaN(l)?i=Date.parse(o)-Date.now():i=l*1e3}if(!(i&&0<=i&&i<60*1e3)){const l=t.maxRetries??this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(n,l)}return await Si(i),this.makeRequest(t,n-1,r)}calculateDefaultRetryTimeoutMillis(t,n){const i=n-t,a=Math.min(.5*Math.pow(2,i),8),o=1-Math.random()*.25;return a*o*1e3}async buildRequest(t,{retryCount:n=0}={}){const r={...t},{method:s,path:i,query:a,defaultBaseURL:o}=r,l=this.buildURL(i,a,o);"timeout"in r&&bE("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const{bodyHeaders:u,body:c}=this.buildBody({options:r}),d=await this.buildHeaders({options:t,method:s,bodyHeaders:u,retryCount:n});return{req:{method:s,headers:d,...r.signal&&{signal:r.signal},...globalThis.ReadableStream&&c instanceof globalThis.ReadableStream&&{duplex:"half"},...c&&{body:c},...this.fetchOptions??{},...r.fetchOptions??{}},url:l,timeout:r.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:r,retryCount:s}){let i={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=t.idempotencyKey);const a=L([i,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(s),...t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{},...RE(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(t),this._options.defaultHeaders,r,t.headers]);return this.validateHeaders(a),a.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const r=L([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&r.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:rv(t)}:w(this,ka,"f").call(this,{body:t,headers:r})}}Of=H,ka=new WeakMap,ec=new WeakSet,my=function(){return this.baseURL!=="https://api.openai.com/v1"};H.OpenAI=Of;H.DEFAULT_TIMEOUT=6e5;H.OpenAIError=F;H.APIError=Ae;H.APIConnectionError=$o;H.APIConnectionTimeoutError=sf;H.APIUserAbortError=dt;H.NotFoundError=Kg;H.ConflictError=Jg;H.RateLimitError=Qg;H.BadRequestError=Hg;H.AuthenticationError=Gg;H.InternalServerError=Xg;H.PermissionDeniedError=Yg;H.UnprocessableEntityError=qg;H.InvalidWebhookSignatureError=ys;H.toFile=e1;H.Completions=Yv;H.Chat=hf;H.Embeddings=qv;H.Files=Xv;H.Images=sy;H.Audio=bi;H.Moderations=ay;H.Models=iy;H.FineTuning=rs;H.Graders=bf;H.VectorStores=Ho;H.Webhooks=py;H.Beta=ki;H.Batches=Uv;H.Uploads=Af;H.Responses=Cf;H.Realtime=kf;H.Conversations=vf;H.Evals=_f;H.Containers=gf;const C1=e=>{if(e.length===0)return"None";const t=[];return e.forEach(n=>{n.keyEvents&&Array.isArray(n.keyEvents)&&n.keyEvents.forEach(r=>{t.push(`${r.title} (${r.shortDescription})`)}),n.minorEvents&&Array.isArray(n.minorEvents)&&n.minorEvents.forEach(r=>{t.push(`${r.title} (${r.shortDescription})`)}),t.push(`Events in ${n.city} (already covered by ${n.title})`)}),t.join(", ")},A1=(e,t)=>{const n=Object.entries(e.userPreferences.interestTypes).filter(([c,d])=>d).map(([c,d])=>c).join(", "),r=e.userPreferences.musicProfile||"No music preferences specified",s=e.userPreferences.freeTextInterests||"No additional interests specified",i=C1(t),a=new Date(e.dateRange.startDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),o=new Date(e.dateRange.endDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),l=`From ${a} to ${o}`,u=`User taste profile (provided by the user):
1. Interested in: ${n}
2. Music profile: ${r}
3. Free text: ${s}
4. Excluded events: ${i}
Date range:
${l}`;return console.log(" [USER_PROMPT] Generated user prompt:",u),u},O1=()=>`You are an expert cultural travel curator.
Your role is to generate highly engaging, structured Trip Bundle suggestions that help users experience multiple interesting events in a single 48 day trip.
Users don't want generic destinations ("5 days in Paris"). They want trips anchored around passions  concerts, sports, art, design, culinary, or local culture  with multiple events in one destination that create a rich, memorable experience.

### Input

The user will provide:

1. Interested in: a list of themes (e.g. concerts, sports, art, design, culinary, local events)
2. Music taste profile: free-text description (from Spotify data or self-description)
3. Free text: optional extra context (style, vibe, constraints, mood, etc.)
4. Date range: the window in which trips should occur

### Task

* Generate 45 Trip Bundles, each in a single city, lasting 48 days.
* Each bundle must include at least 2 major anchor events (e.g. concerts, sports matches, exhibitions, festivals, design weeks).
* Optionally add 02 minor/local events (e.g. neighborhood fairs, pop-up shows, food markets).
* Match events to the user's stated interests and musical taste (use top artists, genres, and diversity level if provided).
* Ensure all events fall within the user's date range and are not already sold out.
* Aim for amazing bundles that cater to the user's interests and will make for an amazing travel experience.

### Output Format (CRITICAL - MUST BE VALID JSON)

You MUST return a valid JSON object that matches this exact TypeScript interface:

\`\`\`typescript
interface GPTResponse {
  bundles: TripBundle[];
}

interface TripBundle {
  imageUrl: string;
  title: string;
  description: string;
  city: string;
  dateRange: {
    startDate: number; // Unix timestamp
    endDate: number;   // Unix timestamp
  };
  keyEvents: Event[];
  minorEvents: Event[];
}

interface Event {
  title: string;
  fullDescription: string;
  shortDescription: string;
  interestType: 'concerts' | 'sports' | 'artDesign' | 'localCulture' | 'culinary';
  dateRange: {
    startDate: number; // Unix timestamp
    endDate: number;   // Unix timestamp
  };
  eventWebsite?: string;
}
\`\`\`

### JSON Response Requirements

1. **ONLY return valid JSON** - no markdown, no explanations, no extra text
2. **Use Unix timestamps** for all dates (milliseconds since epoch)
3. **Include 4-5 bundles** in the response
4. **Each bundle must have 2-3 keyEvents and 0-2 minorEvents**
5. **Use realistic city names** (e.g., "Berlin, Germany", "Amsterdam, Netherlands")
6. **Generate appropriate imageUrl** using Unsplash format: "https://source.unsplash.com/random/800x600/?{city-name}-{theme}"
7. **Match interestType** to user preferences: concerts, sports, artDesign, localCulture, culinary
8. **Ensure descriptions are engaging** and highlight why the trip is special

### Example JSON Structure:
\`\`\`json
{
  "bundles": [
    {
      "imageUrl": "https://source.unsplash.com/random/800x600/?berlin-electronic-music",
      "title": "Berlin: Electronic Beats & Contemporary Art",
      "description": "Immerse yourself in Berlin's underground electronic scene while exploring cutting-edge contemporary art galleries and design spaces.",
      "city": "Berlin, Germany",
      "dateRange": {
        "startDate": 1730419200000,
        "endDate": 1730937600000
      },
      "keyEvents": [
        {
          "title": "Berlin Atonal Festival",
          "fullDescription": "A cutting-edge festival showcasing experimental electronic music and audiovisual performances in industrial venues across Berlin.",
          "shortDescription": "Experimental electronic music festival in industrial Berlin venues.",
          "interestType": "concerts",
          "dateRange": {
            "startDate": 1730419200000,
            "endDate": 1730505600000
          },
          "eventWebsite": "https://berlinatonal.com"
        }
      ],
      "minorEvents": []
    }
  ]
}
\`\`\`

Remember: Return ONLY the JSON object, nothing else.`,R1=new H({apiKey:"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",dangerouslyAllowBrowser:!0}),T1=e=>{console.log(" [AI_PARSER] Parsing AI JSON response..."),console.log(" [AI_PARSER] Raw response length:",e.length);try{let t=e.trim();t.startsWith("```json")?t=t.replace(/^```json\s*/,"").replace(/\s*```$/,""):t.startsWith("```")&&(t=t.replace(/^```\s*/,"").replace(/\s*```$/,""));const n=JSON.parse(t);if(!n.bundles||!Array.isArray(n.bundles))throw new Error("Invalid response structure: missing or invalid bundles array");return console.log(` [AI_PARSER] Successfully parsed ${n.bundles.length} bundles from JSON`),n.bundles.forEach((r,s)=>{console.log(` [AI_PARSER] Bundle ${s+1}: ${r.title} (${r.city})`)}),n}catch(t){throw console.error(" [AI_PARSER] Failed to parse JSON response:",t),console.error(" [AI_PARSER] Raw response that failed:",e.substring(0,500)+"..."),new Error(`Failed to parse AI response as JSON: ${t instanceof Error?t.message:"Unknown error"}`)}},P1=async e=>{var t,n,r;console.log(" [REAL_AI] Calling OpenAI GPT-4o-mini...");try{const s=O1();console.log(" [REAL_AI] Sending request to OpenAI..."),console.log(" [REAL_AI] Model: gpt-4o-mini"),console.log(" [REAL_AI] System prompt length:",s.length),console.log(" [REAL_AI] User prompt length:",e.length);const i=await R1.chat.completions.create({model:"gpt-4o-mini",messages:[{role:"system",content:s},{role:"user",content:e}],temperature:.7,max_tokens:4e3,response_format:{type:"json_object"}}),a=(n=(t=i.choices[0])==null?void 0:t.message)==null?void 0:n.content;if(!a)throw new Error("No response content from OpenAI");console.log(" [REAL_AI] Received response from OpenAI"),console.log(" [REAL_AI] Response length:",a.length),console.log(" [REAL_AI] Tokens used:",((r=i.usage)==null?void 0:r.total_tokens)||"unknown");const o=T1(a);if(o.bundles.length===0)throw console.warn(" [REAL_AI] No bundles were returned from AI response"),new Error("AI returned empty bundles array");return console.log(` [REAL_AI] Successfully generated ${o.bundles.length} trip bundles`),o}catch(s){throw console.error(" [REAL_AI] Error calling OpenAI:",s),s}},gy=async(e,t=!0,n=[])=>{console.log(" Generating trip bundles..."),console.log(" Mode:",t?"Mock AI":"Real AI"),console.log(" User preferences:",Object.keys(e.userPreferences.interestTypes).filter(s=>e.userPreferences.interestTypes[s].isEnabled)),console.log(" Date range:",`${e.dateRange.startDate} to ${e.dateRange.endDate}`),console.log(" Existing bundles to filter:",n.map(s=>s.title));const r=A1(e,n);if(console.log(" Generated user prompt for AI"),t){console.log(" Simulating AI processing time (5 seconds)..."),await new Promise(a=>setTimeout(a,5e3)),console.log(" Calling Mock AI Service...");const s=await yE(r,n);console.log(` Mock AI generated ${s.length} new trip bundles`);const i={bundles:s};return console.log(" GPTResponse:",JSON.stringify(i,null,2)),i}else{console.log(" Calling Real AI Service...");const{bundles:s}=await P1(r);console.log(` Real AI generated ${s.length} new trip bundles`);const i={bundles:s};return console.log(" GPTResponse:",JSON.stringify(i,null,2)),i}},D1=()=>{console.log(" Initializing app from storage...");const e=dE(),t=hE(),n=pE(),r=rf();j.setUserPreferences(e),t&&j.setDateRange(t),j.setPromptsUsage(r),j.setCurrentScreen(n?"bundles":"firstTime"),console.log(" App initialized",{fteCompleted:n,promptsUsage:r})},Rf=async(e,t,n=!0,r=[])=>{if(!ma()){console.warn(" Daily prompt limit reached");return}console.log(" Starting bundle generation...",{preferences:e,dateRange:t,isMock:n}),j.setCurrentScreen("thinking"),j.setLoading(!0);try{const i=await gy({userPreferences:e,dateRange:t},n,r),a=$g();j.setPromptsUsage(a),j.setBundles(i.bundles),j.setCurrentScreen("bundles"),console.log(" Bundles generated successfully",{bundleCount:i.bundles.length,newUsage:a})}catch(s){console.error(" Error generating bundles:",s),j.setCurrentScreen("bundles")}finally{j.setLoading(!1)}},I1=async(e,t,n=!0)=>{console.log(" Completing first-time setup...",{preferences:e,dateRange:t}),Fs(e),so(t),mE(),j.setUserPreferences(e),j.setDateRange(t),await Rf(e,t,n)},N1=async(e,t,n=!0)=>{console.log(" Updating preferences...",{preferences:e,dateRange:t}),Fs(e),so(t),j.setUserPreferences(e),j.setDateRange(t),await Rf(e,t,n)},Ml=e=>{console.log(" Navigating to screen:",e),j.setCurrentScreen(e)},Ph=e=>{console.log(" Selecting bundle:",e==null?void 0:e.title),j.setSelectedBundle(e),e&&j.setCurrentScreen("bundlePage")},M1=async(e=!0)=>{if(!j.canLoadMore){console.warn(" Cannot load more bundles - limit reached or no API calls remaining");return}if(!j.userPreferences||!j.dateRange){console.warn(" Cannot load more bundles - no user preferences or date range");return}console.log(" Loading more bundles...",{currentCount:j.bundlesLoaded,maxBundles:j.maxBundles}),j.setLoading(!0);try{const t=j.bundles,n={userPreferences:j.userPreferences,dateRange:j.dateRange},r=await gy(n,e,t),s=$g();j.setPromptsUsage(s),j.addBundles(r.bundles),console.log(" More bundles loaded successfully",{newBundles:r.bundles.length,totalBundles:j.bundles.length,newUsage:s})}catch(t){console.error(" Error loading more bundles:",t)}finally{j.setLoading(!1)}},j1=async(e=!0)=>{if(!j.userPreferences||!j.dateRange){console.warn(" Cannot generate new bundles - no user preferences or date range");return}console.log(" Generating new bundles from stored preferences..."),await Rf(j.userPreferences,j.dateRange,e)},hs=!1;console.log(" [APP] AI Mode:","REAL (Costs Money)");console.log(" [APP] VITE_MOCK env var:",void 0);const L1=iE(()=>{re.useEffect(()=>{D1()},[]);const e=async(u,c)=>{await I1(u,c,hs)},t=u=>{Ph(u)},n=()=>{Ml("bundles"),Ph(null)},r=()=>{Ml("preferences")},s=async(u,c)=>{await N1(u,c,hs)},i=()=>{Ml("bundles")},a=async()=>{await M1(hs)},o=async()=>{await j1(hs)},l=()=>{switch(j.currentScreen){case"firstTime":return E.jsx(xl,{initialPreferences:j.userPreferences||li(),initialDateRange:j.dateRange||{startDate:Date.now(),endDate:Date.now()+4*30*24*60*60*1e3},promptsUsage:j.promptsUsage,onSave:e,onCancel:()=>{},isFTEMode:!0});case"thinking":return E.jsx(lE,{});case"bundles":return E.jsx(uE,{bundles:j.bundles,promptsUsage:j.promptsUsage,onBundleSelect:t,onOpenPreferences:r,onOpenDevelopment:void 0,onLoadMore:a,onGenerateNew:o,canLoadMore:j.canLoadMore,hasUserData:j.hasCompletedSetup,isLoading:j.isLoading,isMockMode:hs});case"bundlePage":return j.selectedBundle?E.jsx(cE,{bundle:j.selectedBundle,onBack:n}):null;case"preferences":return j.userPreferences&&j.dateRange?E.jsx(xl,{initialPreferences:j.userPreferences,initialDateRange:j.dateRange,promptsUsage:j.promptsUsage,onSave:s,onCancel:i}):null;case"development":return null;default:return E.jsx(xl,{initialPreferences:j.userPreferences||li(),initialDateRange:j.dateRange||{startDate:Date.now(),endDate:Date.now()+4*30*24*60*60*1e3},promptsUsage:j.promptsUsage,onSave:e,onCancel:()=>{},isFTEMode:!0})}};return E.jsx("div",{className:"app",children:l()})});Ll.createRoot(document.getElementById("root")).render(E.jsx(jl.StrictMode,{children:E.jsx(L1,{})}));
